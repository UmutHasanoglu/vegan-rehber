function S0(e,n){for(var i=0;i<n.length;i++){const l=n[i];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(l,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I0={exports:{}},wa={},v0={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),bh=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),kh=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Fh=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),jh=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),Hc=Symbol.iterator;function Vh(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N0=Object.assign,_0={};function Ji(e,n,i){this.props=e,this.context=n,this.refs=_0,this.updater=i||T0}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M0(){}M0.prototype=Ji.prototype;function _u(e,n,i){this.props=e,this.context=n,this.refs=_0,this.updater=i||T0}var Mu=_u.prototype=new M0;Mu.constructor=_u;N0(Mu,Ji.prototype);Mu.isPureReactComponent=!0;var Vc=Array.isArray,O0=Object.prototype.hasOwnProperty,Ou={current:null},R0={key:!0,ref:!0,__self:!0,__source:!0};function D0(e,n,i){var l,c={},f=null,p=null;if(n!=null)for(l in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(f=""+n.key),n)O0.call(n,l)&&!R0.hasOwnProperty(l)&&(c[l]=n[l]);var y=arguments.length-2;if(y===1)c.children=i;else if(1<y){for(var w=Array(y),x=0;x<y;x++)w[x]=arguments[x+2];c.children=w}if(e&&e.defaultProps)for(l in y=e.defaultProps,y)c[l]===void 0&&(c[l]=y[l]);return{$$typeof:$s,type:e,key:f,ref:p,props:c,_owner:Ou.current}}function Wh(e,n){return{$$typeof:$s,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Ru(e){return typeof e=="object"&&e!==null&&e.$$typeof===$s}function Gh(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var Wc=/\/+/g;function il(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Gh(""+e.key):n.toString(36)}function Do(e,n,i,l,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case $s:case bh:p=!0}}if(p)return p=e,c=c(p),e=l===""?"."+il(p,0):l,Vc(c)?(i="",e!=null&&(i=e.replace(Wc,"$&/")+"/"),Do(c,n,i,"",function(x){return x})):c!=null&&(Ru(c)&&(c=Wh(c,i+(!c.key||p&&p.key===c.key?"":(""+c.key).replace(Wc,"$&/")+"/")+e)),n.push(c)),1;if(p=0,l=l===""?".":l+":",Vc(e))for(var y=0;y<e.length;y++){f=e[y];var w=l+il(f,y);p+=Do(f,n,i,w,c)}else if(w=Vh(e),typeof w=="function")for(e=w.call(e),y=0;!(f=e.next()).done;)f=f.value,w=l+il(f,y++),p+=Do(f,n,i,w,c);else if(f==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function po(e,n,i){if(e==null)return e;var l=[],c=0;return Do(e,l,"","",function(f){return n.call(i,f,c++)}),l}function Yh(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},bo={transition:null},Xh={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:bo,ReactCurrentOwner:Ou};function b0(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:po,forEach:function(e,n,i){po(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return po(e,function(){n++}),n},toArray:function(e){return po(e,function(n){return n})||[]},only:function(e){if(!Ru(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Ji;Le.Fragment=Lh;Le.Profiler=Bh;Le.PureComponent=_u;Le.StrictMode=kh;Le.Suspense=zh;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xh;Le.act=b0;Le.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=N0({},e.props),c=e.key,f=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,p=Ou.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(w in n)O0.call(n,w)&&!R0.hasOwnProperty(w)&&(l[w]=n[w]===void 0&&y!==void 0?y[w]:n[w])}var w=arguments.length-2;if(w===1)l.children=i;else if(1<w){y=Array(w);for(var x=0;x<w;x++)y[x]=arguments[x+2];l.children=y}return{$$typeof:$s,type:e.type,key:c,ref:f,props:l,_owner:p}};Le.createContext=function(e){return e={$$typeof:Fh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ph,_context:e},e.Consumer=e};Le.createElement=D0;Le.createFactory=function(e){var n=D0.bind(null,e);return n.type=e,n};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Uh,render:e}};Le.isValidElement=Ru;Le.lazy=function(e){return{$$typeof:Hh,_payload:{_status:-1,_result:e},_init:Yh}};Le.memo=function(e,n){return{$$typeof:jh,type:e,compare:n===void 0?null:n}};Le.startTransition=function(e){var n=bo.transition;bo.transition={};try{e()}finally{bo.transition=n}};Le.unstable_act=b0;Le.useCallback=function(e,n){return tn.current.useCallback(e,n)};Le.useContext=function(e){return tn.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};Le.useEffect=function(e,n){return tn.current.useEffect(e,n)};Le.useId=function(){return tn.current.useId()};Le.useImperativeHandle=function(e,n,i){return tn.current.useImperativeHandle(e,n,i)};Le.useInsertionEffect=function(e,n){return tn.current.useInsertionEffect(e,n)};Le.useLayoutEffect=function(e,n){return tn.current.useLayoutEffect(e,n)};Le.useMemo=function(e,n){return tn.current.useMemo(e,n)};Le.useReducer=function(e,n,i){return tn.current.useReducer(e,n,i)};Le.useRef=function(e){return tn.current.useRef(e)};Le.useState=function(e){return tn.current.useState(e)};Le.useSyncExternalStore=function(e,n,i){return tn.current.useSyncExternalStore(e,n,i)};Le.useTransition=function(){return tn.current.useTransition()};Le.version="18.3.1";v0.exports=Le;var ce=v0.exports;const Zh=Nu(ce),Qh=S0({__proto__:null,default:Zh},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=ce,qh=Symbol.for("react.element"),Jh=Symbol.for("react.fragment"),$h=Object.prototype.hasOwnProperty,eg=Kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tg={key:!0,ref:!0,__self:!0,__source:!0};function L0(e,n,i){var l,c={},f=null,p=null;i!==void 0&&(f=""+i),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(p=n.ref);for(l in n)$h.call(n,l)&&!tg.hasOwnProperty(l)&&(c[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps,n)c[l]===void 0&&(c[l]=n[l]);return{$$typeof:qh,type:e,key:f,ref:p,props:c,_owner:eg.current}}wa.Fragment=Jh;wa.jsx=L0;wa.jsxs=L0;I0.exports=wa;var $=I0.exports,k0={exports:{}},vn={},B0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(re,q){var pe=re.length;re.push(q);e:for(;0<pe;){var Te=pe-1>>>1,ee=re[Te];if(0<c(ee,q))re[Te]=q,re[pe]=ee,pe=Te;else break e}}function i(re){return re.length===0?null:re[0]}function l(re){if(re.length===0)return null;var q=re[0],pe=re.pop();if(pe!==q){re[0]=pe;e:for(var Te=0,ee=re.length,De=ee>>>1;Te<De;){var Ne=2*(Te+1)-1,Ye=re[Ne],ue=Ne+1,$e=re[ue];if(0>c(Ye,pe))ue<ee&&0>c($e,Ye)?(re[Te]=$e,re[ue]=pe,Te=ue):(re[Te]=Ye,re[Ne]=pe,Te=Ne);else if(ue<ee&&0>c($e,pe))re[Te]=$e,re[ue]=pe,Te=ue;else break e}}return q}function c(re,q){var pe=re.sortIndex-q.sortIndex;return pe!==0?pe:re.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var p=Date,y=p.now();e.unstable_now=function(){return p.now()-y}}var w=[],x=[],S=1,I=null,L=3,U=!1,G=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(re){for(var q=i(x);q!==null;){if(q.callback===null)l(x);else if(q.startTime<=re)l(x),q.sortIndex=q.expirationTime,n(w,q);else break;q=i(x)}}function V(re){if(H=!1,O(re),!G)if(i(w)!==null)G=!0,Se(ae);else{var q=i(x);q!==null&&Z(V,q.startTime-re)}}function ae(re,q){G=!1,H&&(H=!1,D(M),M=-1),U=!0;var pe=L;try{for(O(q),I=i(w);I!==null&&(!(I.expirationTime>q)||re&&!oe());){var Te=I.callback;if(typeof Te=="function"){I.callback=null,L=I.priorityLevel;var ee=Te(I.expirationTime<=q);q=e.unstable_now(),typeof ee=="function"?I.callback=ee:I===i(w)&&l(w),O(q)}else l(w);I=i(w)}if(I!==null)var De=!0;else{var Ne=i(x);Ne!==null&&Z(V,Ne.startTime-q),De=!1}return De}finally{I=null,L=pe,U=!1}}var J=!1,k=null,M=-1,N=5,W=-1;function oe(){return!(e.unstable_now()-W<N)}function Y(){if(k!==null){var re=e.unstable_now();W=re;var q=!0;try{q=k(!0,re)}finally{q?le():(J=!1,k=null)}}else J=!1}var le;if(typeof _=="function")le=function(){_(Y)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,F=me.port2;me.port1.onmessage=Y,le=function(){F.postMessage(null)}}else le=function(){K(Y,0)};function Se(re){k=re,J||(J=!0,le())}function Z(re,q){M=K(function(){re(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){G||U||(G=!0,Se(ae))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return i(w)},e.unstable_next=function(re){switch(L){case 1:case 2:case 3:var q=3;break;default:q=L}var pe=L;L=q;try{return re()}finally{L=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,q){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=L;L=re;try{return q()}finally{L=pe}},e.unstable_scheduleCallback=function(re,q,pe){var Te=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Te+pe:Te):pe=Te,re){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=pe+ee,re={id:S++,callback:q,priorityLevel:re,startTime:pe,expirationTime:ee,sortIndex:-1},pe>Te?(re.sortIndex=pe,n(x,re),i(w)===null&&re===i(x)&&(H?(D(M),M=-1):H=!0,Z(V,pe-Te))):(re.sortIndex=ee,n(w,re),G||U||(G=!0,Se(ae))),re},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(re){var q=L;return function(){var pe=L;L=q;try{return re.apply(this,arguments)}finally{L=pe}}}})(P0);B0.exports=P0;var ng=B0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=ce,In=ng;function ne(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F0=new Set,Ls={};function di(e,n){Gi(e,n),Gi(e+"Capture",n)}function Gi(e,n){for(Ls[e]=n,e=0;e<n.length;e++)F0.add(n[e])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=Object.prototype.hasOwnProperty,ig=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gc={},Yc={};function sg(e){return Rl.call(Yc,e)?!0:Rl.call(Gc,e)?!1:ig.test(e)?Yc[e]=!0:(Gc[e]=!0,!1)}function og(e,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ag(e,n,i,l){if(n===null||typeof n>"u"||og(e,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function nn(e,n,i,l,c,f,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=p}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Wt[n]=new nn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Du=/[\-:]([a-z])/g;function bu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Du,bu);Wt[n]=new nn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Du,bu);Wt[n]=new nn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Du,bu);Wt[n]=new nn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lu(e,n,i,l){var c=Wt.hasOwnProperty(n)?Wt[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ag(n,i,c,l)&&(i=null),l||c===null?sg(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,l=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,l?e.setAttributeNS(l,n,i):e.setAttribute(n,i))))}var mr=rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),z0=Symbol.for("react.context"),Bu=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),j0=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,sl;function Cs(e){if(sl===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);sl=n&&n[1]||""}return`
`+sl+e}var ol=!1;function al(e,n){if(!e||ol)return"";ol=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var l=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){l=x}e.call(n.prototype)}else{try{throw Error()}catch(x){l=x}e()}}catch(x){if(x&&l&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=l.stack.split(`
`),p=c.length-1,y=f.length-1;1<=p&&0<=y&&c[p]!==f[y];)y--;for(;1<=p&&0<=y;p--,y--)if(c[p]!==f[y]){if(p!==1||y!==1)do if(p--,y--,0>y||c[p]!==f[y]){var w=`
`+c[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=y);break}}}finally{ol=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Cs(e):""}function lg(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=al(e.type,!1),e;case 11:return e=al(e.type.render,!1),e;case 1:return e=al(e.type,!0),e;default:return""}}function kl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ni:return"Fragment";case Ti:return"Portal";case Dl:return"Profiler";case ku:return"StrictMode";case bl:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z0:return(e.displayName||"Context")+".Consumer";case U0:return(e._context.displayName||"Context")+".Provider";case Bu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pu:return n=e.displayName||null,n!==null?n:kl(e.type)||"Memo";case Tr:n=e._payload,e=e._init;try{return kl(e(n))}catch{}}return null}function ug(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kl(n);case 8:return n===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cg(e){var n=H0(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function mo(e){e._valueTracker||(e._valueTracker=cg(e))}function V0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=H0(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bl(e,n){var i=n.checked;return wt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Zc(e,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=jr(n.value!=null?n.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function W0(e,n){n=n.checked,n!=null&&Lu(e,"checked",n,!1)}function Pl(e,n){W0(e,n);var i=jr(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Fl(e,n.type,i):n.hasOwnProperty("defaultValue")&&Fl(e,n.type,jr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Qc(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Fl(e,n,i){(n!=="number"||Wo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Es=Array.isArray;function Ui(e,n,i,l){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+jr(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ul(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ne(91));return wt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ne(92));if(Es(i)){if(1<i.length)throw Error(ne(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:jr(i)}}function G0(e,n){var i=jr(n.value),l=jr(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function qc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Y0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Y0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wo,X0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ks(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fg=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){fg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),vs[n]=vs[e]})});function Z0(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||vs.hasOwnProperty(e)&&vs[e]?(""+n).trim():n+"px"}function Q0(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,c=Z0(i,n[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,c):e[i]=c}}var dg=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jl(e,n){if(n){if(dg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ne(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ne(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ne(62))}}function Hl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function Fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wl=null,zi=null,ji=null;function Jc(e){if(e=no(e)){if(typeof Wl!="function")throw Error(ne(280));var n=e.stateNode;n&&(n=Sa(n),Wl(e.stateNode,e.type,n))}}function K0(e){zi?ji?ji.push(e):ji=[e]:zi=e}function q0(){if(zi){var e=zi,n=ji;if(ji=zi=null,Jc(e),n)for(e=0;e<n.length;e++)Jc(n[e])}}function J0(e,n){return e(n)}function $0(){}var ll=!1;function ef(e,n,i){if(ll)return e(n,i);ll=!0;try{return J0(e,n,i)}finally{ll=!1,(zi!==null||ji!==null)&&($0(),q0())}}function Bs(e,n){var i=e.stateNode;if(i===null)return null;var l=Sa(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(ne(231,n,typeof i));return i}var Gl=!1;if(hr)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Gl=!1}function hg(e,n,i,l,c,f,p,y,w){var x=Array.prototype.slice.call(arguments,3);try{n.apply(i,x)}catch(S){this.onError(S)}}var Ts=!1,Go=null,Yo=!1,Yl=null,gg={onError:function(e){Ts=!0,Go=e}};function pg(e,n,i,l,c,f,p,y,w){Ts=!1,Go=null,hg.apply(gg,arguments)}function xg(e,n,i,l,c,f,p,y,w){if(pg.apply(this,arguments),Ts){if(Ts){var x=Go;Ts=!1,Go=null}else throw Error(ne(198));Yo||(Yo=!0,Yl=x)}}function hi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function tf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function $c(e){if(hi(e)!==e)throw Error(ne(188))}function mg(e){var n=e.alternate;if(!n){if(n=hi(e),n===null)throw Error(ne(188));return n!==e?null:e}for(var i=e,l=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return $c(c),e;if(f===l)return $c(c),n;f=f.sibling}throw Error(ne(188))}if(i.return!==l.return)i=c,l=f;else{for(var p=!1,y=c.child;y;){if(y===i){p=!0,i=c,l=f;break}if(y===l){p=!0,l=c,i=f;break}y=y.sibling}if(!p){for(y=f.child;y;){if(y===i){p=!0,i=f,l=c;break}if(y===l){p=!0,l=f,i=c;break}y=y.sibling}if(!p)throw Error(ne(189))}}if(i.alternate!==l)throw Error(ne(190))}if(i.tag!==3)throw Error(ne(188));return i.stateNode.current===i?e:n}function nf(e){return e=mg(e),e!==null?rf(e):null}function rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=rf(e);if(n!==null)return n;e=e.sibling}return null}var sf=In.unstable_scheduleCallback,e1=In.unstable_cancelCallback,wg=In.unstable_shouldYield,yg=In.unstable_requestPaint,Tt=In.unstable_now,Cg=In.unstable_getCurrentPriorityLevel,Uu=In.unstable_ImmediatePriority,of=In.unstable_UserBlockingPriority,Xo=In.unstable_NormalPriority,Eg=In.unstable_LowPriority,af=In.unstable_IdlePriority,ya=null,sr=null;function Ag(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:vg,Sg=Math.log,Ig=Math.LN2;function vg(e){return e>>>=0,e===0?32:31-(Sg(e)/Ig|0)|0}var yo=64,Co=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,c=e.suspendedLanes,f=e.pingedLanes,p=i&268435455;if(p!==0){var y=p&~c;y!==0?l=As(y):(f&=p,f!==0&&(l=As(f)))}else p=i&~c,p!==0?l=As(p):f!==0&&(l=As(f));if(l===0)return 0;if(n!==0&&n!==l&&!(n&c)&&(c=l&-l,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(l&4&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-Yn(n),c=1<<i,l|=e[i],n&=~c;return l}function Tg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ng(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-Yn(f),y=1<<p,w=c[p];w===-1?(!(y&i)||y&l)&&(c[p]=Tg(y,n)):w<=n&&(e.expiredLanes|=y),f&=~y}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function ul(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function eo(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Yn(n),e[n]=i}function _g(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Yn(i),f=1<<c;n[c]=0,l[c]=-1,e[c]=-1,i&=~f}}function zu(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Yn(i),c=1<<l;c&n|e[l]&n&&(e[l]|=n),i&=~c}}var Ke=0;function uf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cf,ju,ff,df,hf,Zl=!1,Eo=[],br=null,Lr=null,kr=null,Ps=new Map,Fs=new Map,_r=[],Mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t1(e,n){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(n.pointerId)}}function gs(e,n,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=no(n),n!==null&&ju(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Og(e,n,i,l,c){switch(n){case"focusin":return br=gs(br,e,n,i,l,c),!0;case"dragenter":return Lr=gs(Lr,e,n,i,l,c),!0;case"mouseover":return kr=gs(kr,e,n,i,l,c),!0;case"pointerover":var f=c.pointerId;return Ps.set(f,gs(Ps.get(f)||null,e,n,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Fs.set(f,gs(Fs.get(f)||null,e,n,i,l,c)),!0}return!1}function gf(e){var n=ti(e.target);if(n!==null){var i=hi(n);if(i!==null){if(n=i.tag,n===13){if(n=tf(i),n!==null){e.blockedOn=n,hf(e.priority,function(){ff(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ql(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Vl=l,i.target.dispatchEvent(l),Vl=null}else return n=no(i),n!==null&&ju(n),e.blockedOn=i,!1;n.shift()}return!0}function n1(e,n,i){Lo(e)&&i.delete(n)}function Rg(){Zl=!1,br!==null&&Lo(br)&&(br=null),Lr!==null&&Lo(Lr)&&(Lr=null),kr!==null&&Lo(kr)&&(kr=null),Ps.forEach(n1),Fs.forEach(n1)}function ps(e,n){e.blockedOn===n&&(e.blockedOn=null,Zl||(Zl=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,Rg)))}function Us(e){function n(c){return ps(c,e)}if(0<Eo.length){ps(Eo[0],e);for(var i=1;i<Eo.length;i++){var l=Eo[i];l.blockedOn===e&&(l.blockedOn=null)}}for(br!==null&&ps(br,e),Lr!==null&&ps(Lr,e),kr!==null&&ps(kr,e),Ps.forEach(n),Fs.forEach(n),i=0;i<_r.length;i++)l=_r[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<_r.length&&(i=_r[0],i.blockedOn===null);)gf(i),i.blockedOn===null&&_r.shift()}var Hi=mr.ReactCurrentBatchConfig,Qo=!0;function Dg(e,n,i,l){var c=Ke,f=Hi.transition;Hi.transition=null;try{Ke=1,Hu(e,n,i,l)}finally{Ke=c,Hi.transition=f}}function bg(e,n,i,l){var c=Ke,f=Hi.transition;Hi.transition=null;try{Ke=4,Hu(e,n,i,l)}finally{Ke=c,Hi.transition=f}}function Hu(e,n,i,l){if(Qo){var c=Ql(e,n,i,l);if(c===null)yl(e,n,l,Ko,i),t1(e,l);else if(Og(c,e,n,i,l))l.stopPropagation();else if(t1(e,l),n&4&&-1<Mg.indexOf(e)){for(;c!==null;){var f=no(c);if(f!==null&&cf(f),f=Ql(e,n,i,l),f===null&&yl(e,n,l,Ko,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else yl(e,n,l,null,i)}}var Ko=null;function Ql(e,n,i,l){if(Ko=null,e=Fu(l),e=ti(e),e!==null)if(n=hi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=tf(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ko=e,null}function pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cg()){case Uu:return 1;case of:return 4;case Xo:case Eg:return 16;case af:return 536870912;default:return 16}default:return 16}}var Or=null,Vu=null,ko=null;function xf(){if(ko)return ko;var e,n=Vu,i=n.length,l,c="value"in Or?Or.value:Or.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var p=i-e;for(l=1;l<=p&&n[i-l]===c[f-l];l++);return ko=c.slice(e,1<l?1-l:void 0)}function Bo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function r1(){return!1}function Tn(e){function n(i,l,c,f,p){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ao:r1,this.isPropagationStopped=r1,this}return wt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Tn($i),to=wt({},$i,{view:0,detail:0}),Lg=Tn(to),cl,fl,xs,Ca=wt({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(cl=e.screenX-xs.screenX,fl=e.screenY-xs.screenY):fl=cl=0,xs=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),i1=Tn(Ca),kg=wt({},Ca,{dataTransfer:0}),Bg=Tn(kg),Pg=wt({},to,{relatedTarget:0}),dl=Tn(Pg),Fg=wt({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ug=Tn(Fg),zg=wt({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jg=Tn(zg),Hg=wt({},$i,{data:0}),s1=Tn(Hg),Vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Gg[e])?!!n[e]:!1}function Gu(){return Yg}var Xg=wt({},to,{key:function(e){if(e.key){var n=Vg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zg=Tn(Xg),Qg=wt({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o1=Tn(Qg),Kg=wt({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),qg=Tn(Kg),Jg=wt({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),$g=Tn(Jg),e2=wt({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t2=Tn(e2),n2=[9,13,27,32],Yu=hr&&"CompositionEvent"in window,Ns=null;hr&&"documentMode"in document&&(Ns=document.documentMode);var r2=hr&&"TextEvent"in window&&!Ns,mf=hr&&(!Yu||Ns&&8<Ns&&11>=Ns),a1=" ",l1=!1;function wf(e,n){switch(e){case"keyup":return n2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function i2(e,n){switch(e){case"compositionend":return yf(n);case"keypress":return n.which!==32?null:(l1=!0,a1);case"textInput":return e=n.data,e===a1&&l1?null:e;default:return null}}function s2(e,n){if(_i)return e==="compositionend"||!Yu&&wf(e,n)?(e=xf(),ko=Vu=Or=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mf&&n.locale!=="ko"?null:n.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!o2[e.type]:n==="textarea"}function Cf(e,n,i,l){K0(l),n=qo(n,"onChange"),0<n.length&&(i=new Wu("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var _s=null,zs=null;function a2(e){Rf(e,0)}function Ea(e){var n=Ri(e);if(V0(n))return e}function l2(e,n){if(e==="change")return n}var Ef=!1;if(hr){var hl;if(hr){var gl="oninput"in document;if(!gl){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),gl=typeof c1.oninput=="function"}hl=gl}else hl=!1;Ef=hl&&(!document.documentMode||9<document.documentMode)}function f1(){_s&&(_s.detachEvent("onpropertychange",Af),zs=_s=null)}function Af(e){if(e.propertyName==="value"&&Ea(zs)){var n=[];Cf(n,zs,e,Fu(e)),ef(a2,n)}}function u2(e,n,i){e==="focusin"?(f1(),_s=n,zs=i,_s.attachEvent("onpropertychange",Af)):e==="focusout"&&f1()}function c2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(zs)}function f2(e,n){if(e==="click")return Ea(n)}function d2(e,n){if(e==="input"||e==="change")return Ea(n)}function h2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Zn=typeof Object.is=="function"?Object.is:h2;function js(e,n){if(Zn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Rl.call(n,c)||!Zn(e[c],n[c]))return!1}return!0}function d1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h1(e,n){var i=d1(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=d1(i)}}function Sf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function If(){for(var e=window,n=Wo();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Wo(e.document)}return n}function Xu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function g2(e){var n=If(),i=e.focusedElem,l=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Sf(i.ownerDocument.documentElement,i)){if(l!==null&&Xu(i)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!e.extend&&f>l&&(c=l,l=f,f=c),c=h1(i,f);var p=h1(i,l);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p2=hr&&"documentMode"in document&&11>=document.documentMode,Mi=null,Kl=null,Ms=null,ql=!1;function g1(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ql||Mi==null||Mi!==Wo(l)||(l=Mi,"selectionStart"in l&&Xu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ms&&js(Ms,l)||(Ms=l,l=qo(Kl,"onSelect"),0<l.length&&(n=new Wu("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Mi)))}function So(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Oi={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},pl={},vf={};hr&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Aa(e){if(pl[e])return pl[e];if(!Oi[e])return e;var n=Oi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in vf)return pl[e]=n[i];return e}var Tf=Aa("animationend"),Nf=Aa("animationiteration"),_f=Aa("animationstart"),Mf=Aa("transitionend"),Of=new Map,p1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,n){Of.set(e,n),di(n,[e])}for(var xl=0;xl<p1.length;xl++){var ml=p1[xl],x2=ml.toLowerCase(),m2=ml[0].toUpperCase()+ml.slice(1);Wr(x2,"on"+m2)}Wr(Tf,"onAnimationEnd");Wr(Nf,"onAnimationIteration");Wr(_f,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Mf,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function x1(e,n,i){var l=e.type||"unknown-event";e.currentTarget=i,xg(l,n,void 0,e),e.currentTarget=null}function Rf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var y=l[p],w=y.instance,x=y.currentTarget;if(y=y.listener,w!==f&&c.isPropagationStopped())break e;x1(c,y,x),f=w}else for(p=0;p<l.length;p++){if(y=l[p],w=y.instance,x=y.currentTarget,y=y.listener,w!==f&&c.isPropagationStopped())break e;x1(c,y,x),f=w}}}if(Yo)throw e=Yl,Yo=!1,Yl=null,e}function ot(e,n){var i=n[nu];i===void 0&&(i=n[nu]=new Set);var l=e+"__bubble";i.has(l)||(Df(n,e,2,!1),i.add(l))}function wl(e,n,i){var l=0;n&&(l|=4),Df(i,e,l,n)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[Io]){e[Io]=!0,F0.forEach(function(i){i!=="selectionchange"&&(w2.has(i)||wl(i,!1,e),wl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Io]||(n[Io]=!0,wl("selectionchange",!1,n))}}function Df(e,n,i,l){switch(pf(n)){case 1:var c=Dg;break;case 4:c=bg;break;default:c=Hu}i=c.bind(null,n,i,e),c=void 0,!Gl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function yl(e,n,i,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var y=l.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;p=p.return}for(;y!==null;){if(p=ti(y),p===null)return;if(w=p.tag,w===5||w===6){l=f=p;continue e}y=y.parentNode}}l=l.return}ef(function(){var x=f,S=Fu(i),I=[];e:{var L=Of.get(e);if(L!==void 0){var U=Wu,G=e;switch(e){case"keypress":if(Bo(i)===0)break e;case"keydown":case"keyup":U=Zg;break;case"focusin":G="focus",U=dl;break;case"focusout":G="blur",U=dl;break;case"beforeblur":case"afterblur":U=dl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=i1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=qg;break;case Tf:case Nf:case _f:U=Ug;break;case Mf:U=$g;break;case"scroll":U=Lg;break;case"wheel":U=t2;break;case"copy":case"cut":case"paste":U=jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=o1}var H=(n&4)!==0,K=!H&&e==="scroll",D=H?L!==null?L+"Capture":null:L;H=[];for(var _=x,O;_!==null;){O=_;var V=O.stateNode;if(O.tag===5&&V!==null&&(O=V,D!==null&&(V=Bs(_,D),V!=null&&H.push(Vs(_,V,O)))),K)break;_=_.return}0<H.length&&(L=new U(L,G,null,i,S),I.push({event:L,listeners:H}))}}if(!(n&7)){e:{if(L=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",L&&i!==Vl&&(G=i.relatedTarget||i.fromElement)&&(ti(G)||G[gr]))break e;if((U||L)&&(L=S.window===S?S:(L=S.ownerDocument)?L.defaultView||L.parentWindow:window,U?(G=i.relatedTarget||i.toElement,U=x,G=G?ti(G):null,G!==null&&(K=hi(G),G!==K||G.tag!==5&&G.tag!==6)&&(G=null)):(U=null,G=x),U!==G)){if(H=i1,V="onMouseLeave",D="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(H=o1,V="onPointerLeave",D="onPointerEnter",_="pointer"),K=U==null?L:Ri(U),O=G==null?L:Ri(G),L=new H(V,_+"leave",U,i,S),L.target=K,L.relatedTarget=O,V=null,ti(S)===x&&(H=new H(D,_+"enter",G,i,S),H.target=O,H.relatedTarget=K,V=H),K=V,U&&G)t:{for(H=U,D=G,_=0,O=H;O;O=Ii(O))_++;for(O=0,V=D;V;V=Ii(V))O++;for(;0<_-O;)H=Ii(H),_--;for(;0<O-_;)D=Ii(D),O--;for(;_--;){if(H===D||D!==null&&H===D.alternate)break t;H=Ii(H),D=Ii(D)}H=null}else H=null;U!==null&&m1(I,L,U,H,!1),G!==null&&K!==null&&m1(I,K,G,H,!0)}}e:{if(L=x?Ri(x):window,U=L.nodeName&&L.nodeName.toLowerCase(),U==="select"||U==="input"&&L.type==="file")var ae=l2;else if(u1(L))if(Ef)ae=d2;else{ae=c2;var J=u2}else(U=L.nodeName)&&U.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(ae=f2);if(ae&&(ae=ae(e,x))){Cf(I,ae,i,S);break e}J&&J(e,L,x),e==="focusout"&&(J=L._wrapperState)&&J.controlled&&L.type==="number"&&Fl(L,"number",L.value)}switch(J=x?Ri(x):window,e){case"focusin":(u1(J)||J.contentEditable==="true")&&(Mi=J,Kl=x,Ms=null);break;case"focusout":Ms=Kl=Mi=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,g1(I,i,S);break;case"selectionchange":if(p2)break;case"keydown":case"keyup":g1(I,i,S)}var k;if(Yu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else _i?wf(e,i)&&(M="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(M="onCompositionStart");M&&(mf&&i.locale!=="ko"&&(_i||M!=="onCompositionStart"?M==="onCompositionEnd"&&_i&&(k=xf()):(Or=S,Vu="value"in Or?Or.value:Or.textContent,_i=!0)),J=qo(x,M),0<J.length&&(M=new s1(M,e,null,i,S),I.push({event:M,listeners:J}),k?M.data=k:(k=yf(i),k!==null&&(M.data=k)))),(k=r2?i2(e,i):s2(e,i))&&(x=qo(x,"onBeforeInput"),0<x.length&&(S=new s1("onBeforeInput","beforeinput",null,i,S),I.push({event:S,listeners:x}),S.data=k))}Rf(I,n)})}function Vs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function qo(e,n){for(var i=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Bs(e,i),f!=null&&l.unshift(Vs(e,f,c)),f=Bs(e,n),f!=null&&l.push(Vs(e,f,c))),e=e.return}return l}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function m1(e,n,i,l,c){for(var f=n._reactName,p=[];i!==null&&i!==l;){var y=i,w=y.alternate,x=y.stateNode;if(w!==null&&w===l)break;y.tag===5&&x!==null&&(y=x,c?(w=Bs(i,f),w!=null&&p.unshift(Vs(i,w,y))):c||(w=Bs(i,f),w!=null&&p.push(Vs(i,w,y)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var y2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function w1(e){return(typeof e=="string"?e:""+e).replace(y2,`
`).replace(C2,"")}function vo(e,n,i){if(n=w1(n),w1(e)!==n&&i)throw Error(ne(425))}function Jo(){}var Jl=null,$l=null;function eu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(e){return y1.resolve(null).then(e).catch(S2)}:tu;function S2(e){setTimeout(function(){throw e})}function Cl(e,n){var i=n,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(l===0){e.removeChild(c),Us(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=c}while(i);Us(n)}function Br(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function C1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),ir="__reactFiber$"+es,Ws="__reactProps$"+es,gr="__reactContainer$"+es,nu="__reactEvents$"+es,I2="__reactListeners$"+es,v2="__reactHandles$"+es;function ti(e){var n=e[ir];if(n)return n;for(var i=e.parentNode;i;){if(n=i[gr]||i[ir]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=C1(e);e!==null;){if(i=e[ir])return i;e=C1(e)}return n}e=i,i=e.parentNode}return null}function no(e){return e=e[ir]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Sa(e){return e[Ws]||null}var ru=[],Di=-1;function Gr(e){return{current:e}}function lt(e){0>Di||(e.current=ru[Di],ru[Di]=null,Di--)}function rt(e,n){Di++,ru[Di]=e.current,e.current=n}var Hr={},qt=Gr(Hr),hn=Gr(!1),ai=Hr;function Yi(e,n){var i=e.type.contextTypes;if(!i)return Hr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function gn(e){return e=e.childContextTypes,e!=null}function $o(){lt(hn),lt(qt)}function E1(e,n,i){if(qt.current!==Hr)throw Error(ne(168));rt(qt,n),rt(hn,i)}function bf(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(ne(108,ug(e)||"Unknown",c));return wt({},i,l)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,ai=qt.current,rt(qt,e),rt(hn,hn.current),!0}function A1(e,n,i){var l=e.stateNode;if(!l)throw Error(ne(169));i?(e=bf(e,n,ai),l.__reactInternalMemoizedMergedChildContext=e,lt(hn),lt(qt),rt(qt,e)):lt(hn),rt(hn,i)}var lr=null,Ia=!1,El=!1;function Lf(e){lr===null?lr=[e]:lr.push(e)}function T2(e){Ia=!0,Lf(e)}function Yr(){if(!El&&lr!==null){El=!0;var e=0,n=Ke;try{var i=lr;for(Ke=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}lr=null,Ia=!1}catch(c){throw lr!==null&&(lr=lr.slice(e+1)),sf(Uu,Yr),c}finally{Ke=n,El=!1}}return null}var bi=[],Li=0,ta=null,na=0,Dn=[],bn=0,li=null,ur=1,cr="";function $r(e,n){bi[Li++]=na,bi[Li++]=ta,ta=e,na=n}function kf(e,n,i){Dn[bn++]=ur,Dn[bn++]=cr,Dn[bn++]=li,li=e;var l=ur;e=cr;var c=32-Yn(l)-1;l&=~(1<<c),i+=1;var f=32-Yn(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,ur=1<<32-Yn(n)+c|i<<c|l,cr=f+e}else ur=1<<f|i<<c|l,cr=e}function Zu(e){e.return!==null&&($r(e,1),kf(e,1,0))}function Qu(e){for(;e===ta;)ta=bi[--Li],bi[Li]=null,na=bi[--Li],bi[Li]=null;for(;e===li;)li=Dn[--bn],Dn[bn]=null,cr=Dn[--bn],Dn[bn]=null,ur=Dn[--bn],Dn[bn]=null}var Sn=null,An=null,dt=!1,Gn=null;function Bf(e,n){var i=Ln(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function S1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Sn=e,An=Br(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Sn=e,An=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=li!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Ln(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Sn=e,An=null,!0):!1;default:return!1}}function iu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function su(e){if(dt){var n=An;if(n){var i=n;if(!S1(e,n)){if(iu(e))throw Error(ne(418));n=Br(i.nextSibling);var l=Sn;n&&S1(e,n)?Bf(l,i):(e.flags=e.flags&-4097|2,dt=!1,Sn=e)}}else{if(iu(e))throw Error(ne(418));e.flags=e.flags&-4097|2,dt=!1,Sn=e}}}function I1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function To(e){if(e!==Sn)return!1;if(!dt)return I1(e),dt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!eu(e.type,e.memoizedProps)),n&&(n=An)){if(iu(e))throw Pf(),Error(ne(418));for(;n;)Bf(e,n),n=Br(n.nextSibling)}if(I1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){An=Br(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}An=null}}else An=Sn?Br(e.stateNode.nextSibling):null;return!0}function Pf(){for(var e=An;e;)e=Br(e.nextSibling)}function Xi(){An=Sn=null,dt=!1}function Ku(e){Gn===null?Gn=[e]:Gn.push(e)}var N2=mr.ReactCurrentBatchConfig;function ms(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ne(309));var l=i.stateNode}if(!l)throw Error(ne(147,e));var c=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(p){var y=c.refs;p===null?delete y[f]:y[f]=p},n._stringRef=f,n)}if(typeof e!="string")throw Error(ne(284));if(!i._owner)throw Error(ne(290,e))}return e}function No(e,n){throw e=Object.prototype.toString.call(n),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function v1(e){var n=e._init;return n(e._payload)}function Ff(e){function n(D,_){if(e){var O=D.deletions;O===null?(D.deletions=[_],D.flags|=16):O.push(_)}}function i(D,_){if(!e)return null;for(;_!==null;)n(D,_),_=_.sibling;return null}function l(D,_){for(D=new Map;_!==null;)_.key!==null?D.set(_.key,_):D.set(_.index,_),_=_.sibling;return D}function c(D,_){return D=zr(D,_),D.index=0,D.sibling=null,D}function f(D,_,O){return D.index=O,e?(O=D.alternate,O!==null?(O=O.index,O<_?(D.flags|=2,_):O):(D.flags|=2,_)):(D.flags|=1048576,_)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function y(D,_,O,V){return _===null||_.tag!==6?(_=_l(O,D.mode,V),_.return=D,_):(_=c(_,O),_.return=D,_)}function w(D,_,O,V){var ae=O.type;return ae===Ni?S(D,_,O.props.children,V,O.key):_!==null&&(_.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Tr&&v1(ae)===_.type)?(V=c(_,O.props),V.ref=ms(D,_,O),V.return=D,V):(V=Vo(O.type,O.key,O.props,null,D.mode,V),V.ref=ms(D,_,O),V.return=D,V)}function x(D,_,O,V){return _===null||_.tag!==4||_.stateNode.containerInfo!==O.containerInfo||_.stateNode.implementation!==O.implementation?(_=Ml(O,D.mode,V),_.return=D,_):(_=c(_,O.children||[]),_.return=D,_)}function S(D,_,O,V,ae){return _===null||_.tag!==7?(_=si(O,D.mode,V,ae),_.return=D,_):(_=c(_,O),_.return=D,_)}function I(D,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return _=_l(""+_,D.mode,O),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xo:return O=Vo(_.type,_.key,_.props,null,D.mode,O),O.ref=ms(D,null,_),O.return=D,O;case Ti:return _=Ml(_,D.mode,O),_.return=D,_;case Tr:var V=_._init;return I(D,V(_._payload),O)}if(Es(_)||ds(_))return _=si(_,D.mode,O,null),_.return=D,_;No(D,_)}return null}function L(D,_,O,V){var ae=_!==null?_.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:y(D,_,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case xo:return O.key===ae?w(D,_,O,V):null;case Ti:return O.key===ae?x(D,_,O,V):null;case Tr:return ae=O._init,L(D,_,ae(O._payload),V)}if(Es(O)||ds(O))return ae!==null?null:S(D,_,O,V,null);No(D,O)}return null}function U(D,_,O,V,ae){if(typeof V=="string"&&V!==""||typeof V=="number")return D=D.get(O)||null,y(_,D,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case xo:return D=D.get(V.key===null?O:V.key)||null,w(_,D,V,ae);case Ti:return D=D.get(V.key===null?O:V.key)||null,x(_,D,V,ae);case Tr:var J=V._init;return U(D,_,O,J(V._payload),ae)}if(Es(V)||ds(V))return D=D.get(O)||null,S(_,D,V,ae,null);No(_,V)}return null}function G(D,_,O,V){for(var ae=null,J=null,k=_,M=_=0,N=null;k!==null&&M<O.length;M++){k.index>M?(N=k,k=null):N=k.sibling;var W=L(D,k,O[M],V);if(W===null){k===null&&(k=N);break}e&&k&&W.alternate===null&&n(D,k),_=f(W,_,M),J===null?ae=W:J.sibling=W,J=W,k=N}if(M===O.length)return i(D,k),dt&&$r(D,M),ae;if(k===null){for(;M<O.length;M++)k=I(D,O[M],V),k!==null&&(_=f(k,_,M),J===null?ae=k:J.sibling=k,J=k);return dt&&$r(D,M),ae}for(k=l(D,k);M<O.length;M++)N=U(k,D,M,O[M],V),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?M:N.key),_=f(N,_,M),J===null?ae=N:J.sibling=N,J=N);return e&&k.forEach(function(oe){return n(D,oe)}),dt&&$r(D,M),ae}function H(D,_,O,V){var ae=ds(O);if(typeof ae!="function")throw Error(ne(150));if(O=ae.call(O),O==null)throw Error(ne(151));for(var J=ae=null,k=_,M=_=0,N=null,W=O.next();k!==null&&!W.done;M++,W=O.next()){k.index>M?(N=k,k=null):N=k.sibling;var oe=L(D,k,W.value,V);if(oe===null){k===null&&(k=N);break}e&&k&&oe.alternate===null&&n(D,k),_=f(oe,_,M),J===null?ae=oe:J.sibling=oe,J=oe,k=N}if(W.done)return i(D,k),dt&&$r(D,M),ae;if(k===null){for(;!W.done;M++,W=O.next())W=I(D,W.value,V),W!==null&&(_=f(W,_,M),J===null?ae=W:J.sibling=W,J=W);return dt&&$r(D,M),ae}for(k=l(D,k);!W.done;M++,W=O.next())W=U(k,D,M,W.value,V),W!==null&&(e&&W.alternate!==null&&k.delete(W.key===null?M:W.key),_=f(W,_,M),J===null?ae=W:J.sibling=W,J=W);return e&&k.forEach(function(Y){return n(D,Y)}),dt&&$r(D,M),ae}function K(D,_,O,V){if(typeof O=="object"&&O!==null&&O.type===Ni&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case xo:e:{for(var ae=O.key,J=_;J!==null;){if(J.key===ae){if(ae=O.type,ae===Ni){if(J.tag===7){i(D,J.sibling),_=c(J,O.props.children),_.return=D,D=_;break e}}else if(J.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Tr&&v1(ae)===J.type){i(D,J.sibling),_=c(J,O.props),_.ref=ms(D,J,O),_.return=D,D=_;break e}i(D,J);break}else n(D,J);J=J.sibling}O.type===Ni?(_=si(O.props.children,D.mode,V,O.key),_.return=D,D=_):(V=Vo(O.type,O.key,O.props,null,D.mode,V),V.ref=ms(D,_,O),V.return=D,D=V)}return p(D);case Ti:e:{for(J=O.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===O.containerInfo&&_.stateNode.implementation===O.implementation){i(D,_.sibling),_=c(_,O.children||[]),_.return=D,D=_;break e}else{i(D,_);break}else n(D,_);_=_.sibling}_=Ml(O,D.mode,V),_.return=D,D=_}return p(D);case Tr:return J=O._init,K(D,_,J(O._payload),V)}if(Es(O))return G(D,_,O,V);if(ds(O))return H(D,_,O,V);No(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,_!==null&&_.tag===6?(i(D,_.sibling),_=c(_,O),_.return=D,D=_):(i(D,_),_=_l(O,D.mode,V),_.return=D,D=_),p(D)):i(D,_)}return K}var Zi=Ff(!0),Uf=Ff(!1),ra=Gr(null),ia=null,ki=null,qu=null;function Ju(){qu=ki=ia=null}function $u(e){var n=ra.current;lt(ra),e._currentValue=n}function ou(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Vi(e,n){ia=e,qu=ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(dn=!0),e.firstContext=null)}function Bn(e){var n=e._currentValue;if(qu!==e)if(e={context:e,memoizedValue:n,next:null},ki===null){if(ia===null)throw Error(ne(308));ki=e,ia.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return n}var ni=null;function ec(e){ni===null?ni=[e]:ni.push(e)}function zf(e,n,i,l){var c=n.interleaved;return c===null?(i.next=i,ec(n)):(i.next=c.next,c.next=i),n.interleaved=i,pr(e,l)}function pr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Nr=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Pr(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Ue&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,pr(e,i)}return c=l.interleaved,c===null?(n.next=n,ec(l)):(n.next=c.next,c.next=n),l.interleaved=n,pr(e,i)}function Po(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,zu(e,i)}}function T1(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function sa(e,n,i,l){var c=e.updateQueue;Nr=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var w=y,x=w.next;w.next=null,p===null?f=x:p.next=x,p=w;var S=e.alternate;S!==null&&(S=S.updateQueue,y=S.lastBaseUpdate,y!==p&&(y===null?S.firstBaseUpdate=x:y.next=x,S.lastBaseUpdate=w))}if(f!==null){var I=c.baseState;p=0,S=x=w=null,y=f;do{var L=y.lane,U=y.eventTime;if((l&L)===L){S!==null&&(S=S.next={eventTime:U,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var G=e,H=y;switch(L=n,U=i,H.tag){case 1:if(G=H.payload,typeof G=="function"){I=G.call(U,I,L);break e}I=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=H.payload,L=typeof G=="function"?G.call(U,I,L):G,L==null)break e;I=wt({},I,L);break e;case 2:Nr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,L=c.effects,L===null?c.effects=[y]:L.push(y))}else U={eventTime:U,lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},S===null?(x=S=U,w=I):S=S.next=U,p|=L;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;L=y,y=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);if(S===null&&(w=I),c.baseState=w,c.firstBaseUpdate=x,c.lastBaseUpdate=S,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);ci|=p,e.lanes=p,e.memoizedState=I}}function N1(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=i,typeof c!="function")throw Error(ne(191,c));c.call(l)}}}var ro={},or=Gr(ro),Gs=Gr(ro),Ys=Gr(ro);function ri(e){if(e===ro)throw Error(ne(174));return e}function nc(e,n){switch(rt(Ys,n),rt(Gs,e),rt(or,ro),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:zl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=zl(n,e)}lt(or),rt(or,n)}function Qi(){lt(or),lt(Gs),lt(Ys)}function Hf(e){ri(Ys.current);var n=ri(or.current),i=zl(n,e.type);n!==i&&(rt(Gs,e),rt(or,i))}function rc(e){Gs.current===e&&(lt(or),lt(Gs))}var xt=Gr(0);function oa(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Al=[];function ic(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var Fo=mr.ReactCurrentDispatcher,Sl=mr.ReactCurrentBatchConfig,ui=0,mt=null,Ot=null,Bt=null,aa=!1,Os=!1,Xs=0,_2=0;function Zt(){throw Error(ne(321))}function sc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Zn(e[i],n[i]))return!1;return!0}function oc(e,n,i,l,c,f){if(ui=f,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Fo.current=e===null||e.memoizedState===null?D2:b2,e=i(l,c),Os){f=0;do{if(Os=!1,Xs=0,25<=f)throw Error(ne(301));f+=1,Bt=Ot=null,n.updateQueue=null,Fo.current=L2,e=i(l,c)}while(Os)}if(Fo.current=la,n=Ot!==null&&Ot.next!==null,ui=0,Bt=Ot=mt=null,aa=!1,n)throw Error(ne(300));return e}function ac(){var e=Xs!==0;return Xs=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?mt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Pn(){if(Ot===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var n=Bt===null?mt.memoizedState:Bt.next;if(n!==null)Bt=n,Ot=e;else{if(e===null)throw Error(ne(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?mt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Zs(e,n){return typeof n=="function"?n(e):n}function Il(e){var n=Pn(),i=n.queue;if(i===null)throw Error(ne(311));i.lastRenderedReducer=e;var l=Ot,c=l.baseQueue,f=i.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}l.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,l=l.baseState;var y=p=null,w=null,x=f;do{var S=x.lane;if((ui&S)===S)w!==null&&(w=w.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),l=x.hasEagerState?x.eagerState:e(l,x.action);else{var I={lane:S,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};w===null?(y=w=I,p=l):w=w.next=I,mt.lanes|=S,ci|=S}x=x.next}while(x!==null&&x!==f);w===null?p=l:w.next=y,Zn(l,n.memoizedState)||(dn=!0),n.memoizedState=l,n.baseState=p,n.baseQueue=w,i.lastRenderedState=l}if(e=i.interleaved,e!==null){c=e;do f=c.lane,mt.lanes|=f,ci|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function vl(e){var n=Pn(),i=n.queue;if(i===null)throw Error(ne(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Zn(f,n.memoizedState)||(dn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function Vf(){}function Wf(e,n){var i=mt,l=Pn(),c=n(),f=!Zn(l.memoizedState,c);if(f&&(l.memoizedState=c,dn=!0),l=l.queue,lc(Xf.bind(null,i,l,e),[e]),l.getSnapshot!==n||f||Bt!==null&&Bt.memoizedState.tag&1){if(i.flags|=2048,Qs(9,Yf.bind(null,i,l,c,n),void 0,null),Pt===null)throw Error(ne(349));ui&30||Gf(i,n,c)}return c}function Gf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Yf(e,n,i,l){n.value=i,n.getSnapshot=l,Zf(n)&&Qf(e)}function Xf(e,n,i){return i(function(){Zf(n)&&Qf(e)})}function Zf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Zn(e,i)}catch{return!0}}function Qf(e){var n=pr(e,1);n!==null&&Xn(n,e,1,-1)}function _1(e){var n=nr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},n.queue=e,e=e.dispatch=R2.bind(null,mt,e),[n.memoizedState,e]}function Qs(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function Kf(){return Pn().memoizedState}function Uo(e,n,i,l){var c=nr();mt.flags|=e,c.memoizedState=Qs(1|n,i,void 0,l===void 0?null:l)}function va(e,n,i,l){var c=Pn();l=l===void 0?null:l;var f=void 0;if(Ot!==null){var p=Ot.memoizedState;if(f=p.destroy,l!==null&&sc(l,p.deps)){c.memoizedState=Qs(n,i,f,l);return}}mt.flags|=e,c.memoizedState=Qs(1|n,i,f,l)}function M1(e,n){return Uo(8390656,8,e,n)}function lc(e,n){return va(2048,8,e,n)}function qf(e,n){return va(4,2,e,n)}function Jf(e,n){return va(4,4,e,n)}function $f(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ed(e,n,i){return i=i!=null?i.concat([e]):null,va(4,4,$f.bind(null,n,e),i)}function uc(){}function td(e,n){var i=Pn();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&sc(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function nd(e,n){var i=Pn();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&sc(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function rd(e,n,i){return ui&21?(Zn(i,n)||(i=lf(),mt.lanes|=i,ci|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=i)}function M2(e,n){var i=Ke;Ke=i!==0&&4>i?i:4,e(!0);var l=Sl.transition;Sl.transition={};try{e(!1),n()}finally{Ke=i,Sl.transition=l}}function id(){return Pn().memoizedState}function O2(e,n,i){var l=Ur(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},sd(e))od(n,i);else if(i=zf(e,n,i,l),i!==null){var c=en();Xn(i,e,l,c),ad(i,n,l)}}function R2(e,n,i){var l=Ur(e),c={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(sd(e))od(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,y=f(p,i);if(c.hasEagerState=!0,c.eagerState=y,Zn(y,p)){var w=n.interleaved;w===null?(c.next=c,ec(n)):(c.next=w.next,w.next=c),n.interleaved=c;return}}catch{}finally{}i=zf(e,n,c,l),i!==null&&(c=en(),Xn(i,e,l,c),ad(i,n,l))}}function sd(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function od(e,n){Os=aa=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function ad(e,n,i){if(i&4194240){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,zu(e,i)}}var la={readContext:Bn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},D2={readContext:Bn,useCallback:function(e,n){return nr().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:M1,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Uo(4194308,4,$f.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Uo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Uo(4,2,e,n)},useMemo:function(e,n){var i=nr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=nr();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=O2.bind(null,mt,e),[l.memoizedState,e]},useRef:function(e){var n=nr();return e={current:e},n.memoizedState=e},useState:_1,useDebugValue:uc,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=_1(!1),n=e[0];return e=M2.bind(null,e[1]),nr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=mt,c=nr();if(dt){if(i===void 0)throw Error(ne(407));i=i()}else{if(i=n(),Pt===null)throw Error(ne(349));ui&30||Gf(l,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,M1(Xf.bind(null,l,f,e),[e]),l.flags|=2048,Qs(9,Yf.bind(null,l,f,i,n),void 0,null),i},useId:function(){var e=nr(),n=Pt.identifierPrefix;if(dt){var i=cr,l=ur;i=(l&~(1<<32-Yn(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=Xs++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=_2++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},b2={readContext:Bn,useCallback:td,useContext:Bn,useEffect:lc,useImperativeHandle:ed,useInsertionEffect:qf,useLayoutEffect:Jf,useMemo:nd,useReducer:Il,useRef:Kf,useState:function(){return Il(Zs)},useDebugValue:uc,useDeferredValue:function(e){var n=Pn();return rd(n,Ot.memoizedState,e)},useTransition:function(){var e=Il(Zs)[0],n=Pn().memoizedState;return[e,n]},useMutableSource:Vf,useSyncExternalStore:Wf,useId:id,unstable_isNewReconciler:!1},L2={readContext:Bn,useCallback:td,useContext:Bn,useEffect:lc,useImperativeHandle:ed,useInsertionEffect:qf,useLayoutEffect:Jf,useMemo:nd,useReducer:vl,useRef:Kf,useState:function(){return vl(Zs)},useDebugValue:uc,useDeferredValue:function(e){var n=Pn();return Ot===null?n.memoizedState=e:rd(n,Ot.memoizedState,e)},useTransition:function(){var e=vl(Zs)[0],n=Pn().memoizedState;return[e,n]},useMutableSource:Vf,useSyncExternalStore:Wf,useId:id,unstable_isNewReconciler:!1};function Hn(e,n){if(e&&e.defaultProps){n=wt({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function au(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:wt({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ta={isMounted:function(e){return(e=e._reactInternals)?hi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=en(),c=Ur(e),f=dr(l,c);f.payload=n,i!=null&&(f.callback=i),n=Pr(e,f,c),n!==null&&(Xn(n,e,c,l),Po(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=en(),c=Ur(e),f=dr(l,c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Pr(e,f,c),n!==null&&(Xn(n,e,c,l),Po(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=en(),l=Ur(e),c=dr(i,l);c.tag=2,n!=null&&(c.callback=n),n=Pr(e,c,l),n!==null&&(Xn(n,e,l,i),Po(n,e,l))}};function O1(e,n,i,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!js(i,l)||!js(c,f):!0}function ld(e,n,i){var l=!1,c=Hr,f=n.contextType;return typeof f=="object"&&f!==null?f=Bn(f):(c=gn(n)?ai:qt.current,l=n.contextTypes,f=(l=l!=null)?Yi(e,c):Hr),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ta,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function R1(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Ta.enqueueReplaceState(n,n.state,null)}function lu(e,n,i,l){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},tc(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=Bn(f):(f=gn(n)?ai:qt.current,c.context=Yi(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(au(e,n,f,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Ta.enqueueReplaceState(c,c.state,null),sa(e,i,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ki(e,n){try{var i="",l=n;do i+=lg(l),l=l.return;while(l);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Tl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function uu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var k2=typeof WeakMap=="function"?WeakMap:Map;function ud(e,n,i){i=dr(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){ca||(ca=!0,yu=l),uu(e,n)},i}function cd(e,n,i){i=dr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;i.payload=function(){return l(c)},i.callback=function(){uu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){uu(e,n),typeof l!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),i}function D1(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new k2;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(i)||(c.add(i),e=Q2.bind(null,e,n,i),n.then(e,e))}function b1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function L1(e,n,i,l,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=dr(-1,1),n.tag=2,Pr(i,n,1))),i.lanes|=1),e)}var B2=mr.ReactCurrentOwner,dn=!1;function $t(e,n,i,l){n.child=e===null?Uf(n,null,i,l):Zi(n,e.child,i,l)}function k1(e,n,i,l,c){i=i.render;var f=n.ref;return Vi(n,c),l=oc(e,n,i,l,f,c),i=ac(),e!==null&&!dn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,xr(e,n,c)):(dt&&i&&Zu(n),n.flags|=1,$t(e,n,l,c),n.child)}function B1(e,n,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!mc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,fd(e,n,f,l,c)):(e=Vo(i.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:js,i(p,l)&&e.ref===n.ref)return xr(e,n,c)}return n.flags|=1,e=zr(f,l),e.ref=n.ref,e.return=n,n.child=e}function fd(e,n,i,l,c){if(e!==null){var f=e.memoizedProps;if(js(f,l)&&e.ref===n.ref)if(dn=!1,n.pendingProps=l=f,(e.lanes&c)!==0)e.flags&131072&&(dn=!0);else return n.lanes=e.lanes,xr(e,n,c)}return cu(e,n,i,l,c)}function dd(e,n,i){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Pi,Cn),Cn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,rt(Pi,Cn),Cn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,rt(Pi,Cn),Cn|=l}else f!==null?(l=f.baseLanes|i,n.memoizedState=null):l=i,rt(Pi,Cn),Cn|=l;return $t(e,n,c,i),n.child}function hd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function cu(e,n,i,l,c){var f=gn(i)?ai:qt.current;return f=Yi(n,f),Vi(n,c),i=oc(e,n,i,l,f,c),l=ac(),e!==null&&!dn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,xr(e,n,c)):(dt&&l&&Zu(n),n.flags|=1,$t(e,n,i,c),n.child)}function P1(e,n,i,l,c){if(gn(i)){var f=!0;ea(n)}else f=!1;if(Vi(n,c),n.stateNode===null)zo(e,n),ld(n,i,l),lu(n,i,l,c),l=!0;else if(e===null){var p=n.stateNode,y=n.memoizedProps;p.props=y;var w=p.context,x=i.contextType;typeof x=="object"&&x!==null?x=Bn(x):(x=gn(i)?ai:qt.current,x=Yi(n,x));var S=i.getDerivedStateFromProps,I=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function";I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==l||w!==x)&&R1(n,p,l,x),Nr=!1;var L=n.memoizedState;p.state=L,sa(n,l,p,c),w=n.memoizedState,y!==l||L!==w||hn.current||Nr?(typeof S=="function"&&(au(n,i,S,l),w=n.memoizedState),(y=Nr||O1(n,i,y,l,L,w,x))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=w),p.props=l,p.state=w,p.context=x,l=y):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{p=n.stateNode,jf(e,n),y=n.memoizedProps,x=n.type===n.elementType?y:Hn(n.type,y),p.props=x,I=n.pendingProps,L=p.context,w=i.contextType,typeof w=="object"&&w!==null?w=Bn(w):(w=gn(i)?ai:qt.current,w=Yi(n,w));var U=i.getDerivedStateFromProps;(S=typeof U=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==I||L!==w)&&R1(n,p,l,w),Nr=!1,L=n.memoizedState,p.state=L,sa(n,l,p,c);var G=n.memoizedState;y!==I||L!==G||hn.current||Nr?(typeof U=="function"&&(au(n,i,U,l),G=n.memoizedState),(x=Nr||O1(n,i,x,l,L,G,w)||!1)?(S||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,G,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,G,w)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),p.props=l,p.state=G,p.context=w,l=x):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),l=!1)}return fu(e,n,i,l,f,c)}function fu(e,n,i,l,c,f){hd(e,n);var p=(n.flags&128)!==0;if(!l&&!p)return c&&A1(n,i,!1),xr(e,n,f);l=n.stateNode,B2.current=n;var y=p&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&p?(n.child=Zi(n,e.child,null,f),n.child=Zi(n,null,y,f)):$t(e,n,y,f),n.memoizedState=l.state,c&&A1(n,i,!0),n.child}function gd(e){var n=e.stateNode;n.pendingContext?E1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&E1(e,n.context,!1),nc(e,n.containerInfo)}function F1(e,n,i,l,c){return Xi(),Ku(c),n.flags|=256,$t(e,n,i,l),n.child}var du={dehydrated:null,treeContext:null,retryLane:0};function hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,n,i){var l=n.pendingProps,c=xt.current,f=!1,p=(n.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),rt(xt,c&1),e===null)return su(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=l.children,e=l.fallback,f?(l=n.mode,f=n.child,p={mode:"hidden",children:p},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Ma(p,l,0,null),e=si(e,l,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=hu(i),n.memoizedState=du,e):cc(n,p));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return P2(e,n,p,l,y,c,i);if(f){f=l.fallback,p=n.mode,c=e.child,y=c.sibling;var w={mode:"hidden",children:l.children};return!(p&1)&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=w,n.deletions=null):(l=zr(c,w),l.subtreeFlags=c.subtreeFlags&14680064),y!==null?f=zr(y,f):(f=si(f,p,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,p=e.child.memoizedState,p=p===null?hu(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~i,n.memoizedState=du,l}return f=e.child,e=f.sibling,l=zr(f,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=i),l.return=n,l.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=l,n.memoizedState=null,l}function cc(e,n){return n=Ma({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function _o(e,n,i,l){return l!==null&&Ku(l),Zi(n,e.child,null,i),e=cc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function P2(e,n,i,l,c,f,p){if(i)return n.flags&256?(n.flags&=-257,l=Tl(Error(ne(422))),_o(e,n,p,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,c=n.mode,l=Ma({mode:"visible",children:l.children},c,0,null),f=si(f,c,p,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,n.mode&1&&Zi(n,e.child,null,p),n.child.memoizedState=hu(p),n.memoizedState=du,f);if(!(n.mode&1))return _o(e,n,p,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var y=l.dgst;return l=y,f=Error(ne(419)),l=Tl(f,l,void 0),_o(e,n,p,l)}if(y=(p&e.childLanes)!==0,dn||y){if(l=Pt,l!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|p)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,pr(e,c),Xn(l,e,c,-1))}return xc(),l=Tl(Error(ne(421))),_o(e,n,p,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=K2.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,An=Br(c.nextSibling),Sn=n,dt=!0,Gn=null,e!==null&&(Dn[bn++]=ur,Dn[bn++]=cr,Dn[bn++]=li,ur=e.id,cr=e.overflow,li=n),n=cc(n,l.children),n.flags|=4096,n)}function U1(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ou(e.return,n,i)}function Nl(e,n,i,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=c)}function xd(e,n,i){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if($t(e,n,l.children,i),l=xt.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U1(e,i,n);else if(e.tag===19)U1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(rt(xt,l),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&oa(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Nl(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&oa(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Nl(n,!0,i,null,f);break;case"together":Nl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function xr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ci|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ne(153));if(n.child!==null){for(e=n.child,i=zr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=zr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function F2(e,n,i){switch(n.tag){case 3:gd(n),Xi();break;case 5:Hf(n);break;case 1:gn(n.type)&&ea(n);break;case 4:nc(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;rt(ra,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(rt(xt,xt.current&1),n.flags|=128,null):i&n.child.childLanes?pd(e,n,i):(rt(xt,xt.current&1),e=xr(e,n,i),e!==null?e.sibling:null);rt(xt,xt.current&1);break;case 19:if(l=(i&n.childLanes)!==0,e.flags&128){if(l)return xd(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(xt,xt.current),l)break;return null;case 22:case 23:return n.lanes=0,dd(e,n,i)}return xr(e,n,i)}var md,gu,wd,yd;md=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};gu=function(){};wd=function(e,n,i,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,ri(or.current);var f=null;switch(i){case"input":c=Bl(e,c),l=Bl(e,l),f=[];break;case"select":c=wt({},c,{value:void 0}),l=wt({},l,{value:void 0}),f=[];break;case"textarea":c=Ul(e,c),l=Ul(e,l),f=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Jo)}jl(i,l);var p;i=null;for(x in c)if(!l.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var y=c[x];for(p in y)y.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Ls.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in l){var w=l[x];if(y=c!=null?c[x]:void 0,l.hasOwnProperty(x)&&w!==y&&(w!=null||y!=null))if(x==="style")if(y){for(p in y)!y.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in w)w.hasOwnProperty(p)&&y[p]!==w[p]&&(i||(i={}),i[p]=w[p])}else i||(f||(f=[]),f.push(x,i)),i=w;else x==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,y=y?y.__html:void 0,w!=null&&y!==w&&(f=f||[]).push(x,w)):x==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(x,""+w):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(x)?(w!=null&&x==="onScroll"&&ot("scroll",e),f||y===w||(f=[])):(f=f||[]).push(x,w))}i&&(f=f||[]).push("style",i);var x=f;(n.updateQueue=x)&&(n.flags|=4)}};yd=function(e,n,i,l){i!==l&&(n.flags|=4)};function ws(e,n){if(!dt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function U2(e,n,i){var l=n.pendingProps;switch(Qu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(n),null;case 1:return gn(n.type)&&$o(),Qt(n),null;case 3:return l=n.stateNode,Qi(),lt(hn),lt(qt),ic(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(To(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Gn!==null&&(Au(Gn),Gn=null))),gu(e,n),Qt(n),null;case 5:rc(n);var c=ri(Ys.current);if(i=n.type,e!==null&&n.stateNode!=null)wd(e,n,i,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(ne(166));return Qt(n),null}if(e=ri(or.current),To(n)){l=n.stateNode,i=n.type;var f=n.memoizedProps;switch(l[ir]=n,l[Ws]=f,e=(n.mode&1)!==0,i){case"dialog":ot("cancel",l),ot("close",l);break;case"iframe":case"object":case"embed":ot("load",l);break;case"video":case"audio":for(c=0;c<Ss.length;c++)ot(Ss[c],l);break;case"source":ot("error",l);break;case"img":case"image":case"link":ot("error",l),ot("load",l);break;case"details":ot("toggle",l);break;case"input":Zc(l,f),ot("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},ot("invalid",l);break;case"textarea":Kc(l,f),ot("invalid",l)}jl(i,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var y=f[p];p==="children"?typeof y=="string"?l.textContent!==y&&(f.suppressHydrationWarning!==!0&&vo(l.textContent,y,e),c=["children",y]):typeof y=="number"&&l.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&vo(l.textContent,y,e),c=["children",""+y]):Ls.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&ot("scroll",l)}switch(i){case"input":mo(l),Qc(l,f,!0);break;case"textarea":mo(l),qc(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Jo)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y0(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=p.createElement(i,{is:l.is}):(e=p.createElement(i),i==="select"&&(p=e,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):e=p.createElementNS(e,i),e[ir]=n,e[Ws]=l,md(e,n,!1,!1),n.stateNode=e;e:{switch(p=Hl(i,l),i){case"dialog":ot("cancel",e),ot("close",e),c=l;break;case"iframe":case"object":case"embed":ot("load",e),c=l;break;case"video":case"audio":for(c=0;c<Ss.length;c++)ot(Ss[c],e);c=l;break;case"source":ot("error",e),c=l;break;case"img":case"image":case"link":ot("error",e),ot("load",e),c=l;break;case"details":ot("toggle",e),c=l;break;case"input":Zc(e,l),c=Bl(e,l),ot("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=wt({},l,{value:void 0}),ot("invalid",e);break;case"textarea":Kc(e,l),c=Ul(e,l),ot("invalid",e);break;default:c=l}jl(i,c),y=c;for(f in y)if(y.hasOwnProperty(f)){var w=y[f];f==="style"?Q0(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&X0(e,w)):f==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&ks(e,w):typeof w=="number"&&ks(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ls.hasOwnProperty(f)?w!=null&&f==="onScroll"&&ot("scroll",e):w!=null&&Lu(e,f,w,p))}switch(i){case"input":mo(e),Qc(e,l,!1);break;case"textarea":mo(e),qc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+jr(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?Ui(e,!!l.multiple,f,!1):l.defaultValue!=null&&Ui(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Jo)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Qt(n),null;case 6:if(e&&n.stateNode!=null)yd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(ne(166));if(i=ri(Ys.current),ri(or.current),To(n)){if(l=n.stateNode,i=n.memoizedProps,l[ir]=n,(f=l.nodeValue!==i)&&(e=Sn,e!==null))switch(e.tag){case 3:vo(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vo(l.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[ir]=n,n.stateNode=l}return Qt(n),null;case 13:if(lt(xt),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&An!==null&&n.mode&1&&!(n.flags&128))Pf(),Xi(),n.flags|=98560,f=!1;else if(f=To(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(ne(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(ne(317));f[ir]=n}else Xi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Qt(n),f=!1}else Gn!==null&&(Au(Gn),Gn=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||xt.current&1?Rt===0&&(Rt=3):xc())),n.updateQueue!==null&&(n.flags|=4),Qt(n),null);case 4:return Qi(),gu(e,n),e===null&&Hs(n.stateNode.containerInfo),Qt(n),null;case 10:return $u(n.type._context),Qt(n),null;case 17:return gn(n.type)&&$o(),Qt(n),null;case 19:if(lt(xt),f=n.memoizedState,f===null)return Qt(n),null;if(l=(n.flags&128)!==0,p=f.rendering,p===null)if(l)ws(f,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=oa(e),p!==null){for(n.flags|=128,ws(f,!1),l=p.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)f=i,e=l,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return rt(xt,xt.current&1|2),n.child}e=e.sibling}f.tail!==null&&Tt()>qi&&(n.flags|=128,l=!0,ws(f,!1),n.lanes=4194304)}else{if(!l)if(e=oa(p),e!==null){if(n.flags|=128,l=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ws(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!dt)return Qt(n),null}else 2*Tt()-f.renderingStartTime>qi&&i!==1073741824&&(n.flags|=128,l=!0,ws(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(i=f.last,i!==null?i.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Tt(),n.sibling=null,i=xt.current,rt(xt,l?i&1|2:i&1),n):(Qt(n),null);case 22:case 23:return pc(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?Cn&1073741824&&(Qt(n),n.subtreeFlags&6&&(n.flags|=8192)):Qt(n),null;case 24:return null;case 25:return null}throw Error(ne(156,n.tag))}function z2(e,n){switch(Qu(n),n.tag){case 1:return gn(n.type)&&$o(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(),lt(hn),lt(qt),ic(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return rc(n),null;case 13:if(lt(xt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ne(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(xt),null;case 4:return Qi(),null;case 10:return $u(n.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var Mo=!1,Kt=!1,j2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Bi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){It(e,n,l)}else i.current=null}function pu(e,n,i){try{i()}catch(l){It(e,n,l)}}var z1=!1;function H2(e,n){if(Jl=Qo,e=If(),Xu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var p=0,y=-1,w=-1,x=0,S=0,I=e,L=null;t:for(;;){for(var U;I!==i||c!==0&&I.nodeType!==3||(y=p+c),I!==f||l!==0&&I.nodeType!==3||(w=p+l),I.nodeType===3&&(p+=I.nodeValue.length),(U=I.firstChild)!==null;)L=I,I=U;for(;;){if(I===e)break t;if(L===i&&++x===c&&(y=p),L===f&&++S===l&&(w=p),(U=I.nextSibling)!==null)break;I=L,L=I.parentNode}I=U}i=y===-1||w===-1?null:{start:y,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for($l={focusedElem:e,selectionRange:i},Qo=!1,ge=n;ge!==null;)if(n=ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ge=e;else for(;ge!==null;){n=ge;try{var G=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var H=G.memoizedProps,K=G.memoizedState,D=n.stateNode,_=D.getSnapshotBeforeUpdate(n.elementType===n.type?H:Hn(n.type,H),K);D.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(V){It(n,n.return,V)}if(e=n.sibling,e!==null){e.return=n.return,ge=e;break}ge=n.return}return G=z1,z1=!1,G}function Rs(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&pu(n,i,f)}c=c.next}while(c!==l)}}function Na(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function xu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Cd(e){var n=e.alternate;n!==null&&(e.alternate=null,Cd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[ir],delete n[Ws],delete n[nu],delete n[I2],delete n[v2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ed(e){return e.tag===5||e.tag===3||e.tag===4}function j1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Jo));else if(l!==4&&(e=e.child,e!==null))for(mu(e,n,i),e=e.sibling;e!==null;)mu(e,n,i),e=e.sibling}function wu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(wu(e,n,i),e=e.sibling;e!==null;)wu(e,n,i),e=e.sibling}var Ht=null,Vn=!1;function Ir(e,n,i){for(i=i.child;i!==null;)Ad(e,n,i),i=i.sibling}function Ad(e,n,i){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ya,i)}catch{}switch(i.tag){case 5:Kt||Bi(i,n);case 6:var l=Ht,c=Vn;Ht=null,Ir(e,n,i),Ht=l,Vn=c,Ht!==null&&(Vn?(e=Ht,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ht.removeChild(i.stateNode));break;case 18:Ht!==null&&(Vn?(e=Ht,i=i.stateNode,e.nodeType===8?Cl(e.parentNode,i):e.nodeType===1&&Cl(e,i),Us(e)):Cl(Ht,i.stateNode));break;case 4:l=Ht,c=Vn,Ht=i.stateNode.containerInfo,Vn=!0,Ir(e,n,i),Ht=l,Vn=c;break;case 0:case 11:case 14:case 15:if(!Kt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&pu(i,n,p),c=c.next}while(c!==l)}Ir(e,n,i);break;case 1:if(!Kt&&(Bi(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(y){It(i,n,y)}Ir(e,n,i);break;case 21:Ir(e,n,i);break;case 22:i.mode&1?(Kt=(l=Kt)||i.memoizedState!==null,Ir(e,n,i),Kt=l):Ir(e,n,i);break;default:Ir(e,n,i)}}function H1(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new j2),n.forEach(function(l){var c=q2.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}}function jn(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];try{var f=e,p=n,y=p;e:for(;y!==null;){switch(y.tag){case 5:Ht=y.stateNode,Vn=!1;break e;case 3:Ht=y.stateNode.containerInfo,Vn=!0;break e;case 4:Ht=y.stateNode.containerInfo,Vn=!0;break e}y=y.return}if(Ht===null)throw Error(ne(160));Ad(f,p,c),Ht=null,Vn=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(x){It(c,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Sd(n,e),n=n.sibling}function Sd(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jn(n,e),tr(e),l&4){try{Rs(3,e,e.return),Na(3,e)}catch(H){It(e,e.return,H)}try{Rs(5,e,e.return)}catch(H){It(e,e.return,H)}}break;case 1:jn(n,e),tr(e),l&512&&i!==null&&Bi(i,i.return);break;case 5:if(jn(n,e),tr(e),l&512&&i!==null&&Bi(i,i.return),e.flags&32){var c=e.stateNode;try{ks(c,"")}catch(H){It(e,e.return,H)}}if(l&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,p=i!==null?i.memoizedProps:f,y=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&W0(c,f),Hl(y,p);var x=Hl(y,f);for(p=0;p<w.length;p+=2){var S=w[p],I=w[p+1];S==="style"?Q0(c,I):S==="dangerouslySetInnerHTML"?X0(c,I):S==="children"?ks(c,I):Lu(c,S,I,x)}switch(y){case"input":Pl(c,f);break;case"textarea":G0(c,f);break;case"select":var L=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var U=f.value;U!=null?Ui(c,!!f.multiple,U,!1):L!==!!f.multiple&&(f.defaultValue!=null?Ui(c,!!f.multiple,f.defaultValue,!0):Ui(c,!!f.multiple,f.multiple?[]:"",!1))}c[Ws]=f}catch(H){It(e,e.return,H)}}break;case 6:if(jn(n,e),tr(e),l&4){if(e.stateNode===null)throw Error(ne(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(H){It(e,e.return,H)}}break;case 3:if(jn(n,e),tr(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Us(n.containerInfo)}catch(H){It(e,e.return,H)}break;case 4:jn(n,e),tr(e);break;case 13:jn(n,e),tr(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(hc=Tt())),l&4&&H1(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(Kt=(x=Kt)||S,jn(n,e),Kt=x):jn(n,e),tr(e),l&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!S&&e.mode&1)for(ge=e,S=e.child;S!==null;){for(I=ge=S;ge!==null;){switch(L=ge,U=L.child,L.tag){case 0:case 11:case 14:case 15:Rs(4,L,L.return);break;case 1:Bi(L,L.return);var G=L.stateNode;if(typeof G.componentWillUnmount=="function"){l=L,i=L.return;try{n=l,G.props=n.memoizedProps,G.state=n.memoizedState,G.componentWillUnmount()}catch(H){It(l,i,H)}}break;case 5:Bi(L,L.return);break;case 22:if(L.memoizedState!==null){W1(I);continue}}U!==null?(U.return=L,ge=U):W1(I)}S=S.sibling}e:for(S=null,I=e;;){if(I.tag===5){if(S===null){S=I;try{c=I.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=I.stateNode,w=I.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,y.style.display=Z0("display",p))}catch(H){It(e,e.return,H)}}}else if(I.tag===6){if(S===null)try{I.stateNode.nodeValue=x?"":I.memoizedProps}catch(H){It(e,e.return,H)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;S===I&&(S=null),I=I.return}S===I&&(S=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:jn(n,e),tr(e),l&4&&H1(e);break;case 21:break;default:jn(n,e),tr(e)}}function tr(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Ed(i)){var l=i;break e}i=i.return}throw Error(ne(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(ks(c,""),l.flags&=-33);var f=j1(e);wu(e,f,c);break;case 3:case 4:var p=l.stateNode.containerInfo,y=j1(e);mu(e,y,p);break;default:throw Error(ne(161))}}catch(w){It(e,e.return,w)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function V2(e,n,i){ge=e,Id(e)}function Id(e,n,i){for(var l=(e.mode&1)!==0;ge!==null;){var c=ge,f=c.child;if(c.tag===22&&l){var p=c.memoizedState!==null||Mo;if(!p){var y=c.alternate,w=y!==null&&y.memoizedState!==null||Kt;y=Mo;var x=Kt;if(Mo=p,(Kt=w)&&!x)for(ge=c;ge!==null;)p=ge,w=p.child,p.tag===22&&p.memoizedState!==null?G1(c):w!==null?(w.return=p,ge=w):G1(c);for(;f!==null;)ge=f,Id(f),f=f.sibling;ge=c,Mo=y,Kt=x}V1(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,ge=f):V1(e)}}function V1(e){for(;ge!==null;){var n=ge;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Kt||Na(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Kt)if(i===null)l.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:Hn(n.type,i.memoizedProps);l.componentDidUpdate(c,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&N1(n,f,l);break;case 3:var p=n.updateQueue;if(p!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}N1(n,p,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&i.focus();break;case"img":w.src&&(i.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var S=x.memoizedState;if(S!==null){var I=S.dehydrated;I!==null&&Us(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Kt||n.flags&512&&xu(n)}catch(L){It(n,n.return,L)}}if(n===e){ge=null;break}if(i=n.sibling,i!==null){i.return=n.return,ge=i;break}ge=n.return}}function W1(e){for(;ge!==null;){var n=ge;if(n===e){ge=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ge=i;break}ge=n.return}}function G1(e){for(;ge!==null;){var n=ge;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Na(4,n)}catch(w){It(n,i,w)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(w){It(n,c,w)}}var f=n.return;try{xu(n)}catch(w){It(n,f,w)}break;case 5:var p=n.return;try{xu(n)}catch(w){It(n,p,w)}}}catch(w){It(n,n.return,w)}if(n===e){ge=null;break}var y=n.sibling;if(y!==null){y.return=n.return,ge=y;break}ge=n.return}}var W2=Math.ceil,ua=mr.ReactCurrentDispatcher,fc=mr.ReactCurrentOwner,kn=mr.ReactCurrentBatchConfig,Ue=0,Pt=null,Nt=null,Vt=0,Cn=0,Pi=Gr(0),Rt=0,Ks=null,ci=0,_a=0,dc=0,Ds=null,fn=null,hc=0,qi=1/0,ar=null,ca=!1,yu=null,Fr=null,Oo=!1,Rr=null,fa=0,bs=0,Cu=null,jo=-1,Ho=0;function en(){return Ue&6?Tt():jo!==-1?jo:jo=Tt()}function Ur(e){return e.mode&1?Ue&2&&Vt!==0?Vt&-Vt:N2.transition!==null?(Ho===0&&(Ho=lf()),Ho):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:pf(e.type)),e):1}function Xn(e,n,i,l){if(50<bs)throw bs=0,Cu=null,Error(ne(185));eo(e,i,l),(!(Ue&2)||e!==Pt)&&(e===Pt&&(!(Ue&2)&&(_a|=i),Rt===4&&Mr(e,Vt)),pn(e,l),i===1&&Ue===0&&!(n.mode&1)&&(qi=Tt()+500,Ia&&Yr()))}function pn(e,n){var i=e.callbackNode;Ng(e,n);var l=Zo(e,e===Pt?Vt:0);if(l===0)i!==null&&e1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&e1(i),n===1)e.tag===0?T2(Y1.bind(null,e)):Lf(Y1.bind(null,e)),A2(function(){!(Ue&6)&&Yr()}),i=null;else{switch(uf(l)){case 1:i=Uu;break;case 4:i=of;break;case 16:i=Xo;break;case 536870912:i=af;break;default:i=Xo}i=Dd(i,vd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function vd(e,n){if(jo=-1,Ho=0,Ue&6)throw Error(ne(327));var i=e.callbackNode;if(Wi()&&e.callbackNode!==i)return null;var l=Zo(e,e===Pt?Vt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=da(e,l);else{n=l;var c=Ue;Ue|=2;var f=Nd();(Pt!==e||Vt!==n)&&(ar=null,qi=Tt()+500,ii(e,n));do try{X2();break}catch(y){Td(e,y)}while(!0);Ju(),ua.current=f,Ue=c,Nt!==null?n=0:(Pt=null,Vt=0,n=Rt)}if(n!==0){if(n===2&&(c=Xl(e),c!==0&&(l=c,n=Eu(e,c))),n===1)throw i=Ks,ii(e,0),Mr(e,l),pn(e,Tt()),i;if(n===6)Mr(e,l);else{if(c=e.current.alternate,!(l&30)&&!G2(c)&&(n=da(e,l),n===2&&(f=Xl(e),f!==0&&(l=f,n=Eu(e,f))),n===1))throw i=Ks,ii(e,0),Mr(e,l),pn(e,Tt()),i;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(ne(345));case 2:ei(e,fn,ar);break;case 3:if(Mr(e,l),(l&130023424)===l&&(n=hc+500-Tt(),10<n)){if(Zo(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){en(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=tu(ei.bind(null,e,fn,ar),n);break}ei(e,fn,ar);break;case 4:if(Mr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var p=31-Yn(l);f=1<<p,p=n[p],p>c&&(c=p),l&=~f}if(l=c,l=Tt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*W2(l/1960))-l,10<l){e.timeoutHandle=tu(ei.bind(null,e,fn,ar),l);break}ei(e,fn,ar);break;case 5:ei(e,fn,ar);break;default:throw Error(ne(329))}}}return pn(e,Tt()),e.callbackNode===i?vd.bind(null,e):null}function Eu(e,n){var i=Ds;return e.current.memoizedState.isDehydrated&&(ii(e,n).flags|=256),e=da(e,n),e!==2&&(n=fn,fn=i,n!==null&&Au(n)),e}function Au(e){fn===null?fn=e:fn.push.apply(fn,e)}function G2(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!Zn(f(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n){for(n&=~dc,n&=~_a,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Yn(n),l=1<<i;e[i]=-1,n&=~l}}function Y1(e){if(Ue&6)throw Error(ne(327));Wi();var n=Zo(e,0);if(!(n&1))return pn(e,Tt()),null;var i=da(e,n);if(e.tag!==0&&i===2){var l=Xl(e);l!==0&&(n=l,i=Eu(e,l))}if(i===1)throw i=Ks,ii(e,0),Mr(e,n),pn(e,Tt()),i;if(i===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ei(e,fn,ar),pn(e,Tt()),null}function gc(e,n){var i=Ue;Ue|=1;try{return e(n)}finally{Ue=i,Ue===0&&(qi=Tt()+500,Ia&&Yr())}}function fi(e){Rr!==null&&Rr.tag===0&&!(Ue&6)&&Wi();var n=Ue;Ue|=1;var i=kn.transition,l=Ke;try{if(kn.transition=null,Ke=1,e)return e()}finally{Ke=l,kn.transition=i,Ue=n,!(Ue&6)&&Yr()}}function pc(){Cn=Pi.current,lt(Pi)}function ii(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,E2(i)),Nt!==null)for(i=Nt.return;i!==null;){var l=i;switch(Qu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&$o();break;case 3:Qi(),lt(hn),lt(qt),ic();break;case 5:rc(l);break;case 4:Qi();break;case 13:lt(xt);break;case 19:lt(xt);break;case 10:$u(l.type._context);break;case 22:case 23:pc()}i=i.return}if(Pt=e,Nt=e=zr(e.current,null),Vt=Cn=n,Rt=0,Ks=null,dc=_a=ci=0,fn=Ds=null,ni!==null){for(n=0;n<ni.length;n++)if(i=ni[n],l=i.interleaved,l!==null){i.interleaved=null;var c=l.next,f=i.pending;if(f!==null){var p=f.next;f.next=c,l.next=p}i.pending=l}ni=null}return e}function Td(e,n){do{var i=Nt;try{if(Ju(),Fo.current=la,aa){for(var l=mt.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}aa=!1}if(ui=0,Bt=Ot=mt=null,Os=!1,Xs=0,fc.current=null,i===null||i.return===null){Rt=1,Ks=n,Nt=null;break}e:{var f=e,p=i.return,y=i,w=n;if(n=Vt,y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var x=w,S=y,I=S.tag;if(!(S.mode&1)&&(I===0||I===11||I===15)){var L=S.alternate;L?(S.updateQueue=L.updateQueue,S.memoizedState=L.memoizedState,S.lanes=L.lanes):(S.updateQueue=null,S.memoizedState=null)}var U=b1(p);if(U!==null){U.flags&=-257,L1(U,p,y,f,n),U.mode&1&&D1(f,x,n),n=U,w=x;var G=n.updateQueue;if(G===null){var H=new Set;H.add(w),n.updateQueue=H}else G.add(w);break e}else{if(!(n&1)){D1(f,x,n),xc();break e}w=Error(ne(426))}}else if(dt&&y.mode&1){var K=b1(p);if(K!==null){!(K.flags&65536)&&(K.flags|=256),L1(K,p,y,f,n),Ku(Ki(w,y));break e}}f=w=Ki(w,y),Rt!==4&&(Rt=2),Ds===null?Ds=[f]:Ds.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var D=ud(f,w,n);T1(f,D);break e;case 1:y=w;var _=f.type,O=f.stateNode;if(!(f.flags&128)&&(typeof _.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Fr===null||!Fr.has(O)))){f.flags|=65536,n&=-n,f.lanes|=n;var V=cd(f,y,n);T1(f,V);break e}}f=f.return}while(f!==null)}Md(i)}catch(ae){n=ae,Nt===i&&i!==null&&(Nt=i=i.return);continue}break}while(!0)}function Nd(){var e=ua.current;return ua.current=la,e===null?la:e}function xc(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Pt===null||!(ci&268435455)&&!(_a&268435455)||Mr(Pt,Vt)}function da(e,n){var i=Ue;Ue|=2;var l=Nd();(Pt!==e||Vt!==n)&&(ar=null,ii(e,n));do try{Y2();break}catch(c){Td(e,c)}while(!0);if(Ju(),Ue=i,ua.current=l,Nt!==null)throw Error(ne(261));return Pt=null,Vt=0,Rt}function Y2(){for(;Nt!==null;)_d(Nt)}function X2(){for(;Nt!==null&&!wg();)_d(Nt)}function _d(e){var n=Rd(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,n===null?Md(e):Nt=n,fc.current=null}function Md(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=z2(i,n),i!==null){i.flags&=32767,Nt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Nt=null;return}}else if(i=U2(i,n,Cn),i!==null){Nt=i;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);Rt===0&&(Rt=5)}function ei(e,n,i){var l=Ke,c=kn.transition;try{kn.transition=null,Ke=1,Z2(e,n,i,l)}finally{kn.transition=c,Ke=l}return null}function Z2(e,n,i,l){do Wi();while(Rr!==null);if(Ue&6)throw Error(ne(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(_g(e,f),e===Pt&&(Nt=Pt=null,Vt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Oo||(Oo=!0,Dd(Xo,function(){return Wi(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=kn.transition,kn.transition=null;var p=Ke;Ke=1;var y=Ue;Ue|=4,fc.current=null,H2(e,i),Sd(i,e),g2($l),Qo=!!Jl,$l=Jl=null,e.current=i,V2(i),yg(),Ue=y,Ke=p,kn.transition=f}else e.current=i;if(Oo&&(Oo=!1,Rr=e,fa=c),f=e.pendingLanes,f===0&&(Fr=null),Ag(i.stateNode),pn(e,Tt()),n!==null)for(l=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],l(c.value,{componentStack:c.stack,digest:c.digest});if(ca)throw ca=!1,e=yu,yu=null,e;return fa&1&&e.tag!==0&&Wi(),f=e.pendingLanes,f&1?e===Cu?bs++:(bs=0,Cu=e):bs=0,Yr(),null}function Wi(){if(Rr!==null){var e=uf(fa),n=kn.transition,i=Ke;try{if(kn.transition=null,Ke=16>e?16:e,Rr===null)var l=!1;else{if(e=Rr,Rr=null,fa=0,Ue&6)throw Error(ne(331));var c=Ue;for(Ue|=4,ge=e.current;ge!==null;){var f=ge,p=f.child;if(ge.flags&16){var y=f.deletions;if(y!==null){for(var w=0;w<y.length;w++){var x=y[w];for(ge=x;ge!==null;){var S=ge;switch(S.tag){case 0:case 11:case 15:Rs(8,S,f)}var I=S.child;if(I!==null)I.return=S,ge=I;else for(;ge!==null;){S=ge;var L=S.sibling,U=S.return;if(Cd(S),S===x){ge=null;break}if(L!==null){L.return=U,ge=L;break}ge=U}}}var G=f.alternate;if(G!==null){var H=G.child;if(H!==null){G.child=null;do{var K=H.sibling;H.sibling=null,H=K}while(H!==null)}}ge=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,ge=p;else e:for(;ge!==null;){if(f=ge,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Rs(9,f,f.return)}var D=f.sibling;if(D!==null){D.return=f.return,ge=D;break e}ge=f.return}}var _=e.current;for(ge=_;ge!==null;){p=ge;var O=p.child;if(p.subtreeFlags&2064&&O!==null)O.return=p,ge=O;else e:for(p=_;ge!==null;){if(y=ge,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:Na(9,y)}}catch(ae){It(y,y.return,ae)}if(y===p){ge=null;break e}var V=y.sibling;if(V!==null){V.return=y.return,ge=V;break e}ge=y.return}}if(Ue=c,Yr(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ya,e)}catch{}l=!0}return l}finally{Ke=i,kn.transition=n}}return!1}function X1(e,n,i){n=Ki(i,n),n=ud(e,n,1),e=Pr(e,n,1),n=en(),e!==null&&(eo(e,1,n),pn(e,n))}function It(e,n,i){if(e.tag===3)X1(e,e,i);else for(;n!==null;){if(n.tag===3){X1(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){e=Ki(i,e),e=cd(n,e,1),n=Pr(n,e,1),e=en(),n!==null&&(eo(n,1,e),pn(n,e));break}}n=n.return}}function Q2(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=en(),e.pingedLanes|=e.suspendedLanes&i,Pt===e&&(Vt&i)===i&&(Rt===4||Rt===3&&(Vt&130023424)===Vt&&500>Tt()-hc?ii(e,0):dc|=i),pn(e,n)}function Od(e,n){n===0&&(e.mode&1?(n=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):n=1);var i=en();e=pr(e,n),e!==null&&(eo(e,n,i),pn(e,i))}function K2(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Od(e,i)}function q2(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(ne(314))}l!==null&&l.delete(n),Od(e,i)}var Rd;Rd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||hn.current)dn=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return dn=!1,F2(e,n,i);dn=!!(e.flags&131072)}else dn=!1,dt&&n.flags&1048576&&kf(n,na,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;zo(e,n),e=n.pendingProps;var c=Yi(n,qt.current);Vi(n,i),c=oc(null,n,l,e,c,i);var f=ac();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,gn(l)?(f=!0,ea(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,tc(n),c.updater=Ta,n.stateNode=c,c._reactInternals=n,lu(n,l,e,i),n=fu(null,n,l,!0,f,i)):(n.tag=0,dt&&f&&Zu(n),$t(null,n,c,i),n=n.child),n;case 16:l=n.elementType;e:{switch(zo(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=$2(l),e=Hn(l,e),c){case 0:n=cu(null,n,l,e,i);break e;case 1:n=P1(null,n,l,e,i);break e;case 11:n=k1(null,n,l,e,i);break e;case 14:n=B1(null,n,l,Hn(l.type,e),i);break e}throw Error(ne(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Hn(l,c),cu(e,n,l,c,i);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Hn(l,c),P1(e,n,l,c,i);case 3:e:{if(gd(n),e===null)throw Error(ne(387));l=n.pendingProps,f=n.memoizedState,c=f.element,jf(e,n),sa(n,l,null,i);var p=n.memoizedState;if(l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Ki(Error(ne(423)),n),n=F1(e,n,l,i,c);break e}else if(l!==c){c=Ki(Error(ne(424)),n),n=F1(e,n,l,i,c);break e}else for(An=Br(n.stateNode.containerInfo.firstChild),Sn=n,dt=!0,Gn=null,i=Uf(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Xi(),l===c){n=xr(e,n,i);break e}$t(e,n,l,i)}n=n.child}return n;case 5:return Hf(n),e===null&&su(n),l=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,p=c.children,eu(l,c)?p=null:f!==null&&eu(l,f)&&(n.flags|=32),hd(e,n),$t(e,n,p,i),n.child;case 6:return e===null&&su(n),null;case 13:return pd(e,n,i);case 4:return nc(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Zi(n,null,l,i):$t(e,n,l,i),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Hn(l,c),k1(e,n,l,c,i);case 7:return $t(e,n,n.pendingProps,i),n.child;case 8:return $t(e,n,n.pendingProps.children,i),n.child;case 12:return $t(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,f=n.memoizedProps,p=c.value,rt(ra,l._currentValue),l._currentValue=p,f!==null)if(Zn(f.value,p)){if(f.children===c.children&&!hn.current){n=xr(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){p=f.child;for(var w=y.firstContext;w!==null;){if(w.context===l){if(f.tag===1){w=dr(-1,i&-i),w.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var S=x.pending;S===null?w.next=w:(w.next=S.next,S.next=w),x.pending=w}}f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),ou(f.return,i,n),y.lanes|=i;break}w=w.next}}else if(f.tag===10)p=f.type===n.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(ne(341));p.lanes|=i,y=p.alternate,y!==null&&(y.lanes|=i),ou(p,i,n),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===n){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}$t(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,Vi(n,i),c=Bn(c),l=l(c),n.flags|=1,$t(e,n,l,i),n.child;case 14:return l=n.type,c=Hn(l,n.pendingProps),c=Hn(l.type,c),B1(e,n,l,c,i);case 15:return fd(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:Hn(l,c),zo(e,n),n.tag=1,gn(l)?(e=!0,ea(n)):e=!1,Vi(n,i),ld(n,l,c),lu(n,l,c,i),fu(null,n,l,!0,e,i);case 19:return xd(e,n,i);case 22:return dd(e,n,i)}throw Error(ne(156,n.tag))};function Dd(e,n){return sf(e,n)}function J2(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,n,i,l){return new J2(e,n,i,l)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $2(e){if(typeof e=="function")return mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bu)return 11;if(e===Pu)return 14}return 2}function zr(e,n){var i=e.alternate;return i===null?(i=Ln(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Vo(e,n,i,l,c,f){var p=2;if(l=e,typeof e=="function")mc(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Ni:return si(i.children,c,f,n);case ku:p=8,c|=8;break;case Dl:return e=Ln(12,i,n,c|2),e.elementType=Dl,e.lanes=f,e;case bl:return e=Ln(13,i,n,c),e.elementType=bl,e.lanes=f,e;case Ll:return e=Ln(19,i,n,c),e.elementType=Ll,e.lanes=f,e;case j0:return Ma(i,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U0:p=10;break e;case z0:p=9;break e;case Bu:p=11;break e;case Pu:p=14;break e;case Tr:p=16,l=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return n=Ln(p,i,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function si(e,n,i,l){return e=Ln(7,e,l,n),e.lanes=i,e}function Ma(e,n,i,l){return e=Ln(22,e,l,n),e.elementType=j0,e.lanes=i,e.stateNode={isHidden:!1},e}function _l(e,n,i){return e=Ln(6,e,null,n),e.lanes=i,e}function Ml(e,n,i){return n=Ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ep(e,n,i,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function wc(e,n,i,l,c,f,p,y,w){return e=new ep(e,n,i,y,w),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Ln(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(f),e}function tp(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}}function bd(e){if(!e)return Hr;e=e._reactInternals;e:{if(hi(e)!==e||e.tag!==1)throw Error(ne(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(gn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ne(171))}if(e.tag===1){var i=e.type;if(gn(i))return bf(e,i,n)}return n}function Ld(e,n,i,l,c,f,p,y,w){return e=wc(i,l,!0,e,c,f,p,y,w),e.context=bd(null),i=e.current,l=en(),c=Ur(i),f=dr(l,c),f.callback=n??null,Pr(i,f,c),e.current.lanes=c,eo(e,c,l),pn(e,l),e}function Oa(e,n,i,l){var c=n.current,f=en(),p=Ur(c);return i=bd(i),n.context===null?n.context=i:n.pendingContext=i,n=dr(f,p),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Pr(c,n,p),e!==null&&(Xn(e,c,p,f),Po(e,c,p)),p}function ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function yc(e,n){Z1(e,n),(e=e.alternate)&&Z1(e,n)}function np(){return null}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}Ra.prototype.render=Cc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ne(409));Oa(e,n,null,null)};Ra.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;fi(function(){Oa(null,e,null,null)}),n[gr]=null}};function Ra(e){this._internalRoot=e}Ra.prototype.unstable_scheduleHydration=function(e){if(e){var n=df();e={blockedOn:null,target:e,priority:n};for(var i=0;i<_r.length&&n!==0&&n<_r[i].priority;i++);_r.splice(i,0,e),i===0&&gf(e)}};function Ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function rp(e,n,i,l,c){if(c){if(typeof l=="function"){var f=l;l=function(){var x=ha(p);f.call(x)}}var p=Ld(n,l,e,0,null,!1,!1,"",Q1);return e._reactRootContainer=p,e[gr]=p.current,Hs(e.nodeType===8?e.parentNode:e),fi(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var y=l;l=function(){var x=ha(w);y.call(x)}}var w=wc(e,0,!1,null,null,!1,!1,"",Q1);return e._reactRootContainer=w,e[gr]=w.current,Hs(e.nodeType===8?e.parentNode:e),fi(function(){Oa(n,w,i,l)}),w}function ba(e,n,i,l,c){var f=i._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var y=c;c=function(){var w=ha(p);y.call(w)}}Oa(n,p,e,c)}else p=rp(i,n,e,c,l);return ha(p)}cf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=As(n.pendingLanes);i!==0&&(zu(n,i|1),pn(n,Tt()),!(Ue&6)&&(qi=Tt()+500,Yr()))}break;case 13:fi(function(){var l=pr(e,1);if(l!==null){var c=en();Xn(l,e,1,c)}}),yc(e,1)}};ju=function(e){if(e.tag===13){var n=pr(e,134217728);if(n!==null){var i=en();Xn(n,e,134217728,i)}yc(e,134217728)}};ff=function(e){if(e.tag===13){var n=Ur(e),i=pr(e,n);if(i!==null){var l=en();Xn(i,e,n,l)}yc(e,n)}};df=function(){return Ke};hf=function(e,n){var i=Ke;try{return Ke=e,n()}finally{Ke=i}};Wl=function(e,n,i){switch(n){case"input":if(Pl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var c=Sa(l);if(!c)throw Error(ne(90));V0(l),Pl(l,c)}}}break;case"textarea":G0(e,i);break;case"select":n=i.value,n!=null&&Ui(e,!!i.multiple,n,!1)}};J0=gc;$0=fi;var ip={usingClientEntryPoint:!1,Events:[no,Ri,Sa,K0,q0,gc]},ys={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sp={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nf(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||np,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{ya=Ro.inject(sp),sr=Ro}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ip;vn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ec(n))throw Error(ne(200));return tp(e,n,null,i)};vn.createRoot=function(e,n){if(!Ec(e))throw Error(ne(299));var i=!1,l="",c=kd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=wc(e,1,!1,null,null,i,!1,l,c),e[gr]=n.current,Hs(e.nodeType===8?e.parentNode:e),new Cc(n)};vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=nf(n),e=e===null?null:e.stateNode,e};vn.flushSync=function(e){return fi(e)};vn.hydrate=function(e,n,i){if(!Da(n))throw Error(ne(200));return ba(null,e,n,!0,i)};vn.hydrateRoot=function(e,n,i){if(!Ec(e))throw Error(ne(405));var l=i!=null&&i.hydratedSources||null,c=!1,f="",p=kd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),n=Ld(n,null,e,1,i??null,c,!1,f,p),e[gr]=n.current,Hs(e),l)for(e=0;e<l.length;e++)i=l[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new Ra(n)};vn.render=function(e,n,i){if(!Da(n))throw Error(ne(200));return ba(null,e,n,!1,i)};vn.unmountComponentAtNode=function(e){if(!Da(e))throw Error(ne(40));return e._reactRootContainer?(fi(function(){ba(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};vn.unstable_batchedUpdates=gc;vn.unstable_renderSubtreeIntoContainer=function(e,n,i,l){if(!Da(i))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return ba(e,n,i,!1,l)};vn.version="18.3.1-next-f1338f8080-20240426";function Bd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bd)}catch(e){console.error(e)}}Bd(),k0.exports=vn;var op=k0.exports,Pd,K1=op;Pd=K1.createRoot,K1.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},qs.apply(this,arguments)}var Dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dr||(Dr={}));const q1="popstate";function ap(e){e===void 0&&(e={});function n(l,c){let{pathname:f,search:p,hash:y}=l.location;return Su("",{pathname:f,search:p,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:Ud(c)}return up(n,i,null,e)}function Dt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Fd(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function lp(){return Math.random().toString(36).substr(2,8)}function J1(e,n){return{usr:e.state,key:e.key,idx:n}}function Su(e,n,i,l){return i===void 0&&(i=null),qs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?ts(n):n,{state:i,key:n&&n.key||l||lp()})}function Ud(e){let{pathname:n="/",search:i="",hash:l=""}=e;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function ts(e){let n={};if(e){let i=e.indexOf("#");i>=0&&(n.hash=e.substr(i),e=e.substr(0,i));let l=e.indexOf("?");l>=0&&(n.search=e.substr(l),e=e.substr(0,l)),e&&(n.pathname=e)}return n}function up(e,n,i,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:f=!1}=l,p=c.history,y=Dr.Pop,w=null,x=S();x==null&&(x=0,p.replaceState(qs({},p.state,{idx:x}),""));function S(){return(p.state||{idx:null}).idx}function I(){y=Dr.Pop;let K=S(),D=K==null?null:K-x;x=K,w&&w({action:y,location:H.location,delta:D})}function L(K,D){y=Dr.Push;let _=Su(H.location,K,D);x=S()+1;let O=J1(_,x),V=H.createHref(_);try{p.pushState(O,"",V)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;c.location.assign(V)}f&&w&&w({action:y,location:H.location,delta:1})}function U(K,D){y=Dr.Replace;let _=Su(H.location,K,D);x=S();let O=J1(_,x),V=H.createHref(_);p.replaceState(O,"",V),f&&w&&w({action:y,location:H.location,delta:0})}function G(K){let D=c.location.origin!=="null"?c.location.origin:c.location.href,_=typeof K=="string"?K:Ud(K);return _=_.replace(/ $/,"%20"),Dt(D,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,D)}let H={get action(){return y},get location(){return e(c,p)},listen(K){if(w)throw new Error("A history only accepts one active listener");return c.addEventListener(q1,I),w=K,()=>{c.removeEventListener(q1,I),w=null}},createHref(K){return n(c,K)},createURL:G,encodeLocation(K){let D=G(K);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:L,replace:U,go(K){return p.go(K)}};return H}var $1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($1||($1={}));function cp(e,n,i){return i===void 0&&(i="/"),fp(e,n,i,!1)}function fp(e,n,i,l){let c=typeof n=="string"?ts(n):n,f=Hd(c.pathname||"/",i);if(f==null)return null;let p=zd(e);dp(p);let y=null;for(let w=0;y==null&&w<p.length;++w){let x=Sp(f);y=Ep(p[w],x,l)}return y}function zd(e,n,i,l){n===void 0&&(n=[]),i===void 0&&(i=[]),l===void 0&&(l="");let c=(f,p,y)=>{let w={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};w.relativePath.startsWith("/")&&(Dt(w.relativePath.startsWith(l),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(l.length));let x=oi([l,w.relativePath]),S=i.concat(w);f.children&&f.children.length>0&&(Dt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),zd(f.children,n,S,x)),!(f.path==null&&!f.index)&&n.push({path:x,score:yp(x,f.index),routesMeta:S})};return e.forEach((f,p)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))c(f,p);else for(let w of jd(f.path))c(f,p,w)}),n}function jd(e){let n=e.split("/");if(n.length===0)return[];let[i,...l]=n,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let p=jd(l.join("/")),y=[];return y.push(...p.map(w=>w===""?f:[f,w].join("/"))),c&&y.push(...p),y.map(w=>e.startsWith("/")&&w===""?"/":w)}function dp(e){e.sort((n,i)=>n.score!==i.score?i.score-n.score:Cp(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}const hp=/^:[\w-]+$/,gp=3,pp=2,xp=1,mp=10,wp=-2,e0=e=>e==="*";function yp(e,n){let i=e.split("/"),l=i.length;return i.some(e0)&&(l+=wp),n&&(l+=pp),i.filter(c=>!e0(c)).reduce((c,f)=>c+(hp.test(f)?gp:f===""?xp:mp),l)}function Cp(e,n){return e.length===n.length&&e.slice(0,-1).every((l,c)=>l===n[c])?e[e.length-1]-n[n.length-1]:0}function Ep(e,n,i){let{routesMeta:l}=e,c={},f="/",p=[];for(let y=0;y<l.length;++y){let w=l[y],x=y===l.length-1,S=f==="/"?n:n.slice(f.length)||"/",I=t0({path:w.relativePath,caseSensitive:w.caseSensitive,end:x},S),L=w.route;if(!I&&x&&i&&!l[l.length-1].route.index&&(I=t0({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},S)),!I)return null;Object.assign(c,I.params),p.push({params:c,pathname:oi([f,I.pathname]),pathnameBase:Mp(oi([f,I.pathnameBase])),route:L}),I.pathnameBase!=="/"&&(f=oi([f,I.pathnameBase]))}return p}function t0(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,l]=Ap(e.path,e.caseSensitive,e.end),c=n.match(i);if(!c)return null;let f=c[0],p=f.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:l.reduce((x,S,I)=>{let{paramName:L,isOptional:U}=S;if(L==="*"){let H=y[I]||"";p=f.slice(0,f.length-H.length).replace(/(.)\/+$/,"$1")}const G=y[I];return U&&!G?x[L]=void 0:x[L]=(G||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:p,pattern:e}}function Ap(e,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),Fd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,w)=>(l.push({paramName:y,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function Sp(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Fd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Hd(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=e.charAt(i);return l&&l!=="/"?null:e.slice(i)||"/"}function Ip(e,n){n===void 0&&(n="/");let{pathname:i,search:l="",hash:c=""}=typeof e=="string"?ts(e):e;return{pathname:i?i.startsWith("/")?i:vp(i,n):n,search:Op(l),hash:Rp(c)}}function vp(e,n){let i=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Ol(e,n,i,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tp(e){return e.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Np(e,n){let i=Tp(e);return n?i.map((l,c)=>c===i.length-1?l.pathname:l.pathnameBase):i.map(l=>l.pathnameBase)}function _p(e,n,i,l){l===void 0&&(l=!1);let c;typeof e=="string"?c=ts(e):(c=qs({},e),Dt(!c.pathname||!c.pathname.includes("?"),Ol("?","pathname","search",c)),Dt(!c.pathname||!c.pathname.includes("#"),Ol("#","pathname","hash",c)),Dt(!c.search||!c.search.includes("#"),Ol("#","search","hash",c)));let f=e===""||c.pathname==="",p=f?"/":c.pathname,y;if(p==null)y=i;else{let I=n.length-1;if(!l&&p.startsWith("..")){let L=p.split("/");for(;L[0]==="..";)L.shift(),I-=1;c.pathname=L.join("/")}y=I>=0?n[I]:"/"}let w=Ip(c,y),x=p&&p!=="/"&&p.endsWith("/"),S=(f||p===".")&&i.endsWith("/");return!w.pathname.endsWith("/")&&(x||S)&&(w.pathname+="/"),w}const oi=e=>e.join("/").replace(/\/\/+/g,"/"),Mp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Op=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vd=["post","put","patch","delete"];new Set(Vd);const bp=["get",...Vd];new Set(bp);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},Js.apply(this,arguments)}const Ac=ce.createContext(null),Lp=ce.createContext(null),La=ce.createContext(null),ka=ce.createContext(null),gi=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),Wd=ce.createContext(null);function Ba(){return ce.useContext(ka)!=null}function Pa(){return Ba()||Dt(!1),ce.useContext(ka).location}function Gd(e){ce.useContext(La).static||ce.useLayoutEffect(e)}function io(){let{isDataRoute:e}=ce.useContext(gi);return e?Zp():kp()}function kp(){Ba()||Dt(!1);let e=ce.useContext(Ac),{basename:n,future:i,navigator:l}=ce.useContext(La),{matches:c}=ce.useContext(gi),{pathname:f}=Pa(),p=JSON.stringify(Np(c,i.v7_relativeSplatPath)),y=ce.useRef(!1);return Gd(()=>{y.current=!0}),ce.useCallback(function(x,S){if(S===void 0&&(S={}),!y.current)return;if(typeof x=="number"){l.go(x);return}let I=_p(x,JSON.parse(p),f,S.relative==="path");e==null&&n!=="/"&&(I.pathname=I.pathname==="/"?n:oi([n,I.pathname])),(S.replace?l.replace:l.push)(I,S.state,S)},[n,l,p,f,e])}function Bp(){let{matches:e}=ce.useContext(gi),n=e[e.length-1];return n?n.params:{}}function Pp(e,n){return Fp(e,n)}function Fp(e,n,i,l){Ba()||Dt(!1);let{navigator:c}=ce.useContext(La),{matches:f}=ce.useContext(gi),p=f[f.length-1],y=p?p.params:{};p&&p.pathname;let w=p?p.pathnameBase:"/";p&&p.route;let x=Pa(),S;if(n){var I;let K=typeof n=="string"?ts(n):n;w==="/"||(I=K.pathname)!=null&&I.startsWith(w)||Dt(!1),S=K}else S=x;let L=S.pathname||"/",U=L;if(w!=="/"){let K=w.replace(/^\//,"").split("/");U="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let G=cp(e,{pathname:U}),H=Vp(G&&G.map(K=>Object.assign({},K,{params:Object.assign({},y,K.params),pathname:oi([w,c.encodeLocation?c.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?w:oi([w,c.encodeLocation?c.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,i,l);return n&&H?ce.createElement(ka.Provider,{value:{location:Js({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Dr.Pop}},H):H}function Up(){let e=Xp(),n=Dp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},n),i?ce.createElement("pre",{style:c},i):null,null)}const zp=ce.createElement(Up,null);class jp extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?ce.createElement(gi.Provider,{value:this.props.routeContext},ce.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hp(e){let{routeContext:n,match:i,children:l}=e,c=ce.useContext(Ac);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),ce.createElement(gi.Provider,{value:n},l)}function Vp(e,n,i,l){var c;if(n===void 0&&(n=[]),i===void 0&&(i=null),l===void 0&&(l=null),e==null){var f;if(!i)return null;if(i.errors)e=i.matches;else if((f=l)!=null&&f.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let p=e,y=(c=i)==null?void 0:c.errors;if(y!=null){let S=p.findIndex(I=>I.route.id&&(y==null?void 0:y[I.route.id])!==void 0);S>=0||Dt(!1),p=p.slice(0,Math.min(p.length,S+1))}let w=!1,x=-1;if(i&&l&&l.v7_partialHydration)for(let S=0;S<p.length;S++){let I=p[S];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(x=S),I.route.id){let{loaderData:L,errors:U}=i,G=I.route.loader&&L[I.route.id]===void 0&&(!U||U[I.route.id]===void 0);if(I.route.lazy||G){w=!0,x>=0?p=p.slice(0,x+1):p=[p[0]];break}}}return p.reduceRight((S,I,L)=>{let U,G=!1,H=null,K=null;i&&(U=y&&I.route.id?y[I.route.id]:void 0,H=I.route.errorElement||zp,w&&(x<0&&L===0?(G=!0,K=null):x===L&&(G=!0,K=I.route.hydrateFallbackElement||null)));let D=n.concat(p.slice(0,L+1)),_=()=>{let O;return U?O=H:G?O=K:I.route.Component?O=ce.createElement(I.route.Component,null):I.route.element?O=I.route.element:O=S,ce.createElement(Hp,{match:I,routeContext:{outlet:S,matches:D,isDataRoute:i!=null},children:O})};return i&&(I.route.ErrorBoundary||I.route.errorElement||L===0)?ce.createElement(jp,{location:i.location,revalidation:i.revalidation,component:H,error:U,children:_(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):_()},null)}var Yd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yd||{}),ga=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ga||{});function Wp(e){let n=ce.useContext(Ac);return n||Dt(!1),n}function Gp(e){let n=ce.useContext(Lp);return n||Dt(!1),n}function Yp(e){let n=ce.useContext(gi);return n||Dt(!1),n}function Xd(e){let n=Yp(),i=n.matches[n.matches.length-1];return i.route.id||Dt(!1),i.route.id}function Xp(){var e;let n=ce.useContext(Wd),i=Gp(ga.UseRouteError),l=Xd(ga.UseRouteError);return n!==void 0?n:(e=i.errors)==null?void 0:e[l]}function Zp(){let{router:e}=Wp(Yd.UseNavigateStable),n=Xd(ga.UseNavigateStable),i=ce.useRef(!1);return Gd(()=>{i.current=!0}),ce.useCallback(function(c,f){f===void 0&&(f={}),i.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Js({fromRouteId:n},f)))},[e,n])}const n0={};function Qp(e,n){n0[n]||(n0[n]=!0,console.warn(n))}const r0=(e,n,i)=>Qp(e,"⚠️ React Router Future Flag Warning: "+n+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+i+"."));function Kp(e,n){e!=null&&e.v7_startTransition||r0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!n&&r0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Is(e){Dt(!1)}function qp(e){let{basename:n="/",children:i=null,location:l,navigationType:c=Dr.Pop,navigator:f,static:p=!1,future:y}=e;Ba()&&Dt(!1);let w=n.replace(/^\/*/,"/"),x=ce.useMemo(()=>({basename:w,navigator:f,static:p,future:Js({v7_relativeSplatPath:!1},y)}),[w,y,f,p]);typeof l=="string"&&(l=ts(l));let{pathname:S="/",search:I="",hash:L="",state:U=null,key:G="default"}=l,H=ce.useMemo(()=>{let K=Hd(S,w);return K==null?null:{location:{pathname:K,search:I,hash:L,state:U,key:G},navigationType:c}},[w,S,I,L,U,G,c]);return H==null?null:ce.createElement(La.Provider,{value:x},ce.createElement(ka.Provider,{children:i,value:H}))}function Jp(e){let{children:n,location:i}=e;return Pp(Iu(n),i)}new Promise(()=>{});function Iu(e,n){n===void 0&&(n=[]);let i=[];return ce.Children.forEach(e,(l,c)=>{if(!ce.isValidElement(l))return;let f=[...n,c];if(l.type===ce.Fragment){i.push.apply(i,Iu(l.props.children,f));return}l.type!==Is&&Dt(!1),!l.props.index||!l.props.children||Dt(!1);let p={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(p.children=Iu(l.props.children,f)),i.push(p)}),i}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $p="6";try{window.__reactRouterVersion=$p}catch{}const ex="startTransition",i0=Qh[ex];function tx(e){let{basename:n,children:i,future:l,window:c}=e,f=ce.useRef();f.current==null&&(f.current=ap({window:c,v5Compat:!0}));let p=f.current,[y,w]=ce.useState({action:p.action,location:p.location}),{v7_startTransition:x}=l||{},S=ce.useCallback(I=>{x&&i0?i0(()=>w(I)):w(I)},[w,x]);return ce.useLayoutEffect(()=>p.listen(S),[p,S]),ce.useEffect(()=>Kp(l),[l]),ce.createElement(qp,{basename:n,children:i,location:y.location,navigationType:y.action,navigator:p,future:l})}var s0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(s0||(s0={}));var o0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o0||(o0={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ns=(e,n)=>{const i=ce.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:p,className:y="",children:w,...x},S)=>ce.createElement("svg",{ref:S,...nx,width:c,height:c,stroke:l,strokeWidth:p?Number(f)*24/Number(c):f,className:["lucide",`lucide-${rx(e)}`,y].join(" "),...x},[...n.map(([I,L])=>ce.createElement(I,L)),...Array.isArray(w)?w:[w]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ns("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ns("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ns("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ns("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ns("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ns("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lx=()=>{const e=io(),n=Pa();return $.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:$.jsx("div",{className:"max-w-lg mx-auto px-4",children:$.jsxs("div",{className:"flex justify-around py-3",children:[$.jsx("button",{onClick:()=>e("/"),className:`p-2 rounded-full ${n.pathname==="/"?"text-green-600 bg-green-50":"text-gray-600"}`,children:$.jsx(sx,{size:24})}),$.jsx("button",{onClick:()=>e("/scanner"),className:`p-2 rounded-full ${n.pathname==="/scanner"?"text-green-600 bg-green-50":"text-gray-600"}`,children:$.jsx(ox,{size:24})}),$.jsx("button",{onClick:()=>e("/report"),className:`p-2 rounded-full ${n.pathname==="/report"?"text-green-600 bg-green-50":"text-gray-600"}`,children:$.jsx(ix,{size:24})})]})})})};var Zd={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,n){(function(i,l){e.exports=l()})(vi,function i(){var l=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:{},c=!l.document&&!!l.postMessage,f=l.IS_PAPA_WORKER||!1,p={},y=0,w={parse:function(M,N){var W=(N=N||{}).dynamicTyping||!1;if(k(W)&&(N.dynamicTypingFunction=W,W={}),N.dynamicTyping=W,N.transform=!!k(N.transform)&&N.transform,N.worker&&w.WORKERS_SUPPORTED){var oe=function(){if(!w.WORKERS_SUPPORTED)return!1;var le=(F=l.URL||l.webkitURL||null,Se=i.toString(),w.BLOB_URL||(w.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Se,")();"],{type:"text/javascript"})))),me=new l.Worker(le),F,Se;return me.onmessage=_,me.id=y++,p[me.id]=me}();return oe.userStep=N.step,oe.userChunk=N.chunk,oe.userComplete=N.complete,oe.userError=N.error,N.step=k(N.step),N.chunk=k(N.chunk),N.complete=k(N.complete),N.error=k(N.error),delete N.worker,void oe.postMessage({input:M,config:N,workerId:oe.id})}var Y=null;return w.NODE_STREAM_INPUT,typeof M=="string"?(M=function(le){return le.charCodeAt(0)===65279?le.slice(1):le}(M),Y=N.download?new I(N):new U(N)):M.readable===!0&&k(M.read)&&k(M.on)?Y=new G(N):(l.File&&M instanceof File||M instanceof Object)&&(Y=new L(N)),Y.stream(M)},unparse:function(M,N){var W=!1,oe=!0,Y=",",le=`\r
`,me='"',F=me+me,Se=!1,Z=null,re=!1;(function(){if(typeof N=="object"){if(typeof N.delimiter!="string"||w.BAD_DELIMITERS.filter(function(ee){return N.delimiter.indexOf(ee)!==-1}).length||(Y=N.delimiter),(typeof N.quotes=="boolean"||typeof N.quotes=="function"||Array.isArray(N.quotes))&&(W=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(Se=N.skipEmptyLines),typeof N.newline=="string"&&(le=N.newline),typeof N.quoteChar=="string"&&(me=N.quoteChar),typeof N.header=="boolean"&&(oe=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");Z=N.columns}N.escapeChar!==void 0&&(F=N.escapeChar+me),(typeof N.escapeFormulae=="boolean"||N.escapeFormulae instanceof RegExp)&&(re=N.escapeFormulae instanceof RegExp?N.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var q=new RegExp(K(me),"g");if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return pe(null,M,Se);if(typeof M[0]=="object")return pe(Z||Object.keys(M[0]),M,Se)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||Z),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),pe(M.fields||[],M.data||[],Se);throw new Error("Unable to serialize unrecognized input");function pe(ee,De,Ne){var Ye="";typeof ee=="string"&&(ee=JSON.parse(ee)),typeof De=="string"&&(De=JSON.parse(De));var ue=Array.isArray(ee)&&0<ee.length,$e=!Array.isArray(De[0]);if(ue&&oe){for(var be=0;be<ee.length;be++)0<be&&(Ye+=Y),Ye+=Te(ee[be],be);0<De.length&&(Ye+=le)}for(var we=0;we<De.length;we++){var Be=ue?ee.length:De[we].length,Re=!1,ut=ue?Object.keys(De[we]).length===0:De[we].length===0;if(Ne&&!ue&&(Re=Ne==="greedy"?De[we].join("").trim()==="":De[we].length===1&&De[we][0].length===0),Ne==="greedy"&&ue){for(var xe=[],ht=0;ht<Be;ht++){var ze=$e?ee[ht]:ht;xe.push(De[we][ze])}Re=xe.join("").trim()===""}if(!Re){for(var je=0;je<Be;je++){0<je&&!ut&&(Ye+=Y);var Ze=ue&&$e?ee[je]:je;Ye+=Te(De[we][Ze],je)}we<De.length-1&&(!Ne||0<Be&&!ut)&&(Ye+=le)}}return Ye}function Te(ee,De){if(ee==null)return"";if(ee.constructor===Date)return JSON.stringify(ee).slice(1,25);var Ne=!1;re&&typeof ee=="string"&&re.test(ee)&&(ee="'"+ee,Ne=!0);var Ye=ee.toString().replace(q,F);return(Ne=Ne||W===!0||typeof W=="function"&&W(ee,De)||Array.isArray(W)&&W[De]||function(ue,$e){for(var be=0;be<$e.length;be++)if(-1<ue.indexOf($e[be]))return!0;return!1}(Ye,w.BAD_DELIMITERS)||-1<Ye.indexOf(Y)||Ye.charAt(0)===" "||Ye.charAt(Ye.length-1)===" ")?me+Ye+me:Ye}}};if(w.RECORD_SEP="",w.UNIT_SEP="",w.BYTE_ORDER_MARK="\uFEFF",w.BAD_DELIMITERS=["\r",`
`,'"',w.BYTE_ORDER_MARK],w.WORKERS_SUPPORTED=!c&&!!l.Worker,w.NODE_STREAM_INPUT=1,w.LocalChunkSize=10485760,w.RemoteChunkSize=5242880,w.DefaultDelimiter=",",w.Parser=D,w.ParserHandle=H,w.NetworkStreamer=I,w.FileStreamer=L,w.StringStreamer=U,w.ReadableStreamStreamer=G,l.jQuery){var x=l.jQuery;x.fn.parse=function(M){var N=M.config||{},W=[];return this.each(function(le){if(!(x(this).prop("tagName").toUpperCase()==="INPUT"&&x(this).attr("type").toLowerCase()==="file"&&l.FileReader)||!this.files||this.files.length===0)return!0;for(var me=0;me<this.files.length;me++)W.push({file:this.files[me],inputElem:this,instanceConfig:x.extend({},N)})}),oe(),this;function oe(){if(W.length!==0){var le,me,F,Se,Z=W[0];if(k(M.before)){var re=M.before(Z.file,Z.inputElem);if(typeof re=="object"){if(re.action==="abort")return le="AbortError",me=Z.file,F=Z.inputElem,Se=re.reason,void(k(M.error)&&M.error({name:le},me,F,Se));if(re.action==="skip")return void Y();typeof re.config=="object"&&(Z.instanceConfig=x.extend(Z.instanceConfig,re.config))}else if(re==="skip")return void Y()}var q=Z.instanceConfig.complete;Z.instanceConfig.complete=function(pe){k(q)&&q(pe,Z.file,Z.inputElem),Y()},w.parse(Z.file,Z.instanceConfig)}else k(M.complete)&&M.complete()}function Y(){W.splice(0,1),oe()}}}function S(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(N){var W=ae(N);W.chunkSize=parseInt(W.chunkSize),N.step||N.chunk||(W.chunkSize=null),this._handle=new H(W),(this._handle.streamer=this)._config=W}).call(this,M),this.parseChunk=function(N,W){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var oe=this._config.beforeFirstChunk(N);oe!==void 0&&(N=oe)}this.isFirstChunk=!1,this._halted=!1;var Y=this._partialLine+N;this._partialLine="";var le=this._handle.parse(Y,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var me=le.meta.cursor;this._finished||(this._partialLine=Y.substring(me-this._baseIndex),this._baseIndex=me),le&&le.data&&(this._rowCount+=le.data.length);var F=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(f)l.postMessage({results:le,workerId:w.WORKER_ID,finished:F});else if(k(this._config.chunk)&&!W){if(this._config.chunk(le,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);le=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(le.data),this._completeResults.errors=this._completeResults.errors.concat(le.errors),this._completeResults.meta=le.meta),this._completed||!F||!k(this._config.complete)||le&&le.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||le&&le.meta.paused||this._nextChunk(),le}this._halted=!0},this._sendError=function(N){k(this._config.error)?this._config.error(N):f&&this._config.error&&l.postMessage({workerId:w.WORKER_ID,error:N,finished:!1})}}function I(M){var N;(M=M||{}).chunkSize||(M.chunkSize=w.RemoteChunkSize),S.call(this,M),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),c||(N.onload=J(this._chunkLoaded,this),N.onerror=J(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var W=this._config.downloadRequestHeaders;for(var oe in W)N.setRequestHeader(oe,W[oe])}if(this._config.chunkSize){var Y=this._start+this._config.chunkSize-1;N.setRequestHeader("Range","bytes="+this._start+"-"+Y)}try{N.send(this._config.downloadRequestBody)}catch(le){this._chunkError(le.message)}c&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:N.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(W){var oe=W.getResponseHeader("Content-Range");return oe===null?-1:parseInt(oe.substring(oe.lastIndexOf("/")+1))}(N),this.parseChunk(N.responseText)))},this._chunkError=function(W){var oe=N.statusText||W;this._sendError(new Error(oe))}}function L(M){var N,W;(M=M||{}).chunkSize||(M.chunkSize=w.LocalChunkSize),S.call(this,M);var oe=typeof FileReader<"u";this.stream=function(Y){this._input=Y,W=Y.slice||Y.webkitSlice||Y.mozSlice,oe?((N=new FileReader).onload=J(this._chunkLoaded,this),N.onerror=J(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Y=this._input;if(this._config.chunkSize){var le=Math.min(this._start+this._config.chunkSize,this._input.size);Y=W.call(Y,this._start,le)}var me=N.readAsText(Y,this._config.encoding);oe||this._chunkLoaded({target:{result:me}})},this._chunkLoaded=function(Y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Y.target.result)},this._chunkError=function(){this._sendError(N.error)}}function U(M){var N;S.call(this,M=M||{}),this.stream=function(W){return N=W,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var W,oe=this._config.chunkSize;return oe?(W=N.substring(0,oe),N=N.substring(oe)):(W=N,N=""),this._finished=!N,this.parseChunk(W)}}}function G(M){S.call(this,M=M||{});var N=[],W=!0,oe=!1;this.pause=function(){S.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){S.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Y){this._input=Y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){oe&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):W=!0},this._streamData=J(function(Y){try{N.push(typeof Y=="string"?Y:Y.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(le){this._streamError(le)}},this),this._streamError=J(function(Y){this._streamCleanUp(),this._sendError(Y)},this),this._streamEnd=J(function(){this._streamCleanUp(),oe=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function H(M){var N,W,oe,Y=Math.pow(2,53),le=-Y,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Se=this,Z=0,re=0,q=!1,pe=!1,Te=[],ee={data:[],errors:[],meta:{}};if(k(M.step)){var De=M.step;M.step=function(we){if(ee=we,ue())Ye();else{if(Ye(),ee.data.length===0)return;Z+=we.data.length,M.preview&&Z>M.preview?W.abort():(ee.data=ee.data[0],De(ee,Se))}}}function Ne(we){return M.skipEmptyLines==="greedy"?we.join("").trim()==="":we.length===1&&we[0].length===0}function Ye(){return ee&&oe&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+w.DefaultDelimiter+"'"),oe=!1),M.skipEmptyLines&&(ee.data=ee.data.filter(function(we){return!Ne(we)})),ue()&&function(){if(!ee)return;function we(Re,ut){k(M.transformHeader)&&(Re=M.transformHeader(Re,ut)),Te.push(Re)}if(Array.isArray(ee.data[0])){for(var Be=0;ue()&&Be<ee.data.length;Be++)ee.data[Be].forEach(we);ee.data.splice(0,1)}else ee.data.forEach(we)}(),function(){if(!ee||!M.header&&!M.dynamicTyping&&!M.transform)return ee;function we(Re,ut){var xe,ht=M.header?{}:[];for(xe=0;xe<Re.length;xe++){var ze=xe,je=Re[xe];M.header&&(ze=xe>=Te.length?"__parsed_extra":Te[xe]),M.transform&&(je=M.transform(je,ze)),je=$e(ze,je),ze==="__parsed_extra"?(ht[ze]=ht[ze]||[],ht[ze].push(je)):ht[ze]=je}return M.header&&(xe>Te.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+Te.length+" fields but parsed "+xe,re+ut):xe<Te.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+Te.length+" fields but parsed "+xe,re+ut)),ht}var Be=1;return!ee.data.length||Array.isArray(ee.data[0])?(ee.data=ee.data.map(we),Be=ee.data.length):ee.data=we(ee.data,0),M.header&&ee.meta&&(ee.meta.fields=Te),re+=Be,ee}()}function ue(){return M.header&&Te.length===0}function $e(we,Be){return Re=we,M.dynamicTypingFunction&&M.dynamicTyping[Re]===void 0&&(M.dynamicTyping[Re]=M.dynamicTypingFunction(Re)),(M.dynamicTyping[Re]||M.dynamicTyping)===!0?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&(function(ut){if(me.test(ut)){var xe=parseFloat(ut);if(le<xe&&xe<Y)return!0}return!1}(Be)?parseFloat(Be):F.test(Be)?new Date(Be):Be===""?null:Be):Be;var Re}function be(we,Be,Re,ut){var xe={type:we,code:Be,message:Re};ut!==void 0&&(xe.row=ut),ee.errors.push(xe)}this.parse=function(we,Be,Re){var ut=M.quoteChar||'"';if(M.newline||(M.newline=function(ze,je){ze=ze.substring(0,1048576);var Ze=new RegExp(K(je)+"([^]*?)"+K(je),"gm"),Me=(ze=ze.replace(Ze,"")).split("\r"),Ie=ze.split(`
`),rn=1<Ie.length&&Ie[0].length<Me[0].length;if(Me.length===1||rn)return`
`;for(var fe=0,qe=0;qe<Me.length;qe++)Me[qe][0]===`
`&&fe++;return fe>=Me.length/2?`\r
`:"\r"}(we,ut)),oe=!1,M.delimiter)k(M.delimiter)&&(M.delimiter=M.delimiter(we),ee.meta.delimiter=M.delimiter);else{var xe=function(ze,je,Ze,Me,Ie){var rn,fe,qe,gt;Ie=Ie||[",","	","|",";",w.RECORD_SEP,w.UNIT_SEP];for(var Ft=0;Ft<Ie.length;Ft++){var He=Ie[Ft],bt=0,Nn=0,Gt=0;qe=void 0;for(var ct=new D({comments:Me,delimiter:He,newline:je,preview:10}).parse(ze),Fn=0;Fn<ct.data.length;Fn++)if(Ze&&Ne(ct.data[Fn]))Gt++;else{var xn=ct.data[Fn].length;Nn+=xn,qe!==void 0?0<xn&&(bt+=Math.abs(xn-qe),qe=xn):qe=xn}0<ct.data.length&&(Nn/=ct.data.length-Gt),(fe===void 0||bt<=fe)&&(gt===void 0||gt<Nn)&&1.99<Nn&&(fe=bt,rn=He,gt=Nn)}return{successful:!!(M.delimiter=rn),bestDelimiter:rn}}(we,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess);xe.successful?M.delimiter=xe.bestDelimiter:(oe=!0,M.delimiter=w.DefaultDelimiter),ee.meta.delimiter=M.delimiter}var ht=ae(M);return M.preview&&M.header&&ht.preview++,N=we,W=new D(ht),ee=W.parse(N,Be,Re),Ye(),q?{meta:{paused:!0}}:ee||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,W.abort(),N=k(M.chunk)?"":N.substring(W.getCharIndex())},this.resume=function(){Se.streamer._halted?(q=!1,Se.streamer.parseChunk(N,!0)):setTimeout(Se.resume,3)},this.aborted=function(){return pe},this.abort=function(){pe=!0,W.abort(),ee.meta.aborted=!0,k(M.complete)&&M.complete(ee),N=""}}function K(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function D(M){var N,W=(M=M||{}).delimiter,oe=M.newline,Y=M.comments,le=M.step,me=M.preview,F=M.fastMode,Se=N=M.quoteChar===void 0||M.quoteChar===null?'"':M.quoteChar;if(M.escapeChar!==void 0&&(Se=M.escapeChar),(typeof W!="string"||-1<w.BAD_DELIMITERS.indexOf(W))&&(W=","),Y===W)throw new Error("Comment character same as delimiter");Y===!0?Y="#":(typeof Y!="string"||-1<w.BAD_DELIMITERS.indexOf(Y))&&(Y=!1),oe!==`
`&&oe!=="\r"&&oe!==`\r
`&&(oe=`
`);var Z=0,re=!1;this.parse=function(q,pe,Te){if(typeof q!="string")throw new Error("Input must be a string");var ee=q.length,De=W.length,Ne=oe.length,Ye=Y.length,ue=k(le),$e=[],be=[],we=[],Be=Z=0;if(!q)return sn();if(M.header&&!pe){var Re=q.split(oe)[0].split(W),ut=[],xe={},ht=!1;for(var ze in Re){var je=Re[ze];k(M.transformHeader)&&(je=M.transformHeader(je,ze));var Ze=je,Me=xe[je]||0;for(0<Me&&(ht=!0,Ze=je+"_"+Me),xe[je]=Me+1;ut.includes(Ze);)Ze=Ze+"_"+Me;ut.push(Ze)}if(ht){var Ie=q.split(oe);Ie[0]=ut.join(W),q=Ie.join(oe)}}if(F||F!==!1&&q.indexOf(N)===-1){for(var rn=q.split(oe),fe=0;fe<rn.length;fe++){if(we=rn[fe],Z+=we.length,fe!==rn.length-1)Z+=oe.length;else if(Te)return sn();if(!Y||we.substring(0,Ye)!==Y){if(ue){if($e=[],Gt(we.split(W)),it(),re)return sn()}else Gt(we.split(W));if(me&&me<=fe)return $e=$e.slice(0,me),sn(!0)}}return sn()}for(var qe=q.indexOf(W,Z),gt=q.indexOf(oe,Z),Ft=new RegExp(K(Se)+K(N),"g"),He=q.indexOf(N,Z);;)if(q[Z]!==N)if(Y&&we.length===0&&q.substring(Z,Z+Ye)===Y){if(gt===-1)return sn();Z=gt+Ne,gt=q.indexOf(oe,Z),qe=q.indexOf(W,Z)}else if(qe!==-1&&(qe<gt||gt===-1))we.push(q.substring(Z,qe)),Z=qe+De,qe=q.indexOf(W,Z);else{if(gt===-1)break;if(we.push(q.substring(Z,gt)),xn(gt+Ne),ue&&(it(),re))return sn();if(me&&$e.length>=me)return sn(!0)}else for(He=Z,Z++;;){if((He=q.indexOf(N,He+1))===-1)return Te||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$e.length,index:Z}),Fn();if(He===ee-1)return Fn(q.substring(Z,He).replace(Ft,N));if(N!==Se||q[He+1]!==Se){if(N===Se||He===0||q[He-1]!==Se){qe!==-1&&qe<He+1&&(qe=q.indexOf(W,He+1)),gt!==-1&&gt<He+1&&(gt=q.indexOf(oe,He+1));var bt=ct(gt===-1?qe:Math.min(qe,gt));if(q.substr(He+1+bt,De)===W){we.push(q.substring(Z,He).replace(Ft,N)),q[Z=He+1+bt+De]!==N&&(He=q.indexOf(N,Z)),qe=q.indexOf(W,Z),gt=q.indexOf(oe,Z);break}var Nn=ct(gt);if(q.substring(He+1+Nn,He+1+Nn+Ne)===oe){if(we.push(q.substring(Z,He).replace(Ft,N)),xn(He+1+Nn+Ne),qe=q.indexOf(W,Z),He=q.indexOf(N,Z),ue&&(it(),re))return sn();if(me&&$e.length>=me)return sn(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$e.length,index:Z}),He++}}else He++}return Fn();function Gt(te){$e.push(te),Be=Z}function ct(te){var yt=0;if(te!==-1){var Ve=q.substring(He+1,te);Ve&&Ve.trim()===""&&(yt=Ve.length)}return yt}function Fn(te){return Te||(te===void 0&&(te=q.substring(Z)),we.push(te),Z=ee,Gt(we),ue&&it()),sn()}function xn(te){Z=te,Gt(we),we=[],gt=q.indexOf(oe,Z)}function sn(te){return{data:$e,errors:be,meta:{delimiter:W,linebreak:oe,aborted:re,truncated:!!te,cursor:Be+(pe||0)}}}function it(){le(sn()),$e=[],be=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return Z}}function _(M){var N=M.data,W=p[N.workerId],oe=!1;if(N.error)W.userError(N.error,N.file);else if(N.results&&N.results.data){var Y={abort:function(){oe=!0,O(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(k(W.userStep)){for(var le=0;le<N.results.data.length&&(W.userStep({data:N.results.data[le],errors:N.results.errors,meta:N.results.meta},Y),!oe);le++);delete N.results}else k(W.userChunk)&&(W.userChunk(N.results,Y,N.file),delete N.results)}N.finished&&!oe&&O(N.workerId,N.results)}function O(M,N){var W=p[M];k(W.userComplete)&&W.userComplete(N),W.terminate(),delete p[M]}function V(){throw new Error("Not implemented.")}function ae(M){if(typeof M!="object"||M===null)return M;var N=Array.isArray(M)?[]:{};for(var W in M)N[W]=ae(M[W]);return N}function J(M,N){return function(){M.apply(N,arguments)}}function k(M){return typeof M=="function"}return f&&(l.onmessage=function(M){var N=M.data;if(w.WORKER_ID===void 0&&N&&(w.WORKER_ID=N.workerId),typeof N.input=="string")l.postMessage({workerId:w.WORKER_ID,results:w.parse(N.input,N.config),finished:!0});else if(l.File&&N.input instanceof File||N.input instanceof Object){var W=w.parse(N.input,N.config);W&&l.postMessage({workerId:w.WORKER_ID,results:W,finished:!0})}}),(I.prototype=Object.create(S.prototype)).constructor=I,(L.prototype=Object.create(S.prototype)).constructor=L,(U.prototype=Object.create(U.prototype)).constructor=U,(G.prototype=Object.create(S.prototype)).constructor=G,w})})(Zd);var ux=Zd.exports;const cx=Nu(ux),fx=async()=>{const n=await(await fetch("/data/products.csv")).text(),{data:i}=cx.parse(n,{header:!0,skipEmptyLines:!0});return i},dx=["Snacks","Beverages","Dairy Alternatives","Ready Meals","Breakfast","Condiments"],Qd=ce.createContext({products:[],favorites:[],toggleFavorite:()=>{},loading:!0}),hx=({children:e})=>{const[n,i]=ce.useState([]),[l,c]=ce.useState([]),[f,p]=ce.useState(!0);ce.useEffect(()=>{(async()=>{const S=await fx();i(S),p(!1)})();const x=localStorage.getItem("favorites");x&&c(JSON.parse(x))},[]);const y=w=>{const x=l.includes(w)?l.filter(S=>S!==w):[...l,w];c(x),localStorage.setItem("favorites",JSON.stringify(x))};return $.jsx(Qd.Provider,{value:{products:n,favorites:l,toggleFavorite:y,loading:f},children:e})},Fa=()=>ce.useContext(Qd),gx=({product:e})=>{const n=io(),{favorites:i,toggleFavorite:l}=Fa(),c=i.includes(e.id);return $.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",onClick:()=>n(`/product/${e.id}`),children:[$.jsxs("div",{className:"relative",children:[$.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-48 object-cover"}),$.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full bg-white/80 hover:bg-white",onClick:f=>{f.stopPropagation(),l(e.id)},children:$.jsx(pa,{size:20,className:c?"fill-red-500 text-red-500":"text-gray-500"})})]}),$.jsxs("div",{className:"p-4",children:[$.jsx("h3",{className:"font-semibold text-lg",children:e.name}),$.jsx("p",{className:"text-gray-600",children:e.brand}),$.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:e.category})]})]})},px=()=>{const{products:e,loading:n,favorites:i}=Fa(),[l,c]=ce.useState(""),[f,p]=ce.useState(""),[y,w]=ce.useState(!1),x=ce.useMemo(()=>e.filter(S=>{const I=S.name.toLowerCase().includes(l.toLowerCase())||S.brand.toLowerCase().includes(l.toLowerCase()),L=!f||S.category===f,U=!y||i.includes(S.id);return I&&L&&U}),[e,l,f,y,i]);return n?$.jsx("div",{className:"flex items-center justify-center min-h-screen",children:$.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):$.jsxs("div",{className:"p-4",children:[$.jsxs("div",{className:"flex justify-between items-center mb-6",children:[$.jsx("h1",{className:"text-3xl font-bold text-green-800",children:"Vegan Rehber"}),$.jsx("button",{onClick:()=>w(!y),className:`p-2 rounded-full ${y?"bg-red-50 text-red-500":"bg-gray-100 text-gray-600"}`,children:$.jsx(pa,{size:24,className:y?"fill-red-500":""})})]}),$.jsx("div",{className:"mb-6",children:$.jsxs("div",{className:"relative",children:[$.jsx(ax,{className:"absolute left-3 top-3 text-gray-400",size:20}),$.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-green-500",value:l,onChange:S=>c(S.target.value)})]})}),$.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[$.jsx("button",{onClick:()=>p(""),className:`px-4 py-2 rounded-full whitespace-nowrap ${f?"bg-gray-100 text-gray-700":"bg-green-500 text-white"}`,children:"All"}),dx.map(S=>$.jsx("button",{onClick:()=>p(S),className:`px-4 py-2 rounded-full whitespace-nowrap ${f===S?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:S},S))]}),y&&x.length===0?$.jsxs("div",{className:"text-center py-8",children:[$.jsx(pa,{size:48,className:"mx-auto text-gray-400 mb-4"}),$.jsx("p",{className:"text-gray-600",children:"No favorite products yet"})]}):$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(S=>$.jsx(gx,{product:S},S.id))})]})},xx=()=>{const{id:e}=Bp(),n=io(),{products:i,favorites:l,toggleFavorite:c}=Fa(),f=i.find(p=>p.id===e);return f?$.jsxs("div",{className:"p-4",children:[$.jsxs("button",{onClick:()=>n("/"),className:"mb-4 text-green-600 flex items-center gap-2",children:[$.jsx(a0,{size:20})," Back"]}),$.jsxs("div",{className:"relative",children:[$.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-64 object-cover rounded-lg"}),$.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full bg-white/80 hover:bg-white",onClick:()=>c(f.id),children:$.jsx(pa,{size:24,className:l.includes(f.id)?"fill-red-500 text-red-500":"text-gray-500"})})]}),$.jsxs("div",{className:"mt-6",children:[$.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:f.name}),$.jsx("p",{className:"text-lg text-gray-600 mt-1",children:f.brand}),$.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-green-100 text-green-800 rounded-full",children:f.category}),$.jsxs("div",{className:"mt-6",children:[$.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ingredients"}),$.jsx("p",{className:"text-gray-700 leading-relaxed",children:f.ingredients})]}),f.barcode&&$.jsxs("div",{className:"mt-6",children:[$.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Barcode"}),$.jsx("p",{className:"text-gray-700",children:f.barcode})]})]})]}):$.jsxs("div",{className:"p-4",children:[$.jsx("h2",{className:"text-xl font-semibold",children:"Product not found"}),$.jsxs("button",{onClick:()=>n("/"),className:"mt-4 text-green-600 flex items-center gap-2",children:[$.jsx(a0,{size:20})," Go back"]})]})};var he;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(he||(he={}));var l0=new Map([[he.QR_CODE,"QR_CODE"],[he.AZTEC,"AZTEC"],[he.CODABAR,"CODABAR"],[he.CODE_39,"CODE_39"],[he.CODE_93,"CODE_93"],[he.CODE_128,"CODE_128"],[he.DATA_MATRIX,"DATA_MATRIX"],[he.MAXICODE,"MAXICODE"],[he.ITF,"ITF"],[he.EAN_13,"EAN_13"],[he.EAN_8,"EAN_8"],[he.PDF_417,"PDF_417"],[he.RSS_14,"RSS_14"],[he.RSS_EXPANDED,"RSS_EXPANDED"],[he.UPC_A,"UPC_A"],[he.UPC_E,"UPC_E"],[he.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),u0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(u0||(u0={}));function mx(e){return Object.values(he).includes(e)}var Vr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vr||(Vr={}));var Wn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Vr.SCAN_TYPE_CAMERA,Vr.SCAN_TYPE_FILE],e}(),Kd=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!l0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,l0.get(n))},e}(),c0=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),vu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(vu||(vu={}));var qd=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:vu.UNKWOWN_ERROR}},e}(),Jd=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function rr(e){return typeof e>"u"||e===null}function wx(e,n,i){return e>i?i:e<n?n:e}var Fi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Qe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),f0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),$d=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var l=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),p=Object.keys(n),y=0,w=p;y<w.length;y++){var x=w[y];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Tu={exports:{}};(function(e,n){(function(i,l){l(n)})(vi,function(i){function l(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,t){C.__proto__=t}||function(C,t){for(var r in t)t.hasOwnProperty(r)&&(C[r]=t[r])};function f(C,t){c(C,t);function r(){this.constructor=C}C.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function p(C,t){var r=Object.setPrototypeOf;r?r(C,t):C.__proto__=t}function y(C,t){t===void 0&&(t=C.constructor);var r=Error.captureStackTrace;r&&r(C,t)}var w=function(C){f(t,C);function t(r){var s=this.constructor,o=C.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),p(o,s.prototype),y(o),o}return t}(Error);class x extends w{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}x.kind="Exception";class S extends x{}S.kind="ArgumentException";class I extends x{}I.kind="IllegalArgumentException";class L{constructor(t){if(this.binarizer=t,t===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const a=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new L(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends x{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class G{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class H{static arraycopy(t,r,s,o,a){for(;a--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class K extends x{}K.kind="IndexOutOfBoundsException";class D extends K{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}D.kind="ArrayIndexOutOfBoundsException";class _{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){_.rangeCheck(t.length,r,s);for(let a=r;a<s;a++)t[a]=o}static rangeCheck(t,r,s){if(r>s)throw new I("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new D(r);if(s>t)throw new D(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(a=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(a=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,a=new Int32Array(o);return H.arraycopy(t,r,a,0,o),a}static binarySearch(t,r,s){s===void 0&&(s=_.numberComparator);let o=0,a=t.length-1;for(;o<=a;){const u=a+o>>1,d=s(r,t[u]);if(d>0)o=u+1;else if(d<0)a=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class O{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=V.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=V.makeArray(t);H.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),a=s[o];a&=~((1<<(t&31))-1);const u=s.length;for(;a===0;){if(++o===u)return r;a=s[o]}const d=o*32+O.numberOfTrailingZeros(a);return d>r?r:d}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),a=~s[o];a&=~((1<<(t&31))-1);const u=s.length;for(;a===0;){if(++o===u)return r;a=~s[o]}const d=o*32+O.numberOfTrailingZeros(a);return d>r?r:d}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new I;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),a=this.bits;for(let u=s;u<=o;u++){const d=u>s?0:t&31,g=(2<<(u<o?31:r&31))-(1<<d);a[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new I;if(r===t)return!0;r--;const o=Math.floor(t/32),a=Math.floor(r/32),u=this.bits;for(let d=o;d<=a;d++){const h=d>o?0:t&31,m=(2<<(d<a?31:r&31))-(1<<h)&4294967295;if((u[d]&m)!==(s?m:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new I("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let a=0;a<o;a++){let u=0;for(let d=0;d<8;d++)this.get(t)&&(u|=1<<7-d),t++;r[s+a]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let a=0;a<s;a++){let u=o[a];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-a]=u}if(this.size!==s*32){const a=s*32-this.size;let u=t[0]>>>a;for(let d=1;d<s;d++){const h=t[d];u|=h<<32-a,t[d-1]=u,u=h>>>a}t[s-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof V))return!1;const r=t;return this.size===r.size&&_.equals(this.bits,r.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new V(this.size,this.bits.slice())}}var ae;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ae||(ae={}));var J=ae;class k extends x{static getFormatInstance(){return new k}}k.kind="FormatException";var M;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(M||(M={}));class N{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,N.VALUE_IDENTIFIER_TO_ECI.set(t,this),N.NAME_TO_ECI.set(s,this);const a=this.values;for(let u=0,d=a.length;u!==d;u++){const h=a[u];N.VALUES_TO_ECI.set(h,this)}for(const u of o)N.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new k("incorect value");const r=N.VALUES_TO_ECI.get(t);if(r===void 0)throw new k("incorect value");return r}static getCharacterSetECIByName(t){const r=N.NAME_TO_ECI.get(t);if(r===void 0)throw new k("incorect value");return r}equals(t){if(!(t instanceof N))return!1;const r=t;return this.getName()===r.getName()}}N.VALUE_IDENTIFIER_TO_ECI=new Map,N.VALUES_TO_ECI=new Map,N.NAME_TO_ECI=new Map,N.Cp437=new N(M.Cp437,Int32Array.from([0,2]),"Cp437"),N.ISO8859_1=new N(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),N.ISO8859_2=new N(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),N.ISO8859_3=new N(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),N.ISO8859_4=new N(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),N.ISO8859_5=new N(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),N.ISO8859_6=new N(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),N.ISO8859_7=new N(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),N.ISO8859_8=new N(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),N.ISO8859_9=new N(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),N.ISO8859_10=new N(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),N.ISO8859_11=new N(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),N.ISO8859_13=new N(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),N.ISO8859_14=new N(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),N.ISO8859_15=new N(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),N.ISO8859_16=new N(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),N.SJIS=new N(M.SJIS,20,"SJIS","Shift_JIS"),N.Cp1250=new N(M.Cp1250,21,"Cp1250","windows-1250"),N.Cp1251=new N(M.Cp1251,22,"Cp1251","windows-1251"),N.Cp1252=new N(M.Cp1252,23,"Cp1252","windows-1252"),N.Cp1256=new N(M.Cp1256,24,"Cp1256","windows-1256"),N.UnicodeBigUnmarked=new N(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),N.UTF8=new N(M.UTF8,26,"UTF8","UTF-8"),N.ASCII=new N(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),N.Big5=new N(M.Big5,28,"Big5"),N.GB18030=new N(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),N.EUC_KR=new N(M.EUC_KR,30,"EUC_KR","EUC-KR");class W extends x{}W.kind="UnsupportedOperationException";class oe{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!oe.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof N?t:N.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(oe.isDecodeFallbackSupported(s)){let o="";for(let a=0,u=t.length;a<u;a++){let d=t[a].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(s.equals(N.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new W(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(N.UTF8)||t.equals(N.ISO8859_1)||t.equals(N.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let a=0;a<s.length;a++)o.push(s[a].charCodeAt(0));return new Uint8Array(o)}}class Y{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return oe.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(J.CHARACTER_SET)!==void 0)return r.get(J.CHARACTER_SET).toString();const s=t.length;let o=!0,a=!0,u=!0,d=0,h=0,g=0,m=0,E=0,A=0,T=0,R=0,b=0,B=0,j=0;const ie=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let se=0;se<s&&(o||a||u);se++){const Q=t[se]&255;u&&(d>0?Q&128?d--:u=!1:Q&128&&(Q&64?(d++,Q&32?(d++,Q&16?(d++,Q&8?u=!1:m++):g++):h++):u=!1)),o&&(Q>127&&Q<160?o=!1:Q>159&&(Q<192||Q===215||Q===247)&&j++),a&&(E>0?Q<64||Q===127||Q>252?a=!1:E--:Q===128||Q===160||Q>239?a=!1:Q>160&&Q<224?(A++,R=0,T++,T>b&&(b=T)):Q>127?(E++,T=0,R++,R>B&&(B=R)):(T=0,R=0))}return u&&d>0&&(u=!1),a&&E>0&&(a=!1),u&&(ie||h+g+m>0)?Y.UTF8:a&&(Y.ASSUME_SHIFT_JIS||b>=3||B>=3)?Y.SHIFT_JIS:o&&a?b===2&&A===2||j*10>=s?Y.SHIFT_JIS:Y.ISO88591:o?Y.ISO88591:a?Y.SHIFT_JIS:u?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(u,d,h,g,m,E){if(u==="%%")return"%";if(r[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=m?parseInt(m.substr(1)):void 0,T;switch(E){case"s":T=r[s];break;case"c":T=r[s][0];break;case"f":T=parseFloat(r[s]).toFixed(u);break;case"p":T=parseFloat(r[s]).toPrecision(u);break;case"e":T=parseFloat(r[s]).toExponential(u);break;case"x":T=parseInt(r[s]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let R=parseInt(h),b=h&&h[0]+""=="0"?"0":" ";for(;T.length<R;)T=d!==void 0?T+b:b+T;return T}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}static getBytes(t,r){return oe.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}Y.SHIFT_JIS=N.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=N.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=N.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class le{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class me{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new I("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new me(s,r);for(let a=0;a<r;a++){const u=t[a];for(let d=0;d<s;d++)u[d]&&o.set(d,a)}return o}static parseFromString(t,r,s){if(t===null)throw new I("stringRepresentation cannot be null");const o=new Array(t.length);let a=0,u=0,d=-1,h=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(a>u){if(d===-1)d=a-u;else if(a-u!==d)throw new I("row lengths do not match");u=a,h++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[a]=!0,a++;else if(t.substring(g,g+s.length)===s)g+=s.length,o[a]=!1,a++;else throw new I("illegal character encountered: "+t.substring(g));if(a>u){if(d===-1)d=a-u;else if(a-u!==d)throw new I("row lengths do not match");h++}const m=new me(d,h);for(let E=0;E<a;E++)o[E]&&m.set(Math.floor(E%d),Math.floor(E/d));return m}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new I("input matrix dimensions do not match");const r=new V(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let a=0,u=this.height;a<u;a++){const d=a*s,h=t.getRow(a,r).getBitArray();for(let g=0;g<s;g++)o[d+g]^=h[g]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new I("Left and top must be nonnegative");if(o<1||s<1)throw new I("Height and width must be at least 1");const a=t+s,u=r+o;if(u>this.height||a>this.width)throw new I("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let g=r;g<u;g++){const m=g*d;for(let E=t;E<a;E++)h[m+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new V(this.width):r.clear();const s=this.rowSize,o=this.bits,a=t*s;for(let u=0;u<s;u++)r.setBulk(u*32,o[a+u]);return r}setRow(t,r){H.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new V(t),o=new V(t);for(let a=0,u=Math.floor((r+1)/2);a<u;a++)s=this.getRow(a,s),o=this.getRow(r-1-a,o),s.reverse(),o.reverse(),this.setRow(a,o),this.setRow(r-1-a,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let a=t,u=r,d=-1,h=-1;for(let g=0;g<r;g++)for(let m=0;m<s;m++){const E=o[g*s+m];if(E!==0){if(g<u&&(u=g),g>h&&(h=g),m*32<a){let A=0;for(;!(E<<31-A&4294967295);)A++;m*32+A<a&&(a=m*32+A)}if(m*32+31>d){let A=31;for(;!(E>>>A);)A--;m*32+A>d&&(d=m*32+A)}}}return d<a||h<u?null:Int32Array.from([a,u,d-a+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let a=s%t*32;const u=r[s];let d=0;for(;!(u<<31-d&4294967295);)d++;return a+=d,Int32Array.from([a,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let a=Math.floor(s%t)*32;const u=r[s];let d=31;for(;!(u>>>d);)d--;return a+=d,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof me))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&_.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+_.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new le;for(let a=0,u=this.height;a<u;a++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,a)?t:r);o.append(s)}return o.toString()}clone(){return new me(this.width,this.height,this.rowSize,this.bits.slice())}}class F extends x{static getNotFoundInstance(){return new F}}F.kind="NotFoundException";class Se extends G{constructor(t){super(t),this.luminances=Se.EMPTY,this.buckets=new Int32Array(Se.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new V(o):r.clear(),this.initArrays(o);const a=s.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(a[h]&255)>>Se.LUMINANCE_SHIFT]++;const d=Se.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(a[h]&255)<d&&r.set(h);else{let h=a[0]&255,g=a[1]&255;for(let m=1;m<o-1;m++){const E=a[m+1]&255;(g*4-h-E)/2<d&&r.set(m),h=g,g=E}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new me(r,s);this.initArrays(r);const a=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(s*h/5),m=t.getRow(g,this.luminances),E=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<E;A++){const T=m[A]&255;a[T>>Se.LUMINANCE_SHIFT]++}}const u=Se.estimateBlackPoint(a),d=t.getMatrix();for(let h=0;h<s;h++){const g=h*r;for(let m=0;m<r;m++)(d[g+m]&255)<u&&o.set(m,h)}return o}createBinarizer(t){return new Se(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<Se.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,a=0;for(let m=0;m<r;m++)t[m]>a&&(o=m,a=t[m]),t[m]>s&&(s=t[m]);let u=0,d=0;for(let m=0;m<r;m++){const E=m-o,A=t[m]*E*E;A>d&&(u=m,d=A)}if(o>u){const m=o;o=u,u=m}if(u-o<=r/16)throw new F;let h=u-1,g=-1;for(let m=u-1;m>o;m--){const E=m-o,A=E*E*(u-m)*(s-t[m]);A>g&&(h=m,g=A)}return h<<Se.LUMINANCE_SHIFT}}Se.LUMINANCE_BITS=5,Se.LUMINANCE_SHIFT=8-Se.LUMINANCE_BITS,Se.LUMINANCE_BUCKETS=1<<Se.LUMINANCE_BITS,Se.EMPTY=Uint8ClampedArray.from([0]);class Z extends Se{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=Z.MINIMUM_DIMENSION&&s>=Z.MINIMUM_DIMENSION){const o=t.getMatrix();let a=r>>Z.BLOCK_SIZE_POWER;r&Z.BLOCK_SIZE_MASK&&a++;let u=s>>Z.BLOCK_SIZE_POWER;s&Z.BLOCK_SIZE_MASK&&u++;const d=Z.calculateBlackPoints(o,a,u,r,s),h=new me(r,s);Z.calculateThresholdForBlock(o,a,u,r,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Z(t)}static calculateThresholdForBlock(t,r,s,o,a,u,d){const h=a-Z.BLOCK_SIZE,g=o-Z.BLOCK_SIZE;for(let m=0;m<s;m++){let E=m<<Z.BLOCK_SIZE_POWER;E>h&&(E=h);const A=Z.cap(m,2,s-3);for(let T=0;T<r;T++){let R=T<<Z.BLOCK_SIZE_POWER;R>g&&(R=g);const b=Z.cap(T,2,r-3);let B=0;for(let ie=-2;ie<=2;ie++){const se=u[A+ie];B+=se[b-2]+se[b-1]+se[b]+se[b+1]+se[b+2]}const j=B/25;Z.thresholdBlock(t,R,E,j,o,d)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,a,u){for(let d=0,h=s*a+r;d<Z.BLOCK_SIZE;d++,h+=a)for(let g=0;g<Z.BLOCK_SIZE;g++)(t[h+g]&255)<=o&&u.set(r+g,s+d)}static calculateBlackPoints(t,r,s,o,a){const u=a-Z.BLOCK_SIZE,d=o-Z.BLOCK_SIZE,h=new Array(s);for(let g=0;g<s;g++){h[g]=new Int32Array(r);let m=g<<Z.BLOCK_SIZE_POWER;m>u&&(m=u);for(let E=0;E<r;E++){let A=E<<Z.BLOCK_SIZE_POWER;A>d&&(A=d);let T=0,R=255,b=0;for(let j=0,ie=m*o+A;j<Z.BLOCK_SIZE;j++,ie+=o){for(let se=0;se<Z.BLOCK_SIZE;se++){const Q=t[ie+se]&255;T+=Q,Q<R&&(R=Q),Q>b&&(b=Q)}if(b-R>Z.MIN_DYNAMIC_RANGE)for(j++,ie+=o;j<Z.BLOCK_SIZE;j++,ie+=o)for(let se=0;se<Z.BLOCK_SIZE;se++)T+=t[ie+se]&255}let B=T>>Z.BLOCK_SIZE_POWER*2;if(b-R<=Z.MIN_DYNAMIC_RANGE&&(B=R/2,g>0&&E>0)){const j=(h[g-1][E]+2*h[g][E-1]+h[g-1][E-1])/4;R<j&&(B=j)}h[g][E]=B}}return h}}Z.BLOCK_SIZE_POWER=3,Z.BLOCK_SIZE=1<<Z.BLOCK_SIZE_POWER,Z.BLOCK_SIZE_MASK=Z.BLOCK_SIZE-1,Z.MINIMUM_DIMENSION=Z.BLOCK_SIZE*5,Z.MIN_DYNAMIC_RANGE=24;class re{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new le;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let a=0;a<this.width;a++){const u=o[a]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class q extends re{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let a=0;a<o;a++)s[a]=255-(s[a]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new q(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new q(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new q(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return pe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let a=0,u=0,d=t.length;a<d;a+=4,u++){let h;if(t[a+3]===0)h=255;else{const m=t[a],E=t[a+1],A=t[a+2];h=306*m+601*E+117*A+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*pe.DEGREE_TO_RADIANS,a=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*u);return r.width=d,r.height=h,s.translate(d/2,h/2),s.rotate(o),s.drawImage(this.canvas,a/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new q(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Te{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ee=(globalThis||vi||self||window||void 0)&&(globalThis||vi||self||window||void 0).__awaiter||function(C,t,r,s){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(m){try{g(s.next(m))}catch(E){u(E)}}function h(m){try{g(s.throw(m))}catch(E){u(E)}}function g(m){m.done?a(m.value):o(m.value).then(d,h)}g((s=s.apply(C,t||[])).next())})};class De{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const a=s.deviceId||s.id,u=s.label||`Video device ${r.length+1}`,d=s.groupId,h={deviceId:a,label:u,kind:o,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Te(r.deviceId,r.label))})}findDeviceById(t){return ee(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ee(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return ee(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return ee(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return ee(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,r,s)})}decodeFromConstraints(t,r,s){return ee(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return ee(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ee(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new S(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new S(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new S("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new S("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new S("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new S("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new S("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new S("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new S("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new S("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(a,u)=>{if(this._stopAsyncDecode){u(new F("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);a(d)}catch(d){const h=r&&d instanceof F,m=(d instanceof U||d instanceof k)&&s;if(h||m)return setTimeout(o,this._timeBetweenDecodingAttempts,a,u);u(d)}};return new Promise((a,u)=>o(a,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const a=o instanceof U||o instanceof k,u=o instanceof F;(a||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new pe(r),o=new Z(s);return new L(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ne{constructor(t,r,s=r==null?0:8*r.length,o,a,u=H.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=a,this.timestamp=u,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=a,this.resultMetadata=null,u==null?this.timestamp=H.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);H.arraycopy(r,0,s,0,r.length),H.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ye;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var ue=Ye,$e;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($e||($e={}));var be=$e;class we{constructor(t,r,s,o,a=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Be{exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Re{constructor(t,r){if(r.length===0)throw new I;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),H.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];s=Be.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,a=this.field;for(let u=1;u<o;u++)s=Be.addOrSubtract(a.multiply(t,s),r[u]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const u=r;r=s,s=u}let o=new Int32Array(s.length);const a=s.length-r.length;H.arraycopy(s,0,o,0,a);for(let u=a;u<s.length;u++)o[u]=Be.addOrSubtract(r[u-a],s[u]);return new Re(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,a=o.length,u=new Int32Array(s+a-1),d=this.field;for(let h=0;h<s;h++){const g=r[h];for(let m=0;m<a;m++)u[h+m]=Be.addOrSubtract(u[h+m],d.multiply(g,o[m]))}return new Re(d,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),a=this.coefficients;for(let u=0;u<r;u++)o[u]=s.multiply(a[u],t);return new Re(s,o)}multiplyByMonomial(t,r){if(t<0)throw new I;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,a=new Int32Array(o+t),u=this.field;for(let d=0;d<o;d++)a[d]=u.multiply(s[d],r);return new Re(u,a)}divide(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new I("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const a=t.getCoefficient(t.getDegree()),u=r.inverse(a);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const d=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(d,h),m=r.buildMonomial(d,h);s=s.addOrSubtract(m),o=o.addOrSubtract(g)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class ut extends x{}ut.kind="ArithmeticException";class xe extends Be{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let a=1;for(let d=0;d<r;d++)o[d]=a,a*=2,a>=r&&(a^=t,a&=r-1);this.expTable=o;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[o[d]]=d;this.logTable=u,this.zero=new Re(this,Int32Array.from([0])),this.one=new Re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new I;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new Re(this,s)}inverse(t){if(t===0)throw new ut;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}xe.AZTEC_DATA_12=new xe(4201,4096,1),xe.AZTEC_DATA_10=new xe(1033,1024,1),xe.AZTEC_DATA_6=new xe(67,64,1),xe.AZTEC_PARAM=new xe(19,16,1),xe.QR_CODE_FIELD_256=new xe(285,256,0),xe.DATA_MATRIX_FIELD_256=new xe(301,256,1),xe.AZTEC_DATA_8=xe.DATA_MATRIX_FIELD_256,xe.MAXICODE_FIELD_64=xe.AZTEC_DATA_6;class ht extends x{}ht.kind="ReedSolomonException";class ze extends x{}ze.kind="IllegalStateException";class je{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new Re(s,t),a=new Int32Array(r);let u=!0;for(let T=0;T<r;T++){const R=o.evaluateAt(s.exp(T+s.getGeneratorBase()));a[a.length-1-T]=R,R!==0&&(u=!1)}if(u)return;const d=new Re(s,a),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),g=h[0],m=h[1],E=this.findErrorLocations(g),A=this.findErrorMagnitudes(m,E);for(let T=0;T<E.length;T++){const R=t.length-1-s.log(E[T]);if(R<0)throw new ht("Bad error location");t[R]=xe.addOrSubtract(t[R],A[T])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const T=t;t=r,r=T}const o=this.field;let a=t,u=r,d=o.getZero(),h=o.getOne();for(;u.getDegree()>=(s/2|0);){let T=a,R=d;if(a=u,d=h,a.isZero())throw new ht("r_{i-1} was zero");u=T;let b=o.getZero();const B=a.getCoefficient(a.getDegree()),j=o.inverse(B);for(;u.getDegree()>=a.getDegree()&&!u.isZero();){const ie=u.getDegree()-a.getDegree(),se=o.multiply(u.getCoefficient(u.getDegree()),j);b=b.addOrSubtract(o.buildMonomial(ie,se)),u=u.addOrSubtract(a.multiplyByMonomial(ie,se))}if(h=b.multiply(d).addOrSubtract(R),u.getDegree()>=a.getDegree())throw new ze("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new ht("sigmaTilde(0) was zero");const m=o.inverse(g),E=h.multiplyScalar(m),A=u.multiplyScalar(m);return[E,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const a=this.field;for(let u=1;u<a.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(s[o]=a.inverse(u),o++);if(o!==r)throw new ht("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),a=this.field;for(let u=0;u<s;u++){const d=a.inverse(r[u]);let h=1;for(let g=0;g<s;g++)if(u!==g){const m=a.multiply(r[g],d),E=m&1?m&-2:m|1;h=a.multiply(h,E)}o[u]=a.multiply(t.evaluateAt(d),a.inverse(h)),a.getGeneratorBase()!==0&&(o[u]=a.multiply(o[u],d))}return o}}var Ze;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(Ze||(Ze={}));class Me{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),a=Me.convertBoolArrayToByteArray(o),u=Me.getEncodedData(o),d=new we(a,u,null,null);return d.setNumBits(o.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=Ze.UPPER,o=Ze.UPPER,a="",u=0;for(;u<r;)if(o===Ze.BINARY){if(r-u<5)break;let d=Me.readCode(t,u,5);if(u+=5,d===0){if(r-u<11)break;d=Me.readCode(t,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const g=Me.readCode(t,u,8);a+=Y.castAsNonUtf8Char(g),u+=8}o=s}else{let d=o===Ze.DIGIT?4:5;if(r-u<d)break;let h=Me.readCode(t,u,d);u+=d;let g=Me.getCharacter(o,h);g.startsWith("CTRL_")?(s=o,o=Me.getTable(g.charAt(5)),g.charAt(6)==="L"&&(s=o)):(a+=g,o=s)}return a}static getTable(t){switch(t){case"L":return Ze.LOWER;case"P":return Ze.PUNCT;case"M":return Ze.MIXED;case"D":return Ze.DIGIT;case"B":return Ze.BINARY;case"U":default:return Ze.UPPER}}static getCharacter(t,r){switch(t){case Ze.UPPER:return Me.UPPER_TABLE[r];case Ze.LOWER:return Me.LOWER_TABLE[r];case Ze.MIXED:return Me.MIXED_TABLE[r];case Ze.PUNCT:return Me.PUNCT_TABLE[r];case Ze.DIGIT:return Me.DIGIT_TABLE[r];default:throw new ze("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=xe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=xe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=xe.AZTEC_DATA_10):(s=12,r=xe.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=t.length/s;if(a<o)throw new k;let u=t.length%s,d=new Int32Array(a);for(let A=0;A<a;A++,u+=s)d[A]=Me.readCode(t,u,s);try{new je(r).decode(d,a-o)}catch(A){throw new k(A)}let h=(1<<s)-1,g=0;for(let A=0;A<o;A++){let T=d[A];if(T===0||T===h)throw new k;(T===1||T===h-1)&&g++}let m=new Array(o*s-g),E=0;for(let A=0;A<o;A++){let T=d[A];if(T===1||T===h-1)m.fill(T>1,E,E+s-1),E+=s-1;else for(let R=s-1;R>=0;--R)m[E++]=(T&1<<R)!==0}return m}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,a=new Int32Array(o),u=new Array(this.totalBitsInLayer(s,r));if(r)for(let d=0;d<a.length;d++)a[d]=d;else{let d=o+1+2*O.truncDivision(O.truncDivision(o,2)-1,15),h=o/2,g=O.truncDivision(d,2);for(let m=0;m<h;m++){let E=m+O.truncDivision(m,15);a[h-m-1]=g-E-1,a[h+m]=g+E+1}}for(let d=0,h=0;d<s;d++){let g=(s-d)*4+(r?9:12),m=d*2,E=o-1-m;for(let A=0;A<g;A++){let T=A*2;for(let R=0;R<2;R++)u[h+T+R]=t.get(a[m+R],a[m+A]),u[h+2*g+T+R]=t.get(a[m+A],a[E-R]),u[h+4*g+T+R]=t.get(a[E-R],a[E-A]),u[h+6*g+T+R]=t.get(a[E-A],a[m+R])}h+=g*8}return u}static readCode(t,r,s){let o=0;for(let a=r;a<r+s;a++)o<<=1,t[a]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?Me.readCode(t,r,8):Me.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=Me.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Me.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Me.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Me.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Me.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Me.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const a=t-s,u=r-o;return Math.sqrt(a*a+u*u)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const a=t[s];r+=a}return r}}class rn{static floatToIntBits(t){return t}}rn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof fe){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*rn.floatToIntBits(this.x)+rn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let a,u,d;if(s>=r&&s>=o?(u=t[0],a=t[1],d=t[2]):o>=s&&o>=r?(u=t[1],a=t[0],d=t[2]):(u=t[2],a=t[0],d=t[1]),this.crossProductZ(a,u,d)<0){const h=a;a=d,d=h}t[0]=a,t[1]=u,t[2]=d}static distance(t,r){return Ie.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,a=r.y;return(s.x-o)*(t.y-a)-(s.y-a)*(t.x-o)}}class qe{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class gt extends qe{constructor(t,r,s,o,a){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ft{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Ft.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const a=r/2|0;if(this.leftInit=s-a,this.rightInit=s+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new F}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,a=!1,u=!0,d=!1,h=!1,g=!1,m=!1,E=!1;const A=this.width,T=this.height;for(;u;){u=!1;let R=!0;for(;(R||!h)&&r<A;)R=this.containsBlackPoint(s,o,r,!1),R?(r++,u=!0,h=!0):h||r++;if(r>=A){a=!0;break}let b=!0;for(;(b||!g)&&o<T;)b=this.containsBlackPoint(t,r,o,!0),b?(o++,u=!0,g=!0):g||o++;if(o>=T){a=!0;break}let B=!0;for(;(B||!m)&&t>=0;)B=this.containsBlackPoint(s,o,t,!1),B?(t--,u=!0,m=!0):m||t--;if(t<0){a=!0;break}let j=!0;for(;(j||!E)&&s>=0;)j=this.containsBlackPoint(t,r,s,!0),j?(s--,u=!0,E=!0):E||s--;if(s<0){a=!0;break}u&&(d=!0)}if(!a&&d){const R=r-t;let b=null;for(let se=1;b===null&&se<R;se++)b=this.getBlackPointOnSegment(t,o-se,t+se,o);if(b==null)throw new F;let B=null;for(let se=1;B===null&&se<R;se++)B=this.getBlackPointOnSegment(t,s+se,t+se,s);if(B==null)throw new F;let j=null;for(let se=1;j===null&&se<R;se++)j=this.getBlackPointOnSegment(r,s+se,r-se,s);if(j==null)throw new F;let ie=null;for(let se=1;ie===null&&se<R;se++)ie=this.getBlackPointOnSegment(r,o-se,r-se,o);if(ie==null)throw new F;return this.centerEdges(ie,b,j,B)}else throw new F}getBlackPointOnSegment(t,r,s,o){const a=Ie.round(Ie.distance(t,r,s,o)),u=(s-t)/a,d=(o-r)/a,h=this.image;for(let g=0;g<a;g++){const m=Ie.round(t+g*u),E=Ie.round(r+g*d);if(h.get(m,E))return new fe(m,E)}return null}centerEdges(t,r,s,o){const a=t.getX(),u=t.getY(),d=r.getX(),h=r.getY(),g=s.getX(),m=s.getY(),E=o.getX(),A=o.getY(),T=Ft.CORR;return a<this.width/2?[new fe(E-T,A+T),new fe(d+T,h+T),new fe(g-T,m-T),new fe(a+T,u-T)]:[new fe(E+T,A+T),new fe(d+T,h-T),new fe(g-T,m+T),new fe(a-T,u-T)]}containsBlackPoint(t,r,s,o){const a=this.image;if(o){for(let u=t;u<=r;u++)if(a.get(u,s))return!0}else for(let u=t;u<=r;u++)if(a.get(s,u))return!0;return!1}}Ft.INIT_SIZE=10,Ft.CORR=1;class He{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let a=!0;for(let u=0;u<r.length&&a;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>s||h<-1||h>o)throw new F;a=!1,d===-1?(r[u]=0,a=!0):d===s&&(r[u]=s-1,a=!0),h===-1?(r[u+1]=0,a=!0):h===o&&(r[u+1]=o-1,a=!0)}a=!0;for(let u=r.length-2;u>=0&&a;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>s||h<-1||h>o)throw new F;a=!1,d===-1?(r[u]=0,a=!0):d===s&&(r[u]=s-1,a=!0),h===-1?(r[u+1]=0,a=!0):h===o&&(r[u+1]=o-1,a=!0)}}}class bt{constructor(t,r,s,o,a,u,d,h,g){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=a,this.a32=u,this.a13=d,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(t,r,s,o,a,u,d,h,g,m,E,A,T,R,b,B){const j=bt.quadrilateralToSquare(t,r,s,o,a,u,d,h);return bt.squareToQuadrilateral(g,m,E,A,T,R,b,B).times(j)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,a=this.a13,u=this.a21,d=this.a22,h=this.a23,g=this.a31,m=this.a32,E=this.a33;for(let A=0;A<r;A+=2){const T=t[A],R=t[A+1],b=a*T+h*R+E;t[A]=(s*T+u*R+g)/b,t[A+1]=(o*T+d*R+m)/b}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,a=this.a13,u=this.a21,d=this.a22,h=this.a23,g=this.a31,m=this.a32,E=this.a33,A=t.length;for(let T=0;T<A;T++){const R=t[T],b=r[T],B=a*R+h*b+E;t[T]=(s*R+u*b+g)/B,r[T]=(o*R+d*b+m)/B}}static squareToQuadrilateral(t,r,s,o,a,u,d,h){const g=t-s+a-d,m=r-o+u-h;if(g===0&&m===0)return new bt(s-t,a-s,t,o-r,u-o,r,0,0,1);{const E=s-a,A=d-a,T=o-u,R=h-u,b=E*R-A*T,B=(g*R-A*m)/b,j=(E*m-g*T)/b;return new bt(s-t+B*s,d-t+j*d,t,o-r+B*o,h-r+j*h,r,B,j,1)}}static quadrilateralToSquare(t,r,s,o,a,u,d,h){return bt.squareToQuadrilateral(t,r,s,o,a,u,d,h).buildAdjoint()}buildAdjoint(){return new bt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new bt(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Nn extends He{sampleGrid(t,r,s,o,a,u,d,h,g,m,E,A,T,R,b,B,j,ie,se){const Q=bt.quadrilateralToQuadrilateral(o,a,u,d,h,g,m,E,A,T,R,b,B,j,ie,se);return this.sampleGridWithTransform(t,r,s,Q)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new F;const a=new me(r,s),u=new Float32Array(2*r);for(let d=0;d<s;d++){const h=u.length,g=d+.5;for(let m=0;m<h;m+=2)u[m]=m/2+.5,u[m+1]=g;o.transformPoints(u),He.checkAndNudgePoints(t,u);try{for(let m=0;m<h;m+=2)t.get(Math.floor(u[m]),Math.floor(u[m+1]))&&a.set(m/2,d)}catch{throw new F}}return a}}class Gt{static setGridSampler(t){Gt.gridSampler=t}static getInstance(){return Gt.gridSampler}}Gt.gridSampler=new Nn;class ct{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Fn{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),a=this.getMatrixCornerPoints(s);return new gt(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new F;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let u=0;u<4;u++){let d=s[(this.shift+u)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,a,u)=>{let d=(o>>r-2<<1)+(o&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(O.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new F}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let a=s-o,u=new Int32Array(s);for(let h=s-1;h>=0;--h)u[h]=t&15,t>>=4;try{new je(xe.AZTEC_PARAM).decode(u,a)}catch{throw new F}let d=0;for(let h=0;h<o;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(t){let r=t,s=t,o=t,a=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(s,u,1,1),T=this.getFirstDifferent(o,u,-1,1),R=this.getFirstDifferent(a,u,-1,-1);if(this.nbCenterLayers>2){let b=this.distancePoint(R,E)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(b<.75||b>1.25||!this.isWhiteOrBlackRectangle(E,A,T,R))break}r=E,s=A,o=T,a=R,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new F;this.compact=this.nbCenterLayers===5;let d=new fe(r.getX()+.5,r.getY()-.5),h=new fe(s.getX()+.5,s.getY()+.5),g=new fe(o.getX()-.5,o.getY()+.5),m=new fe(a.getX()-.5,a.getY()-.5);return this.expandSquare([d,h,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let d=new Ft(this.image).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new ct(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ct(h+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ct(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ct(h-7,g-7),!1,-1,-1).toResultPoint()}let a=Ie.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Ie.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let d=new Ft(this.image,15,a,u).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{t=this.getFirstDifferent(new ct(a+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ct(a+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ct(a-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ct(a-7,u-7),!1,-1,-1).toResultPoint()}return a=Ie.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Ie.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new ct(a,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,a){let u=Gt.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,g=d/2+this.nbCenterLayers;return u.sampleGrid(t,d,d,h,h,g,h,g,g,h,g,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(t,r,s){let o=0,a=this.distanceResultPoint(t,r),u=a/s,d=t.getX(),h=t.getY(),g=u*(r.getX()-t.getX())/a,m=u*(r.getY()-t.getY())/a;for(let E=0;E<s;E++)this.image.get(Ie.round(d+E*g),Ie.round(h+E*m))&&(o|=1<<s-E-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let a=3;t=new ct(t.getX()-a,t.getY()+a),r=new ct(r.getX()-a,r.getY()-a),s=new ct(s.getX()+a,s.getY()-a),o=new ct(o.getX()+a,o.getY()+a);let u=this.getColor(o,t);if(u===0)return!1;let d=this.getColor(t,r);return d!==u||(d=this.getColor(r,s),d!==u)?!1:(d=this.getColor(s,o),d===u)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,a=(r.getY()-t.getY())/s,u=0,d=t.getX(),h=t.getY(),g=this.image.get(t.getX(),t.getY()),m=Math.ceil(s);for(let A=0;A<m;A++)d+=o,h+=a,this.image.get(Ie.round(d),Ie.round(h))!==g&&u++;let E=u/s;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(t,r,s,o){let a=t.getX()+s,u=t.getY()+o;for(;this.isValid(a,u)&&this.image.get(a,u)===r;)a+=s,u+=o;for(a-=s,u-=o;this.isValid(a,u)&&this.image.get(a,u)===r;)a+=s;for(a-=s;this.isValid(a,u)&&this.image.get(a,u)===r;)u+=o;return u-=o,new ct(a,u)}expandSquare(t,r,s){let o=s/(2*r),a=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,g=new fe(d+o*a,h+o*u),m=new fe(d-o*a,h-o*u);a=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let E=new fe(d+o*a,h+o*u),A=new fe(d-o*a,h-o*u);return[g,E,m,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Ie.round(t.getX()),s=Ie.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Ie.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Ie.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class xn{decode(t,r=null){let s=null,o=new Fn(t.getBlackMatrix()),a=null,u=null;try{let m=o.detectMirror(!1);a=m.getPoints(),this.reportFoundResultPoints(r,a),u=new Me().decode(m)}catch(m){s=m}if(u==null)try{let m=o.detectMirror(!0);a=m.getPoints(),this.reportFoundResultPoints(r,a),u=new Me().decode(m)}catch(m){throw s??m}let d=new Ne(u.getText(),u.getRawBytes(),u.getNumBits(),a,ue.AZTEC,H.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(be.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&d.putMetadata(be.ERROR_CORRECTION_LEVEL,g),d}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(J.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,a,u)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class sn extends De{constructor(t=500){super(new xn,t)}}class it{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(J.TRY_HARDER)===!0&&t.isRotateSupported()){const a=t.rotateCounterClockwise(),u=this.doDecode(a,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(be.ORIENTATION)===!0&&(h=h+d.get(be.ORIENTATION)%360),u.putMetadata(be.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const m=a.getHeight();for(let E=0;E<g.length;E++)g[E]=new fe(m-g[E].getY()-1,g[E].getX())}return u}else throw new F}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let a=new V(s);const u=r&&r.get(J.TRY_HARDER)===!0,d=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const g=Math.trunc(o/2);for(let m=0;m<h;m++){const E=Math.trunc((m+1)/2),A=(m&1)===0,T=g+d*(A?E:-E);if(T<0||T>=o)break;try{a=t.getBlackRow(T,a)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(a.reverse(),r&&r.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const b=new Map;r.forEach((B,j)=>b.set(j,B)),b.delete(J.NEED_RESULT_POINT_CALLBACK),r=b}try{const b=this.decodeRow(T,a,r);if(R===1){b.putMetadata(be.ORIENTATION,180);const B=b.getResultPoints();B!==null&&(B[0]=new fe(s-B[0].getX()-1,B[0].getY()),B[1]=new fe(s-B[1].getX()-1,B[1].getY()))}return b}catch{}}}throw new F}static recordPattern(t,r,s){const o=s.length;for(let g=0;g<o;g++)s[g]=0;const a=t.getSize();if(r>=a)throw new F;let u=!t.get(r),d=0,h=r;for(;h<a;){if(t.get(h)!==u)s[d]++;else{if(++d===o)break;s[d]=1,u=!u}h++}if(!(d===o||d===o-1&&h===a))throw new F}static recordPatternInReverse(t,r,s){let o=s.length,a=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==a&&(o--,a=!a);if(o>=0)throw new F;it.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let a=0,u=0;for(let g=0;g<o;g++)a+=t[g],u+=r[g];if(a<u)return Number.POSITIVE_INFINITY;const d=a/u;s*=d;let h=0;for(let g=0;g<o;g++){const m=t[g],E=r[g]*d,A=m>E?m-E:E-m;if(A>s)return Number.POSITIVE_INFINITY;h+=A}return h/a}}class te extends it{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),u=s,d=!1;const h=6;for(let g=s;g<r;g++)if(t.get(g)!==d)a[o]++;else{if(o===h-1){let m=te.MAX_AVG_VARIANCE,E=-1;for(let A=te.CODE_START_A;A<=te.CODE_START_C;A++){const T=it.patternMatchVariance(a,te.CODE_PATTERNS[A],te.MAX_INDIVIDUAL_VARIANCE);T<m&&(m=T,E=A)}if(E>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,E]);u+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,d=!d}throw new F}static decodeCode(t,r,s){it.recordPattern(t,s,r);let o=te.MAX_AVG_VARIANCE,a=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const d=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,te.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,a=u)}if(a>=0)return a;throw new F}decodeRow(t,r,s){const o=s&&s.get(J.ASSUME_GS1)===!0,a=te.findStartPattern(r),u=a[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let g;switch(u){case te.CODE_START_A:g=te.CODE_CODE_A;break;case te.CODE_START_B:g=te.CODE_CODE_B;break;case te.CODE_START_C:g=te.CODE_CODE_C;break;default:throw new k}let m=!1,E=!1,A="",T=a[0],R=a[1];const b=Int32Array.from([0,0,0,0,0,0]);let B=0,j=0,ie=u,se=0,Q=!0,ke=!1,ve=!1;for(;!m;){const Si=E;switch(E=!1,B=j,j=te.decodeCode(r,b,R),h[d++]=j,j!==te.CODE_STOP&&(Q=!0),j!==te.CODE_STOP&&(se++,ie+=se*j),T=R,R+=b.reduce((Rh,Dh)=>Rh+Dh,0),j){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new k}switch(g){case te.CODE_CODE_A:if(j<64)ve===ke?A+=String.fromCharCode(32+j):A+=String.fromCharCode(32+j+128),ve=!1;else if(j<96)ve===ke?A+=String.fromCharCode(j-64):A+=String.fromCharCode(j+64),ve=!1;else switch(j!==te.CODE_STOP&&(Q=!1),j){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!ke&&ve?(ke=!0,ve=!1):ke&&ve?(ke=!1,ve=!1):ve=!0;break;case te.CODE_SHIFT:E=!0,g=te.CODE_CODE_B;break;case te.CODE_CODE_B:g=te.CODE_CODE_B;break;case te.CODE_CODE_C:g=te.CODE_CODE_C;break;case te.CODE_STOP:m=!0;break}break;case te.CODE_CODE_B:if(j<96)ve===ke?A+=String.fromCharCode(32+j):A+=String.fromCharCode(32+j+128),ve=!1;else switch(j!==te.CODE_STOP&&(Q=!1),j){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!ke&&ve?(ke=!0,ve=!1):ke&&ve?(ke=!1,ve=!1):ve=!0;break;case te.CODE_SHIFT:E=!0,g=te.CODE_CODE_A;break;case te.CODE_CODE_A:g=te.CODE_CODE_A;break;case te.CODE_CODE_C:g=te.CODE_CODE_C;break;case te.CODE_STOP:m=!0;break}break;case te.CODE_CODE_C:if(j<100)j<10&&(A+="0"),A+=j;else switch(j!==te.CODE_STOP&&(Q=!1),j){case te.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case te.CODE_CODE_A:g=te.CODE_CODE_A;break;case te.CODE_CODE_B:g=te.CODE_CODE_B;break;case te.CODE_STOP:m=!0;break}break}Si&&(g=g===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const un=R-T;if(R=r.getNextUnset(R),!r.isRange(R,Math.min(r.getSize(),R+(R-T)/2),!1))throw new F;if(ie-=se*B,ie%103!==B)throw new U;const zn=A.length;if(zn===0)throw new F;zn>0&&Q&&(g===te.CODE_CODE_C?A=A.substring(0,zn-2):A=A.substring(0,zn-1));const cn=(a[1]+a[0])/2,tt=T+un/2,jt=h.length,mn=new Uint8Array(jt);for(let Si=0;Si<jt;Si++)mn[Si]=h[Si];const Ai=[new fe(cn,t),new fe(tt,t)];return new Ne(A,mn,0,Ai,ue.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class yt extends it{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=yt.findAsteriskPattern(r,o),u=r.getNextSet(a[1]),d=r.getSize(),h,g;do{yt.recordPattern(r,u,o);let b=yt.toNarrowWidePattern(o);if(b<0)throw new F;h=yt.patternToChar(b),this.decodeRowResult+=h,g=u;for(let B of o)u+=B;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let m=0;for(let b of o)m+=b;let E=u-g-m;if(u!==d&&E*2<m)throw new F;if(this.usingCheckDigit){let b=this.decodeRowResult.length-1,B=0;for(let j=0;j<b;j++)B+=yt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(b)!==yt.ALPHABET_STRING.charAt(B%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(this.decodeRowResult.length===0)throw new F;let A;this.extendedMode?A=yt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let T=(a[1]+a[0])/2,R=g+m/2;return new Ne(A,null,0,[new fe(T,t),new fe(R,t)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),a=0,u=o,d=!1,h=r.length;for(let g=o;g<s;g++)if(t.get(g)!==d)r[a]++;else{if(a===h-1){if(this.toNarrowWidePattern(r)===yt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,d=!d}throw new F}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let a=2147483647;for(let h of t)h<a&&h>s&&(a=h);s=a,o=0;let u=0,d=0;for(let h=0;h<r;h++){let g=t[h];g>s&&(d|=1<<r-1-h,o++,u+=g)}if(o===3){for(let h=0;h<r&&o>0;h++){let g=t[h];if(g>s&&(o--,g*2>=u))return-1}return d}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<yt.CHARACTER_ENCODINGS.length;r++)if(yt.CHARACTER_ENCODINGS[r]===t)return yt.ALPHABET_STRING.charAt(r);if(t===yt.ASTERISK_ENCODING)return"*";throw new F}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let a=t.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let u=t.charAt(o+1),d="\0";switch(a){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new k;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new k;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new k;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new k;break}s+=d,o++}else s+=a}return s}}yt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yt.ASTERISK_ENCODING=148;class Ve extends it{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),a=this.decodeEnd(r),u=new le;Ve.decodeMiddle(r,o[1],a[0],u);let d=u.toString(),h=null;s!=null&&(h=s.get(J.ALLOWED_LENGTHS)),h==null&&(h=Ve.DEFAULT_ALLOWED_LENGTHS);let g=d.length,m=!1,E=0;for(let R of h){if(g===R){m=!0;break}R>E&&(E=R)}if(!m&&g>E&&(m=!0),!m)throw new k;const A=[new fe(o[1],t),new fe(a[0],t)];return new Ne(d,null,0,A,ue.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let a=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(a.fill(0),u.fill(0),d.fill(0);r<s;){it.recordPattern(t,r,a);for(let g=0;g<5;g++){let m=2*g;u[g]=a[m],d[g]=a[m+1]}let h=Ve.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),a.forEach(function(g){r+=g})}}decodeStart(t){let r=Ve.skipWhiteSpace(t),s=Ve.findGuardPattern(t,r,Ve.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new F}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new F;return s}decodeEnd(t){t.reverse();try{let r=Ve.skipWhiteSpace(t),s;try{s=Ve.findGuardPattern(t,r,Ve.END_PATTERN_REVERSED[0])}catch(a){a instanceof F&&(s=Ve.findGuardPattern(t,r,Ve.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,a=new Int32Array(o),u=t.getSize(),d=!1,h=0,g=r;a.fill(0);for(let m=r;m<u;m++)if(t.get(m)!==d)a[h]++;else{if(h===o-1){if(it.patternMatchVariance(a,s,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return[g,m];g+=a[0]+a[1],H.arraycopy(a,2,a,0,h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,d=!d}throw new F}static decodeDigit(t){let r=Ve.MAX_AVG_VARIANCE,s=-1,o=Ve.PATTERNS.length;for(let a=0;a<o;a++){let u=Ve.PATTERNS[a],d=it.patternMatchVariance(t,u,Ve.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,s=a):d===r&&(s=-1)}if(s>=0)return s%10;throw new F}}Ve.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ve.MAX_AVG_VARIANCE=.38,Ve.MAX_INDIVIDUAL_VARIANCE=.5,Ve.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ve.START_PATTERN=Int32Array.from([1,1,1,1]),Ve.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends it{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),s=Ct.findGuardPattern(t,o,!1,this.START_END_PATTERN,a);let u=s[0];o=s[1];let d=u-(o-u);d>=0&&(r=t.isRange(d,u,!1))}return s}static checkChecksum(t){return Ct.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Ct.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new k;s+=a}s*=3;for(let o=r-2;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new k;s+=a}return(1e3-s)%10}static decodeEnd(t,r){return Ct.findGuardPattern(t,r,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,a){let u=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let d=0,h=r,g=o.length,m=s;for(let E=r;E<u;E++)if(t.get(E)!==m)a[d]++;else{if(d===g-1){if(it.patternMatchVariance(a,o,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=a[0]+a[1];let A=a.slice(2,a.length-1);for(let T=0;T<d-1;T++)a[T]=A[T];a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,m=!m}throw new F}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let a=this.MAX_AVG_VARIANCE,u=-1,d=o.length;for(let h=0;h<d;h++){let g=o[h],m=it.patternMatchVariance(r,g,Ct.MAX_INDIVIDUAL_VARIANCE);m<a&&(a=m,u=h)}if(u>=0)return u;throw new F}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class rs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,s,o),u=o.toString(),d=rs.parseExtensionString(u),h=[new fe((s[0]+s[1])/2,t),new fe(a,t)],g=new Ne(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&g.putAllMetadata(d),g}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),u=r[1],d=0;for(let g=0;g<5&&u<a;g++){let m=Ct.decodeDigit(t,o,u,Ct.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let E of o)u+=E;m>=10&&(d|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==5)throw new F;let h=this.determineCheckDigit(d);if(rs.extensionChecksum(s.toString())!==h)throw new F;return u}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new F}static parseExtensionString(t){if(t.length!==5)return null;let r=rs.parseExtension5String(t);return r==null?null:new Map([[be.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),a=s%100,u=a<10?"0"+a:a.toString();return r+o+"."+u}}class Ua{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(r,s,o),u=o.toString(),d=Ua.parseExtensionString(u),h=[new fe((s[0]+s[1])/2,t),new fe(a,t)],g=new Ne(u,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&g.putAllMetadata(d),g}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<a;h++){let g=Ct.decodeDigit(t,o,u,Ct.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);for(let m of o)u+=m;g>=10&&(d|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==2)throw new F;if(parseInt(s.toString())%4!==d)throw new F;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[be.ISSUE_NUMBER,parseInt(t)]])}}class vc{static decodeRow(t,r,s){let o=Ct.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new rs().decodeRow(t,r,o)}catch{return new Ua().decodeRow(t,r,o)}}}vc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends Ct{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=We.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];We.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=We.findStartGuardPattern(r),a=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);if(a!=null){const Q=new fe((o[0]+o[1])/2,t);a.foundPossibleResultPoint(Q)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(a!=null){const Q=new fe(d,t);a.foundPossibleResultPoint(Q)}let g=this.decodeEnd(r,d);if(a!=null){const Q=new fe((g[0]+g[1])/2,t);a.foundPossibleResultPoint(Q)}let m=g[1],E=m+(m-g[0]);if(E>=r.getSize()||!r.isRange(m,E,!1))throw new F;let A=h.toString();if(A.length<8)throw new k;if(!We.checkChecksum(A))throw new U;let T=(o[1]+o[0])/2,R=(g[1]+g[0])/2,b=this.getBarcodeFormat(),B=[new fe(T,t),new fe(R,t)],j=new Ne(A,null,0,B,b,new Date().getTime()),ie=0;try{let Q=vc.decodeRow(t,r,g[1]);j.putMetadata(be.UPC_EAN_EXTENSION,Q.getText()),j.putAllMetadata(Q.getResultMetadata()),j.addResultPoints(Q.getResultPoints()),ie=Q.getText().length}catch{}let se=s==null?null:s.get(J.ALLOWED_EAN_EXTENSIONS);if(se!=null){let Q=!1;for(let ke in se)if(ie.toString()===ke){Q=!0;break}if(!Q)throw new F}return j}decodeEnd(t,r){return We.findGuardPattern(t,r,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return We.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return We.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new k;s+=a}s*=3;for(let o=r-2;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new k;s+=a}return(1e3-s)%10}}class Xr extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),u=r[1],d=0;for(let g=0;g<6&&u<a;g++){let m=We.decodeDigit(t,o,u,We.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let E of o)u+=E;m>=10&&(d|=1<<5-g)}s=Xr.determineFirstDigit(s,d),u=We.findGuardPattern(t,u,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<a;g++){let m=We.decodeDigit(t,o,u,We.L_PATTERNS);s+=String.fromCharCode(48+m);for(let E of o)u+=E}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new F}}Xr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Tc extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),u=r[1];for(let h=0;h<4&&u<a;h++){let g=We.decodeDigit(t,o,u,We.L_PATTERNS);s+=String.fromCharCode(48+g);for(let m of o)u+=m}u=We.findGuardPattern(t,u,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<a;h++){let g=We.decodeDigit(t,o,u,We.L_PATTERNS);s+=String.fromCharCode(48+g);for(let m of o)u+=m}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ue.EAN_8}}class Nc extends We{constructor(){super(...arguments),this.ean13Reader=new Xr}getBarcodeFormat(){return ue.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new Ne(r.substring(1),null,null,t.getResultPoints(),ue.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new F}reset(){this.ean13Reader.reset()}}class Un extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=t.getSize();let u=r[1],d=0;for(let g=0;g<6&&u<a;g++){const m=Un.decodeDigit(t,o,u,Un.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let E of o)u+=E;m>=10&&(d|=1<<5-g)}let h=Un.determineNumSysAndCheckDigit(s,d);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return Un.findGuardPatternWithoutCounters(t,r,!0,Un.MIDDLE_END_PATTERN)}checkChecksum(t){return We.checkChecksum(Un.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let a=String.fromCharCode(48+s),u=String.fromCharCode(48+o);return a+t+u}throw F.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(a=>a.charCodeAt(0)),s=new le;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}Un.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Un.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class za extends it{constructor(t){super();let r=t==null?null:t.get(J.POSSIBLE_FORMATS),s=[];l(r)?(s.push(new Xr),s.push(new Nc),s.push(new Tc),s.push(new Un)):(r.indexOf(ue.EAN_13)>-1&&s.push(new Xr),r.indexOf(ue.UPC_A)>-1&&s.push(new Nc),r.indexOf(ue.EAN_8)>-1&&s.push(new Tc),r.indexOf(ue.UPC_E)>-1&&s.push(new Un)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const a=o.decodeRow(t,r,s),u=a.getBarcodeFormat()===ue.EAN_13&&a.getText().charAt(0)==="0",d=s==null?null:s.get(J.POSSIBLE_FORMATS),h=d==null||d.includes(ue.UPC_A);if(u&&h){const g=a.getRawBytes(),m=new Ne(a.getText().substring(1),g,g?g.length:null,a.getResultPoints(),ue.UPC_A);return m.putAllMetadata(a.getResultMetadata()),m}return a}catch{}throw new F}reset(){for(let t of this.readers)t.reset()}}class Yt extends it{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(it.patternMatchVariance(t,r[s],Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return s;throw new F}static count(t){return Ie.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let a=1;a<t.length;a++)r[a]>o&&(o=r[a],s=a);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let a=1;a<t.length;a++)r[a]<o&&(o=r[a],s=a);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=Yt.MIN_FINDER_PATTERN_RATIO&&o<=Yt.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of t)d>u&&(u=d),d<a&&(a=d);return u<10*a}return!1}}Yt.MAX_AVG_VARIANCE=.2,Yt.MAX_INDIVIDUAL_VARIANCE=.45,Yt.MIN_FINDER_PATTERN_RATIO=9.5/12,Yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class pi{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof pi))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class so{constructor(t,r,s,o,a){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new fe(s,a)),this.resultPoints.push(new fe(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof so))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Qn{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let h of t)o+=h;let a=0,u=0,d=t.length;for(let h=0;h<d-1;h++){let g;for(g=1,u|=1<<h;g<t[h];g++,u&=~(1<<h)){let m=Qn.combins(o-g-1,d-h-2);if(s&&u===0&&o-g-(d-h-1)>=d-h-1&&(m-=Qn.combins(o-g-(d-h),d-h-2)),d-h-1>1){let E=0;for(let A=o-g-(d-h-2);A>r;A--)E+=Qn.combins(o-g-A-1,d-h-3);m-=E*(d-1-h)}else o-g>r&&m--;a+=m}o-=g}return a}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let a=1,u=1;for(let d=t;d>s;d--)a*=d,u<=o&&(a/=u,u++);for(;u<=o;)a/=u,u++;return a}}class rh{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new V(s),a=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(a),a++;for(let h=1;h<t.length;++h){let g=t[h],m=g.getLeftChar().getValue();for(let E=11;E>=0;--E)m&1<<E&&o.set(a),a++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&o.set(a),a++}}return o}}class Zr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ja{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class on extends ja{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===on.FNC1}}on.FNC1="$";class Qr extends ja{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _n extends ja{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new k;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_n.FNC1}isSecondDigitFNC1(){return this.secondDigit===_n.FNC1}isAnyFNC1(){return this.firstDigit===_n.FNC1||this.secondDigit===_n.FNC1}}_n.FNC1=10;class de{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new F;let r=t.substring(0,2);for(let a of de.TWO_DIGIT_DATA_LENGTH)if(a[0]===r)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(2,a[2],t):de.processFixedAI(2,a[1],t);if(t.length<3)throw new F;let s=t.substring(0,3);for(let a of de.THREE_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(3,a[2],t):de.processFixedAI(3,a[1],t);for(let a of de.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===s)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(4,a[2],t):de.processFixedAI(4,a[1],t);if(t.length<4)throw new F;let o=t.substring(0,4);for(let a of de.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===de.VARIABLE_LENGTH?de.processVariableAI(4,a[2],t):de.processFixedAI(4,a[1],t);throw new F}static processFixedAI(t,r,s){if(s.length<t)throw new F;let o=s.substring(0,t);if(s.length<t+r)throw new F;let a=s.substring(t,t+r),u=s.substring(t+r),d="("+o+")"+a,h=de.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(t,r,s){let o=s.substring(0,t),a;s.length<t+r?a=s.length:a=t+r;let u=s.substring(t,a),d=s.substring(a),h="("+o+")"+u,g=de.parseFieldsInGeneralPurpose(d);return g==null?h:h+g}}de.VARIABLE_LENGTH=[],de.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",de.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",de.VARIABLE_LENGTH,20],["22",de.VARIABLE_LENGTH,29],["30",de.VARIABLE_LENGTH,8],["37",de.VARIABLE_LENGTH,8],["90",de.VARIABLE_LENGTH,30],["91",de.VARIABLE_LENGTH,30],["92",de.VARIABLE_LENGTH,30],["93",de.VARIABLE_LENGTH,30],["94",de.VARIABLE_LENGTH,30],["95",de.VARIABLE_LENGTH,30],["96",de.VARIABLE_LENGTH,30],["97",de.VARIABLE_LENGTH,3],["98",de.VARIABLE_LENGTH,30],["99",de.VARIABLE_LENGTH,30]],de.THREE_DIGIT_DATA_LENGTH=[["240",de.VARIABLE_LENGTH,30],["241",de.VARIABLE_LENGTH,30],["242",de.VARIABLE_LENGTH,6],["250",de.VARIABLE_LENGTH,30],["251",de.VARIABLE_LENGTH,30],["253",de.VARIABLE_LENGTH,17],["254",de.VARIABLE_LENGTH,20],["400",de.VARIABLE_LENGTH,30],["401",de.VARIABLE_LENGTH,30],["402",17],["403",de.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",de.VARIABLE_LENGTH,20],["421",de.VARIABLE_LENGTH,15],["422",3],["423",de.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],de.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",de.VARIABLE_LENGTH,15],["391",de.VARIABLE_LENGTH,18],["392",de.VARIABLE_LENGTH,15],["393",de.VARIABLE_LENGTH,18],["703",de.VARIABLE_LENGTH,30]],de.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",de.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",de.VARIABLE_LENGTH,20],["8003",de.VARIABLE_LENGTH,30],["8004",de.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",de.VARIABLE_LENGTH,30],["8008",de.VARIABLE_LENGTH,12],["8018",18],["8020",de.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",de.VARIABLE_LENGTH,70],["8200",de.VARIABLE_LENGTH,70]];class xi{constructor(t){this.buffer=new le,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let a=this.decodeGeneralPurposeField(s,o),u=de.parseFieldsInGeneralPurpose(a.getNewString());if(u!=null&&t.append(u),a.isRemaining()?o=""+a.getRemainingValue():o=null,s===a.getNewPosition())break;s=a.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(t,4);return a===0?new _n(this.information.getSize(),_n.FNC1,_n.FNC1):new _n(this.information.getSize(),a-1,_n.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new _n(t+7,s,o)}extractNumericValueFromBitArray(t,r){return xi.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let a=0;a<s;++a)t.get(r+a)&&(o|=1<<s-a-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Qr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Qr(this.current.getPosition(),this.buffer.toString()):r=new Qr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Zr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new on(t+5,on.FNC1);if(r>=5&&r<15)return new on(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new on(t+7,""+(s+1));if(s>=90&&s<116)return new on(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new k}return new on(t+8,a)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new on(t+5,on.FNC1);if(r>=5&&r<15)return new on(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new on(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new ze("Decoding invalid alphanumeric value: "+s)}return new on(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Ha{constructor(t){this.information=t,this.generalDecoder=new xi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class an extends Ha{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}an.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let a=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?a:3*a}s=10-s%10,s===10&&(s=0),t.append(s)}}an.GTIN_SIZE=40;class mi extends an{constructor(t){super(t)}parseInformation(){let t=new le;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(mi.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,mi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,mi.HEADER_SIZE+44)}}mi.HEADER_SIZE=4;class oo extends Ha{constructor(t){super(t)}parseInformation(){let t=new le;return this.getGeneralDecoder().decodeAllCodes(t,oo.HEADER_SIZE)}}oo.HEADER_SIZE=5;class ao extends an{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let a=this.checkWeight(o),u=1e5;for(let d=0;d<5;++d)a/u===0&&t.append("0"),u/=10;t.append(a)}}class Kn extends ao{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+ao.GTIN_SIZE+Kn.WEIGHT_SIZE)throw new F;let t=new le;return this.encodeCompressedGtin(t,Kn.HEADER_SIZE),this.encodeCompressedWeight(t,Kn.HEADER_SIZE+ao.GTIN_SIZE,Kn.WEIGHT_SIZE),t.toString()}}Kn.HEADER_SIZE=5,Kn.WEIGHT_SIZE=15;class ih extends Kn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class sh extends Kn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class qn extends an{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<qn.HEADER_SIZE+an.GTIN_SIZE)throw new F;let t=new le;this.encodeCompressedGtin(t,qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE+an.GTIN_SIZE,qn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(qn.HEADER_SIZE+an.GTIN_SIZE+qn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}qn.HEADER_SIZE=8,qn.LAST_DIGIT_SIZE=2;class Jt extends an{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Jt.HEADER_SIZE+an.GTIN_SIZE)throw new F;let t=new le;this.encodeCompressedGtin(t,Jt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+an.GTIN_SIZE,Jt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Jt.HEADER_SIZE+an.GTIN_SIZE+Jt.LAST_DIGIT_SIZE,Jt.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Jt.HEADER_SIZE+an.GTIN_SIZE+Jt.LAST_DIGIT_SIZE+Jt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Jt.HEADER_SIZE=8,Jt.LAST_DIGIT_SIZE=2,Jt.FIRST_THREE_DIGITS_SIZE=10;class ft extends ao{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=ft.HEADER_SIZE+ft.GTIN_SIZE+ft.WEIGHT_SIZE+ft.DATE_SIZE)throw new F;let t=new le;return this.encodeCompressedGtin(t,ft.HEADER_SIZE),this.encodeCompressedWeight(t,ft.HEADER_SIZE+ft.GTIN_SIZE,ft.WEIGHT_SIZE),this.encodeCompressedDate(t,ft.HEADER_SIZE+ft.GTIN_SIZE+ft.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,ft.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let a=s%12+1;s/=12;let u=s;u/10==0&&t.append("0"),t.append(u),a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}ft.HEADER_SIZE=8,ft.WEIGHT_SIZE=20,ft.DATE_SIZE=16;function _c(C){try{if(C.get(1))return new mi(C);if(!C.get(2))return new oo(C);switch(xi.extractNumericValueFromBitArray(C,1,4)){case 4:return new ih(C);case 5:return new sh(C)}switch(xi.extractNumericValueFromBitArray(C,1,5)){case 12:return new qn(C);case 13:return new Jt(C)}switch(xi.extractNumericValueFromBitArray(C,1,7)){case 56:return new ft(C,"310","11");case 57:return new ft(C,"320","11");case 58:return new ft(C,"310","13");case 59:return new ft(C,"320","13");case 60:return new ft(C,"310","15");case 61:return new ft(C,"320","15");case 62:return new ft(C,"310","17");case 63:return new ft(C,"320","17")}}catch(t){throw console.log(t),new ze("unknown decoder: "+C)}}class wr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof wr?wr.equalsOrNull(t.leftchar,r.leftchar)&&wr.equalsOrNull(t.rightchar,r.rightchar)&&wr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:wr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Va{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Va?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,a)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class X extends Yt{constructor(t){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(a){if(a instanceof F){if(!this.pairs.length)throw new F;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new F}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(t);a.push(o);try{return this.checkRows(a,s+1)}catch(u){this.verbose&&console.log(u)}}throw new F}static isValidSequence(t){for(let r of X.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,a=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>t){a=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),s++}a||o||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Va(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let a of t)if(wr.equals(o,a))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let a of t){let u=!1;for(let d of s.getPairs())if(a.equals(d)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=rh.buildBitArray(t),o=_c(r).parseInformation(),a=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),d=[a[0],a[1],u[0],u[1]];return new Ne(o,null,null,d,ue.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),a=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),a++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let a,u=!0,d=-1;do this.findNextPair(t,r,d),a=this.parseFoundFinderPattern(t,s,o),a==null?d=X.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,a,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new F;let g;try{g=this.decodeDataCharacter(t,a,o,!1)}catch(m){g=null,this.verbose&&console.log(m)}return new wr(h,g,a,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),u;s>=0?u=s:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<a&&(h=!t.get(u),!!h);)u++;let g=0,m=u;for(let E=u;E<a;E++)if(t.get(E)!=h)o[g]++;else{if(g==3){if(d&&X.reverseCounters(o),X.isFinderPattern(o)){this.startEnd[0]=m,this.startEnd[1]=E;return}d&&X.reverseCounters(o),m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new F}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,a,u;if(s){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,a=g,u=this.startEnd[1]}else a=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let d=this.getDecodeFinderCounters();H.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,X.FINDER_PATTERNS)}catch{return null}return new so(h,[a,u],a,u,r)}decodeDataCharacter(t,r,s,o){let a=this.getDataCharacterCounters();for(let tt=0;tt<a.length;tt++)a[tt]=0;if(o)X.recordPatternInReverse(t,r.getStartEnd()[0],a);else{X.recordPattern(t,r.getStartEnd()[1],a);for(let tt=0,jt=a.length-1;tt<jt;tt++,jt--){let mn=a[tt];a[tt]=a[jt],a[jt]=mn}}let u=17,d=Ie.sum(new Int32Array(a))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new F;let g=this.getOddCounts(),m=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let tt=0;tt<a.length;tt++){let jt=1*a[tt]/d,mn=jt+.5;if(mn<1){if(jt<.3)throw new F;mn=1}else if(mn>8){if(jt>8.7)throw new F;mn=8}let Ai=tt/2;tt&1?(m[Ai]=mn,A[Ai]=jt-mn):(g[Ai]=mn,E[Ai]=jt-mn)}this.adjustOddEvenCounts(u);let T=4*r.getValue()+(s?0:2)+(o?0:1)-1,R=0,b=0;for(let tt=g.length-1;tt>=0;tt--){if(X.isNotA1left(r,s,o)){let jt=X.WEIGHTS[T][2*tt];b+=g[tt]*jt}R+=g[tt]}let B=0;for(let tt=m.length-1;tt>=0;tt--)if(X.isNotA1left(r,s,o)){let jt=X.WEIGHTS[T][2*tt+1];B+=m[tt]*jt}let j=b+B;if(R&1||R>13||R<4)throw new F;let ie=(13-R)/2,se=X.SYMBOL_WIDEST[ie],Q=9-se,ke=Qn.getRSSvalue(g,se,!0),ve=Qn.getRSSvalue(m,Q,!1),un=X.EVEN_TOTAL_SUBSET[ie],zn=X.GSUM[ie],cn=ke*un+ve+zn;return new pi(cn,j)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Ie.sum(new Int32Array(this.getOddCounts())),s=Ie.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;r>13?a=!0:r<4&&(o=!0);let u=!1,d=!1;s>13?d=!0:s<4&&(u=!0);let h=r+s-t,g=(r&1)==1,m=(s&1)==0;if(h==1)if(g){if(m)throw new F;a=!0}else{if(!m)throw new F;d=!0}else if(h==-1)if(g){if(m)throw new F;o=!0}else{if(!m)throw new F;u=!0}else if(h==0){if(g){if(!m)throw new F;r<s?(o=!0,d=!0):(a=!0,u=!0)}else if(m)throw new F}else throw new F;if(o){if(a)throw new F;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new F;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class oh extends pi{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends Yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);Et.addOrTally(this.possibleLeftPairs,o),r.reverse();let a=this.decodePair(r,!0,t,s);Et.addOrTally(this.possibleRightPairs,a),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&Et.checkChecksum(u,d))return Et.constructResult(u,d)}throw new F}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),a=new le;for(let g=13-o.length;g>0;g--)a.append("0");a.append(o);let u=0;for(let g=0;g<13;g++){let m=a.charAt(g).charCodeAt(0)-48;u+=g&1?m:3*m}u=10-u%10,u===10&&(u=0),a.append(u.toString());let d=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ne(a.toString(),null,0,[d[0],d[1],h[0],h[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let a=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,s,r,a),d=o==null?null:o.get(J.NEED_RESULT_POINT_CALLBACK);if(d!=null){let m=(a[0]+a[1])/2;r&&(m=t.getSize()-1-m),d.foundPossibleResultPoint(new fe(m,s))}let h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new oh(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let B=0;B<o.length;B++)o[B]=0;if(s)it.recordPatternInReverse(t,r.getStartEnd()[0],o);else{it.recordPattern(t,r.getStartEnd()[1]+1,o);for(let B=0,j=o.length-1;B<j;B++,j--){let ie=o[B];o[B]=o[j],o[j]=ie}}let a=s?16:15,u=Ie.sum(new Int32Array(o))/a,d=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let B=0;B<o.length;B++){let j=o[B]/u,ie=Math.floor(j+.5);ie<1?ie=1:ie>8&&(ie=8);let se=Math.floor(B/2);B&1?(h[se]=ie,m[se]=j-ie):(d[se]=ie,g[se]=j-ie)}this.adjustOddEvenCounts(s,a);let E=0,A=0;for(let B=d.length-1;B>=0;B--)A*=9,A+=d[B],E+=d[B];let T=0,R=0;for(let B=h.length-1;B>=0;B--)T*=9,T+=h[B],R+=h[B];let b=A+3*T;if(s){if(E&1||E>12||E<4)throw new F;let B=(12-E)/2,j=Et.OUTSIDE_ODD_WIDEST[B],ie=9-j,se=Qn.getRSSvalue(d,j,!1),Q=Qn.getRSSvalue(h,ie,!0),ke=Et.OUTSIDE_EVEN_TOTAL_SUBSET[B],ve=Et.OUTSIDE_GSUM[B];return new pi(se*ke+Q+ve,b)}else{if(R&1||R>10||R<4)throw new F;let B=(10-R)/2,j=Et.INSIDE_ODD_WIDEST[B],ie=9-j,se=Qn.getRSSvalue(d,j,!0),Q=Qn.getRSSvalue(h,ie,!1),ke=Et.INSIDE_ODD_TOTAL_SUBSET[B],ve=Et.INSIDE_GSUM[B];return new pi(Q*ke+se+ve,b)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),a=!1,u=0;for(;u<o&&(a=!t.get(u),r!==a);)u++;let d=0,h=u;for(let g=u;g<o;g++)if(t.get(g)!==a)s[d]++;else{if(d===3){if(Yt.isFinderPattern(s))return[h,g];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,a=!a}throw new F}parseFoundFinderPattern(t,r,s,o){let a=t.get(o[0]),u=o[0]-1;for(;u>=0&&a!==t.get(u);)u--;u++;const d=o[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);H.arraycopy(h,0,g,1,h.length-1),g[0]=d;const m=this.parseFinderValue(g,Et.FINDER_PATTERNS);let E=u,A=o[1];return s&&(E=t.getSize()-1-E,A=t.getSize()-1-A),new so(m,[u,o[1]],E,A,r)}adjustOddEvenCounts(t,r){let s=Ie.sum(new Int32Array(this.getOddCounts())),o=Ie.sum(new Int32Array(this.getEvenCounts())),a=!1,u=!1,d=!1,h=!1;t?(s>12?u=!0:s<4&&(a=!0),o>12?h=!0:o<4&&(d=!0)):(s>11?u=!0:s<5&&(a=!0),o>10?h=!0:o<4&&(d=!0));let g=s+o-r,m=(s&1)===(t?1:0),E=(o&1)===1;if(g===1)if(m){if(E)throw new F;u=!0}else{if(!E)throw new F;h=!0}else if(g===-1)if(m){if(E)throw new F;a=!0}else{if(!E)throw new F;d=!0}else if(g===0){if(m){if(!E)throw new F;s<o?(a=!0,h=!0):(u=!0,d=!0)}else if(E)throw new F}else throw new F;if(a){if(u)throw new F;Yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new F;Yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class wi extends it{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(J.POSSIBLE_FORMATS):null,o=t&&t.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ue.EAN_13)||s.includes(ue.UPC_A)||s.includes(ue.EAN_8)||s.includes(ue.UPC_E))&&this.readers.push(new za(t)),s.includes(ue.CODE_39)&&this.readers.push(new yt(o)),s.includes(ue.CODE_128)&&this.readers.push(new te),s.includes(ue.ITF)&&this.readers.push(new Ve),s.includes(ue.RSS_14)&&this.readers.push(new Et),s.includes(ue.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new za(t)),this.readers.push(new yt),this.readers.push(new za(t)),this.readers.push(new te),this.readers.push(new Ve),this.readers.push(new Et),this.readers.push(new X(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new F}reset(){this.readers.forEach(t=>t.reset())}}class ah extends De{constructor(t=500,r){super(new wi(r),t,r)}}class Xe{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ge{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(t,r,s,o,a,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let m of g)d+=m.getCount()*(m.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new k;for(let s of Pe.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new Pe(1,10,10,8,8,new Xe(5,new Ge(1,3))),new Pe(2,12,12,10,10,new Xe(7,new Ge(1,5))),new Pe(3,14,14,12,12,new Xe(10,new Ge(1,8))),new Pe(4,16,16,14,14,new Xe(12,new Ge(1,12))),new Pe(5,18,18,16,16,new Xe(14,new Ge(1,18))),new Pe(6,20,20,18,18,new Xe(18,new Ge(1,22))),new Pe(7,22,22,20,20,new Xe(20,new Ge(1,30))),new Pe(8,24,24,22,22,new Xe(24,new Ge(1,36))),new Pe(9,26,26,24,24,new Xe(28,new Ge(1,44))),new Pe(10,32,32,14,14,new Xe(36,new Ge(1,62))),new Pe(11,36,36,16,16,new Xe(42,new Ge(1,86))),new Pe(12,40,40,18,18,new Xe(48,new Ge(1,114))),new Pe(13,44,44,20,20,new Xe(56,new Ge(1,144))),new Pe(14,48,48,22,22,new Xe(68,new Ge(1,174))),new Pe(15,52,52,24,24,new Xe(42,new Ge(2,102))),new Pe(16,64,64,14,14,new Xe(56,new Ge(2,140))),new Pe(17,72,72,16,16,new Xe(36,new Ge(4,92))),new Pe(18,80,80,18,18,new Xe(48,new Ge(4,114))),new Pe(19,88,88,20,20,new Xe(56,new Ge(4,144))),new Pe(20,96,96,22,22,new Xe(68,new Ge(4,174))),new Pe(21,104,104,24,24,new Xe(56,new Ge(6,136))),new Pe(22,120,120,18,18,new Xe(68,new Ge(6,175))),new Pe(23,132,132,20,20,new Xe(62,new Ge(8,163))),new Pe(24,144,144,22,22,new Xe(62,new Ge(8,156),new Ge(2,155))),new Pe(25,8,18,6,16,new Xe(7,new Ge(1,5))),new Pe(26,8,32,6,14,new Xe(11,new Ge(1,10))),new Pe(27,12,26,10,24,new Xe(14,new Ge(1,16))),new Pe(28,12,36,10,16,new Xe(18,new Ge(1,22))),new Pe(29,16,36,14,16,new Xe(24,new Ge(1,32))),new Pe(30,16,48,14,22,new Xe(28,new Ge(1,49)))]}}Pe.VERSIONS=Pe.buildVersions();class Wa{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new k;this.version=Wa.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return Pe.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const a=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,g=!1,m=!1;do if(s===a&&o===0&&!d)t[r++]=this.readCorner1(a,u)&255,s-=2,o+=2,d=!0;else if(s===a-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(a,u)&255,s-=2,o+=2,h=!0;else if(s===a+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(a,u)&255,s-=2,o+=2,g=!0;else if(s===a-2&&o===0&&(u&7)===4&&!m)t[r++]=this.readCorner4(a,u)&255,s-=2,o+=2,m=!0;else{do s<a&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,a,u)&255),s-=2,o+=2;while(s>=0&&o<u);s+=1,o+=3;do s>=0&&o<u&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,a,u)&255),s+=2,o-=2;while(s<a&&o>=0);s+=3,o+=1}while(s<a||o<u);if(r!==this.version.getTotalCodewords())throw new k;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let a=0;return this.readModule(t-2,r-2,s,o)&&(a|=1),a<<=1,this.readModule(t-2,r-1,s,o)&&(a|=1),a<<=1,this.readModule(t-1,r-2,s,o)&&(a|=1),a<<=1,this.readModule(t-1,r-1,s,o)&&(a|=1),a<<=1,this.readModule(t-1,r,s,o)&&(a|=1),a<<=1,this.readModule(t,r-2,s,o)&&(a|=1),a<<=1,this.readModule(t,r-1,s,o)&&(a|=1),a<<=1,this.readModule(t,r,s,o)&&(a|=1),a}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new I("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),u=r/o|0,d=s/a|0,h=u*o,g=d*a,m=new me(g,h);for(let E=0;E<u;++E){const A=E*o;for(let T=0;T<d;++T){const R=T*a;for(let b=0;b<o;++b){const B=E*(o+2)+1+b,j=A+b;for(let ie=0;ie<a;++ie){const se=T*(a+2)+1+ie;if(t.get(se,B)){const Q=R+ie;m.set(Q,j)}}}}}return m}}class Ga{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const a=s.getECBlocks();for(let b of a)o+=b.getCount();const u=new Array(o);let d=0;for(let b of a)for(let B=0;B<b.getCount();B++){const j=b.getDataCodewords(),ie=s.getECCodewords()+j;u[d++]=new Ga(j,new Uint8Array(ie))}const g=u[0].codewords.length-s.getECCodewords(),m=g-1;let E=0;for(let b=0;b<m;b++)for(let B=0;B<d;B++)u[B].codewords[b]=t[E++];const A=r.getVersionNumber()===24,T=A?8:d;for(let b=0;b<T;b++)u[b].codewords[g-1]=t[E++];const R=u[0].codewords.length;for(let b=g;b<R;b++)for(let B=0;B<d;B++){const j=A?(B+8)%d:B,ie=A&&j>7?b-1:b;u[j].codewords[ie]=t[E++]}if(E!==t.length)throw new I;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ya{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new I(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(s>0){const u=8-s,d=t<u?t:u,h=u-d,g=255>>8-d<<h;r=(a[o]&g)>>h,t-=d,s+=d,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|a[o]&255,o++,t-=8;if(t>0){const u=8-t,d=255>>u<<u;r=r<<t|(a[o]&d)>>u,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var _t;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(_t||(_t={}));class yr{static decode(t){const r=new Ya(t),s=new le,o=new le,a=new Array;let u=_t.ASCII_ENCODE;do if(u===_t.ASCII_ENCODE)u=this.decodeAsciiSegment(r,s,o);else{switch(u){case _t.C40_ENCODE:this.decodeC40Segment(r,s);break;case _t.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case _t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case _t.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case _t.BASE256_ENCODE:this.decodeBase256Segment(r,s,a);break;default:throw new k}u=_t.ASCII_ENCODE}while(u!==_t.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new we(t,s.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let a=t.readBits(8);if(a===0)throw new k;if(a<=128)return o&&(a+=128),r.append(String.fromCharCode(a-1)),_t.ASCII_ENCODE;if(a===129)return _t.PAD_ENCODE;if(a<=229){const u=a-130;u<10&&r.append("0"),r.append(""+u)}else switch(a){case 230:return _t.C40_ENCODE;case 231:return _t.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return _t.ANSIX12_ENCODE;case 239:return _t.TEXT_ENCODE;case 240:return _t.EDIFACT_ENCODE;case 241:break;default:if(a!==254||t.available()!==0)throw new k;break}}while(t.available()>0);return _t.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let a=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(a){case 0:if(h<3)a=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new k;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new k}a=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),a=0;break;default:throw new k}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],a=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(a){case 0:if(h<3)a=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new k;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new k}a=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g),a=0}else throw new k;break;default:throw new k}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let a=0;a<3;a++){const u=s[a];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new k;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,a=Math.floor(o/1600);s[0]=a,o-=a*1600,a=Math.floor(o/40),s[1]=a,s[2]=o-a*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const a=8-t.getBitOffset();a!==8&&t.readBits(a);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const a=this.unrandomize255State(t.readBits(8),o++);let u;if(a===0?u=t.available()/8|0:a<250?u=a:u=250*(a-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new k;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new k;d[h]=this.unrandomize255State(t.readBits(8),o++)}s.push(d);try{r.append(oe.decode(d,Y.ISO88591))}catch(h){throw new ze("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}yr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yr.TEXT_SHIFT2_SET_CHARS=yr.C40_SHIFT2_SET_CHARS,yr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class lh{constructor(){this.rsDecoder=new je(xe.DATA_MATRIX_FIELD_256)}decode(t){const r=new Wa(t),s=r.getVersion(),o=r.readCodewords(),a=Ga.getDataBlocks(o,s);let u=0;for(let g of a)u+=g.getNumDataCodewords();const d=new Uint8Array(u),h=a.length;for(let g=0;g<h;g++){const m=a[g],E=m.getCodewords(),A=m.getNumDataCodewords();this.correctErrors(E,A);for(let T=0;T<A;T++)d[T*h+g]=E[T]}return yr.decode(d)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new U}for(let o=0;o<r;o++)t[o]=s[o]}}class vt{constructor(t){this.image=t,this.rectangleDetector=new Ft(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new F;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],a=r[2],u=r[3];let d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(a,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let g=vt.sampleGrid(this.image,s,o,a,u,d,h);return new qe(g,[s,o,a,u])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),a=(r.getY()-t.getY())/(s+1);return new fe(t.getX()+o,t.getY()+a)}static moveAway(t,r,s){let o=t.getX(),a=t.getY();return o<r?o-=1:o+=1,a<s?a-=1:a+=1,new fe(o,a)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],a=t[2],u=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,a),g=this.transitionsBetween(a,r),m=u,E=[a,r,s,o];return m>d&&(m=d,E[0]=r,E[1]=s,E[2]=o,E[3]=a),m>h&&(m=h,E[0]=s,E[1]=o,E[2]=a,E[3]=r),m>g&&(E[0]=o,E[1]=a,E[2]=r,E[3]=s),E}detectSolid2(t){let r=t[0],s=t[1],o=t[2],a=t[3],u=this.transitionsBetween(r,a),d=vt.shiftPoint(s,o,(u+1)*4),h=vt.shiftPoint(o,s,(u+1)*4),g=this.transitionsBetween(d,r),m=this.transitionsBetween(h,a);return g<m?(t[0]=r,t[1]=s,t[2]=o,t[3]=a):(t[0]=s,t[1]=o,t[2]=a,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],a=t[3],u=this.transitionsBetween(r,a),d=this.transitionsBetween(s,a),h=vt.shiftPoint(r,s,(d+1)*4),g=vt.shiftPoint(o,s,(u+1)*4);u=this.transitionsBetween(h,a),d=this.transitionsBetween(g,a);let m=new fe(a.getX()+(o.getX()-s.getX())/(u+1),a.getY()+(o.getY()-s.getY())/(u+1)),E=new fe(a.getX()+(r.getX()-s.getX())/(d+1),a.getY()+(r.getY()-s.getY())/(d+1));if(!this.isValid(m))return this.isValid(E)?E:null;if(!this.isValid(E))return m;let A=this.transitionsBetween(h,m)+this.transitionsBetween(g,m),T=this.transitionsBetween(h,E)+this.transitionsBetween(g,E);return A>T?m:E}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],a=t[3],u=this.transitionsBetween(r,a)+1,d=this.transitionsBetween(o,a)+1,h=vt.shiftPoint(r,s,d*4),g=vt.shiftPoint(o,s,u*4);u=this.transitionsBetween(h,a)+1,d=this.transitionsBetween(g,a)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let m=(r.getX()+s.getX()+o.getX()+a.getX())/4,E=(r.getY()+s.getY()+o.getY()+a.getY())/4;r=vt.moveAway(r,m,E),s=vt.moveAway(s,m,E),o=vt.moveAway(o,m,E),a=vt.moveAway(a,m,E);let A,T;return h=vt.shiftPoint(r,s,d*4),h=vt.shiftPoint(h,a,u*4),A=vt.shiftPoint(s,r,d*4),A=vt.shiftPoint(A,o,u*4),g=vt.shiftPoint(o,a,d*4),g=vt.shiftPoint(g,s,u*4),T=vt.shiftPoint(a,o,d*4),T=vt.shiftPoint(T,r,u*4),[h,A,g,T]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,a,u,d){return Gt.getInstance().sampleGrid(t,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),a.getX(),a.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),a=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-o)>Math.abs(a-s);if(d){let b=s;s=o,o=b,b=a,a=u,u=b}let h=Math.abs(a-s),g=Math.abs(u-o),m=-h/2,E=o<u?1:-1,A=s<a?1:-1,T=0,R=this.image.get(d?o:s,d?s:o);for(let b=s,B=o;b!==a;b+=A){let j=this.image.get(d?B:b,d?b:B);if(j!==R&&(T++,R=j),m+=g,m>0){if(B===u)break;B+=E,m-=h}}return T}}class Cr{constructor(){this.decoder=new lh}decode(t,r=null){let s,o;if(r!=null&&r.has(J.PURE_BARCODE)){const g=Cr.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(g),o=Cr.NO_POINTS}else{const g=new vt(t.getBlackMatrix()).detect();s=this.decoder.decode(g.getBits()),o=g.getPoints()}const a=s.getRawBytes(),u=new Ne(s.getText(),a,8*a.length,o,ue.DATA_MATRIX,H.currentTimeMillis()),d=s.getByteSegments();d!=null&&u.putMetadata(be.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&u.putMetadata(be.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new F;const o=this.moduleSize(r,t);let a=r[1];const u=s[1];let d=r[0];const g=(s[0]-d+1)/o,m=(u-a+1)/o;if(g<=0||m<=0)throw new F;const E=o/2;a+=E,d+=E;const A=new me(g,m);for(let T=0;T<m;T++){const R=a+T*o;for(let b=0;b<g;b++)t.get(d+b*o,R)&&A.set(b,T)}return A}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const a=t[1];for(;o<s&&r.get(o,a);)o++;if(o===s)throw new F;const u=o-t[0];if(u===0)throw new F;return u}}Cr.NO_POINTS=[];class uh extends De{constructor(t=500){super(new Cr,t)}}var yi;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(yi||(yi={}));class nt{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,nt.FOR_BITS.set(s,this),nt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return nt.L;case"M":return nt.M;case"Q":return nt.Q;case"H":return nt.H;default:throw new S(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof nt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=nt.FOR_BITS.size)throw new I;return nt.FOR_BITS.get(t)}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.L=new nt(yi.L,"L",1),nt.M=new nt(yi.M,"M",0),nt.Q=new nt(yi.Q,"Q",3),nt.H=new nt(yi.H,"H",2);class Xt{constructor(t){this.errorCorrectionLevel=nt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return O.bitCount(t^r)}static decodeFormatInformation(t,r){const s=Xt.doDecodeFormatInformation(t,r);return s!==null?s:Xt.doDecodeFormatInformation(t^Xt.FORMAT_INFO_MASK_QR,r^Xt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const a of Xt.FORMAT_INFO_DECODE_LOOKUP){const u=a[0];if(u===t||u===r)return new Xt(a[1]);let d=Xt.numBitsDiffering(t,u);d<s&&(o=a[1],s=d),t!==r&&(d=Xt.numBitsDiffering(r,u),d<s&&(o=a[1],s=d))}return s<=3?new Xt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Xt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Xt.FORMAT_INFO_MASK_QR=21522,Xt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class P{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class v{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const a=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const d of u)o+=d.getCount()*(d.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new k;try{return this.getVersionForNumber((t-17)/4)}catch{throw new k}}static getVersionForNumber(t){if(t<1||t>40)throw new I;return ye.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<ye.VERSION_DECODE_INFO.length;o++){const a=ye.VERSION_DECODE_INFO[o];if(a===t)return ye.getVersionForNumber(o+7);const u=Xt.numBitsDiffering(t,a);u<r&&(s=o+7,r=u)}return r<=3?ye.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new me(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const a=this.alignmentPatternCenters[o]-2;for(let u=0;u<s;u++)o===0&&(u===0||u===s-1)||o===s-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,a,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ye.VERSIONS=[new ye(1,new Int32Array(0),new P(7,new v(1,19)),new P(10,new v(1,16)),new P(13,new v(1,13)),new P(17,new v(1,9))),new ye(2,Int32Array.from([6,18]),new P(10,new v(1,34)),new P(16,new v(1,28)),new P(22,new v(1,22)),new P(28,new v(1,16))),new ye(3,Int32Array.from([6,22]),new P(15,new v(1,55)),new P(26,new v(1,44)),new P(18,new v(2,17)),new P(22,new v(2,13))),new ye(4,Int32Array.from([6,26]),new P(20,new v(1,80)),new P(18,new v(2,32)),new P(26,new v(2,24)),new P(16,new v(4,9))),new ye(5,Int32Array.from([6,30]),new P(26,new v(1,108)),new P(24,new v(2,43)),new P(18,new v(2,15),new v(2,16)),new P(22,new v(2,11),new v(2,12))),new ye(6,Int32Array.from([6,34]),new P(18,new v(2,68)),new P(16,new v(4,27)),new P(24,new v(4,19)),new P(28,new v(4,15))),new ye(7,Int32Array.from([6,22,38]),new P(20,new v(2,78)),new P(18,new v(4,31)),new P(18,new v(2,14),new v(4,15)),new P(26,new v(4,13),new v(1,14))),new ye(8,Int32Array.from([6,24,42]),new P(24,new v(2,97)),new P(22,new v(2,38),new v(2,39)),new P(22,new v(4,18),new v(2,19)),new P(26,new v(4,14),new v(2,15))),new ye(9,Int32Array.from([6,26,46]),new P(30,new v(2,116)),new P(22,new v(3,36),new v(2,37)),new P(20,new v(4,16),new v(4,17)),new P(24,new v(4,12),new v(4,13))),new ye(10,Int32Array.from([6,28,50]),new P(18,new v(2,68),new v(2,69)),new P(26,new v(4,43),new v(1,44)),new P(24,new v(6,19),new v(2,20)),new P(28,new v(6,15),new v(2,16))),new ye(11,Int32Array.from([6,30,54]),new P(20,new v(4,81)),new P(30,new v(1,50),new v(4,51)),new P(28,new v(4,22),new v(4,23)),new P(24,new v(3,12),new v(8,13))),new ye(12,Int32Array.from([6,32,58]),new P(24,new v(2,92),new v(2,93)),new P(22,new v(6,36),new v(2,37)),new P(26,new v(4,20),new v(6,21)),new P(28,new v(7,14),new v(4,15))),new ye(13,Int32Array.from([6,34,62]),new P(26,new v(4,107)),new P(22,new v(8,37),new v(1,38)),new P(24,new v(8,20),new v(4,21)),new P(22,new v(12,11),new v(4,12))),new ye(14,Int32Array.from([6,26,46,66]),new P(30,new v(3,115),new v(1,116)),new P(24,new v(4,40),new v(5,41)),new P(20,new v(11,16),new v(5,17)),new P(24,new v(11,12),new v(5,13))),new ye(15,Int32Array.from([6,26,48,70]),new P(22,new v(5,87),new v(1,88)),new P(24,new v(5,41),new v(5,42)),new P(30,new v(5,24),new v(7,25)),new P(24,new v(11,12),new v(7,13))),new ye(16,Int32Array.from([6,26,50,74]),new P(24,new v(5,98),new v(1,99)),new P(28,new v(7,45),new v(3,46)),new P(24,new v(15,19),new v(2,20)),new P(30,new v(3,15),new v(13,16))),new ye(17,Int32Array.from([6,30,54,78]),new P(28,new v(1,107),new v(5,108)),new P(28,new v(10,46),new v(1,47)),new P(28,new v(1,22),new v(15,23)),new P(28,new v(2,14),new v(17,15))),new ye(18,Int32Array.from([6,30,56,82]),new P(30,new v(5,120),new v(1,121)),new P(26,new v(9,43),new v(4,44)),new P(28,new v(17,22),new v(1,23)),new P(28,new v(2,14),new v(19,15))),new ye(19,Int32Array.from([6,30,58,86]),new P(28,new v(3,113),new v(4,114)),new P(26,new v(3,44),new v(11,45)),new P(26,new v(17,21),new v(4,22)),new P(26,new v(9,13),new v(16,14))),new ye(20,Int32Array.from([6,34,62,90]),new P(28,new v(3,107),new v(5,108)),new P(26,new v(3,41),new v(13,42)),new P(30,new v(15,24),new v(5,25)),new P(28,new v(15,15),new v(10,16))),new ye(21,Int32Array.from([6,28,50,72,94]),new P(28,new v(4,116),new v(4,117)),new P(26,new v(17,42)),new P(28,new v(17,22),new v(6,23)),new P(30,new v(19,16),new v(6,17))),new ye(22,Int32Array.from([6,26,50,74,98]),new P(28,new v(2,111),new v(7,112)),new P(28,new v(17,46)),new P(30,new v(7,24),new v(16,25)),new P(24,new v(34,13))),new ye(23,Int32Array.from([6,30,54,78,102]),new P(30,new v(4,121),new v(5,122)),new P(28,new v(4,47),new v(14,48)),new P(30,new v(11,24),new v(14,25)),new P(30,new v(16,15),new v(14,16))),new ye(24,Int32Array.from([6,28,54,80,106]),new P(30,new v(6,117),new v(4,118)),new P(28,new v(6,45),new v(14,46)),new P(30,new v(11,24),new v(16,25)),new P(30,new v(30,16),new v(2,17))),new ye(25,Int32Array.from([6,32,58,84,110]),new P(26,new v(8,106),new v(4,107)),new P(28,new v(8,47),new v(13,48)),new P(30,new v(7,24),new v(22,25)),new P(30,new v(22,15),new v(13,16))),new ye(26,Int32Array.from([6,30,58,86,114]),new P(28,new v(10,114),new v(2,115)),new P(28,new v(19,46),new v(4,47)),new P(28,new v(28,22),new v(6,23)),new P(30,new v(33,16),new v(4,17))),new ye(27,Int32Array.from([6,34,62,90,118]),new P(30,new v(8,122),new v(4,123)),new P(28,new v(22,45),new v(3,46)),new P(30,new v(8,23),new v(26,24)),new P(30,new v(12,15),new v(28,16))),new ye(28,Int32Array.from([6,26,50,74,98,122]),new P(30,new v(3,117),new v(10,118)),new P(28,new v(3,45),new v(23,46)),new P(30,new v(4,24),new v(31,25)),new P(30,new v(11,15),new v(31,16))),new ye(29,Int32Array.from([6,30,54,78,102,126]),new P(30,new v(7,116),new v(7,117)),new P(28,new v(21,45),new v(7,46)),new P(30,new v(1,23),new v(37,24)),new P(30,new v(19,15),new v(26,16))),new ye(30,Int32Array.from([6,26,52,78,104,130]),new P(30,new v(5,115),new v(10,116)),new P(28,new v(19,47),new v(10,48)),new P(30,new v(15,24),new v(25,25)),new P(30,new v(23,15),new v(25,16))),new ye(31,Int32Array.from([6,30,56,82,108,134]),new P(30,new v(13,115),new v(3,116)),new P(28,new v(2,46),new v(29,47)),new P(30,new v(42,24),new v(1,25)),new P(30,new v(23,15),new v(28,16))),new ye(32,Int32Array.from([6,34,60,86,112,138]),new P(30,new v(17,115)),new P(28,new v(10,46),new v(23,47)),new P(30,new v(10,24),new v(35,25)),new P(30,new v(19,15),new v(35,16))),new ye(33,Int32Array.from([6,30,58,86,114,142]),new P(30,new v(17,115),new v(1,116)),new P(28,new v(14,46),new v(21,47)),new P(30,new v(29,24),new v(19,25)),new P(30,new v(11,15),new v(46,16))),new ye(34,Int32Array.from([6,34,62,90,118,146]),new P(30,new v(13,115),new v(6,116)),new P(28,new v(14,46),new v(23,47)),new P(30,new v(44,24),new v(7,25)),new P(30,new v(59,16),new v(1,17))),new ye(35,Int32Array.from([6,30,54,78,102,126,150]),new P(30,new v(12,121),new v(7,122)),new P(28,new v(12,47),new v(26,48)),new P(30,new v(39,24),new v(14,25)),new P(30,new v(22,15),new v(41,16))),new ye(36,Int32Array.from([6,24,50,76,102,128,154]),new P(30,new v(6,121),new v(14,122)),new P(28,new v(6,47),new v(34,48)),new P(30,new v(46,24),new v(10,25)),new P(30,new v(2,15),new v(64,16))),new ye(37,Int32Array.from([6,28,54,80,106,132,158]),new P(30,new v(17,122),new v(4,123)),new P(28,new v(29,46),new v(14,47)),new P(30,new v(49,24),new v(10,25)),new P(30,new v(24,15),new v(46,16))),new ye(38,Int32Array.from([6,32,58,84,110,136,162]),new P(30,new v(4,122),new v(18,123)),new P(28,new v(13,46),new v(32,47)),new P(30,new v(48,24),new v(14,25)),new P(30,new v(42,15),new v(32,16))),new ye(39,Int32Array.from([6,26,54,82,110,138,166]),new P(30,new v(20,117),new v(4,118)),new P(28,new v(40,47),new v(7,48)),new P(30,new v(43,24),new v(22,25)),new P(30,new v(10,15),new v(67,16))),new ye(40,Int32Array.from([6,30,58,86,114,142,170]),new P(30,new v(19,118),new v(6,119)),new P(28,new v(18,47),new v(31,48)),new P(30,new v(34,24),new v(34,25)),new P(30,new v(20,15),new v(61,16)))];var Lt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Lt||(Lt={}));class Mn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}Mn.values=new Map([[Lt.DATA_MASK_000,new Mn(Lt.DATA_MASK_000,(C,t)=>(C+t&1)===0)],[Lt.DATA_MASK_001,new Mn(Lt.DATA_MASK_001,(C,t)=>(C&1)===0)],[Lt.DATA_MASK_010,new Mn(Lt.DATA_MASK_010,(C,t)=>t%3===0)],[Lt.DATA_MASK_011,new Mn(Lt.DATA_MASK_011,(C,t)=>(C+t)%3===0)],[Lt.DATA_MASK_100,new Mn(Lt.DATA_MASK_100,(C,t)=>(Math.floor(C/2)+Math.floor(t/3)&1)===0)],[Lt.DATA_MASK_101,new Mn(Lt.DATA_MASK_101,(C,t)=>C*t%6===0)],[Lt.DATA_MASK_110,new Mn(Lt.DATA_MASK_110,(C,t)=>C*t%6<3)],[Lt.DATA_MASK_111,new Mn(Lt.DATA_MASK_111,(C,t)=>(C+t+C*t%3&1)===0)]]);class ch{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new k;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let a=0;a<6;a++)t=this.copyBit(a,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let a=5;a>=0;a--)t=this.copyBit(8,a,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let a=r-1;a>=o;a--)s=this.copyBit(8,a,s);for(let a=r-8;a<r;a++)s=this.copyBit(a,8,s);if(this.parsedFormatInfo=Xt.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return ye.getVersionForNumber(r);let s=0;const o=t-11;for(let u=5;u>=0;u--)for(let d=t-9;d>=o;d--)s=this.copyBit(d,u,s);let a=ye.decodeVersionInformation(s);if(a!==null&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;s=0;for(let u=5;u>=0;u--)for(let d=t-9;d>=o;d--)s=this.copyBit(u,d,s);if(a=ye.decodeVersionInformation(s),a!==null&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new k}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=Mn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const a=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,g=0,m=0;for(let E=o-1;E>0;E-=2){E===6&&E--;for(let A=0;A<o;A++){const T=u?o-1-A:A;for(let R=0;R<2;R++)a.get(E-R,T)||(m++,g<<=1,this.bitMatrix.get(E-R,T)&&(g|=1),m===8&&(d[h++]=g,m=0,g=0))}u=!u}if(h!==r.getTotalCodewords())throw new k;return d}remask(){if(this.parsedFormatInfo===null)return;const t=Mn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,a=t.getHeight();o<a;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Xa{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new I;const o=r.getECBlocksForLevel(s);let a=0;const u=o.getECBlocks();for(const R of u)a+=R.getCount();const d=new Array(a);let h=0;for(const R of u)for(let b=0;b<R.getCount();b++){const B=R.getDataCodewords(),j=o.getECCodewordsPerBlock()+B;d[h++]=new Xa(B,new Uint8Array(j))}const g=d[0].codewords.length;let m=d.length-1;for(;m>=0&&d[m].codewords.length!==g;)m--;m++;const E=g-o.getECCodewordsPerBlock();let A=0;for(let R=0;R<E;R++)for(let b=0;b<h;b++)d[b].codewords[R]=t[A++];for(let R=m;R<h;R++)d[R].codewords[E]=t[A++];const T=d[0].codewords.length;for(let R=E;R<T;R++)for(let b=0;b<h;b++){const B=b<m?R:R+1;d[b].codewords[B]=t[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var On;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(On||(On={}));class Ce{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,Ce.FOR_BITS.set(o,this),Ce.FOR_VALUE.set(t,this)}static forBits(t){const r=Ce.FOR_BITS.get(t);if(r===void 0)throw new I;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ce))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Ce.FOR_BITS=new Map,Ce.FOR_VALUE=new Map,Ce.TERMINATOR=new Ce(On.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ce.NUMERIC=new Ce(On.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ce.ALPHANUMERIC=new Ce(On.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ce.STRUCTURED_APPEND=new Ce(On.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ce.BYTE=new Ce(On.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ce.ECI=new Ce(On.ECI,"ECI",Int32Array.from([0,0,0]),7),Ce.KANJI=new Ce(On.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ce.FNC1_FIRST_POSITION=new Ce(On.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ce.FNC1_SECOND_POSITION=new Ce(On.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ce.HANZI=new Ce(On.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class pt{static decode(t,r,s,o){const a=new Ya(t);let u=new le;const d=new Array;let h=-1,g=-1;try{let m=null,E=!1,A;do{if(a.available()<4)A=Ce.TERMINATOR;else{const T=a.readBits(4);A=Ce.forBits(T)}switch(A){case Ce.TERMINATOR:break;case Ce.FNC1_FIRST_POSITION:case Ce.FNC1_SECOND_POSITION:E=!0;break;case Ce.STRUCTURED_APPEND:if(a.available()<16)throw new k;h=a.readBits(8),g=a.readBits(8);break;case Ce.ECI:const T=pt.parseECIValue(a);if(m=N.getCharacterSetECIByValue(T),m===null)throw new k;break;case Ce.HANZI:const R=a.readBits(4),b=a.readBits(A.getCharacterCountBits(r));R===pt.GB2312_SUBSET&&pt.decodeHanziSegment(a,u,b);break;default:const B=a.readBits(A.getCharacterCountBits(r));switch(A){case Ce.NUMERIC:pt.decodeNumericSegment(a,u,B);break;case Ce.ALPHANUMERIC:pt.decodeAlphanumericSegment(a,u,B,E);break;case Ce.BYTE:pt.decodeByteSegment(a,u,B,m,d,o);break;case Ce.KANJI:pt.decodeKanjiSegment(a,u,B);break;default:throw new k}break}}while(A!==Ce.TERMINATOR)}catch{throw new k}return new we(t,u.toString(),d.length===0?null:d,s===null?null:s.toString(),h,g)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new k;const o=new Uint8Array(2*s);let a=0;for(;s>0;){const u=t.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,o[a]=d>>8&255,o[a+1]=d&255,a+=2,s--}try{r.append(oe.decode(o,Y.GB2312))}catch(u){throw new k(u)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new k;const o=new Uint8Array(2*s);let a=0;for(;s>0;){const u=t.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,o[a]=d>>8,o[a+1]=d,a+=2,s--}try{r.append(oe.decode(o,Y.SHIFT_JIS))}catch(u){throw new k(u)}}static decodeByteSegment(t,r,s,o,a,u){if(8*s>t.available())throw new k;const d=new Uint8Array(s);for(let g=0;g<s;g++)d[g]=t.readBits(8);let h;o===null?h=Y.guessEncoding(d,u):h=o.getName();try{r.append(oe.decode(d,h))}catch(g){throw new k(g)}a.push(d)}static toAlphaNumericChar(t){if(t>=pt.ALPHANUMERIC_CHARS.length)throw new k;return pt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const a=r.length();for(;s>1;){if(t.available()<11)throw new k;const u=t.readBits(11);r.append(pt.toAlphaNumericChar(Math.floor(u/45))),r.append(pt.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(t.available()<6)throw new k;r.append(pt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=a;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new k;const o=t.readBits(10);if(o>=1e3)throw new k;r.append(pt.toAlphaNumericChar(Math.floor(o/100))),r.append(pt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(pt.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new k;const o=t.readBits(7);if(o>=100)throw new k;r.append(pt.toAlphaNumericChar(Math.floor(o/10))),r.append(pt.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new k;const o=t.readBits(4);if(o>=10)throw new k;r.append(pt.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new k}}pt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",pt.GB2312_SUBSET=1;class Mc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class fh{constructor(){this.rsDecoder=new je(xe.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(me.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new ch(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(a){o=a}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const a=this.decodeBitMatrixParser(s,r);return a.setOther(new Mc(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),a=t.readCodewords(),u=Xa.getDataBlocks(a,s,o);let d=0;for(const m of u)d+=m.getNumDataCodewords();const h=new Uint8Array(d);let g=0;for(const m of u){const E=m.getCodewords(),A=m.getNumDataCodewords();this.correctErrors(E,A);for(let T=0;T<A;T++)h[g++]=E[T]}return pt.decode(h,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new U}for(let o=0;o<r;o++)t[o]=s[o]}}class Za extends fe{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,a=(this.getY()+t)/2,u=(this.estimatedModuleSize+s)/2;return new Za(o,a,u)}}class lo{constructor(t,r,s,o,a,u,d){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=a,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,a=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const g=a+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let m=t;for(;m<o&&!d.get(m,g);)m++;let E=0;for(;m<o;){if(d.get(m,g))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,m);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;m++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new F}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const a=this.image,u=a.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&a.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!a.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&a.get(r,h)&&d[1]<=s;)d[1]++,h++;if(h===u||d[1]>s)return NaN;for(;h<u&&!a.get(r,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const g=d[0]+d[1]+d[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(d)?lo.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],a=lo.centerFromEnd(t,s),u=this.crossCheckVertical(r,a,2*t[1],o);if(!isNaN(u)){const d=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(d,u,a))return g.combineEstimate(u,a,d);const h=new Za(a,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Qa extends fe{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,a=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,d=(this.count*this.estimatedModuleSize+s)/o;return new Qa(a,u,d,o)}}class dh{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(J.TRY_HARDER)!==void 0,s=t!=null&&t.get(J.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),u=o.getWidth();let d=Math.floor(3*a/(4*kt.MAX_MODULES));(d<kt.MIN_SKIP||r)&&(d=kt.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let E=d-1;E<a&&!h;E+=d){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let A=0;for(let T=0;T<u;T++)if(o.get(T,E))(A&1)===1&&A++,g[A]++;else if(A&1)g[A]++;else if(A===4)if(kt.foundPatternCross(g)){if(this.handlePossibleCenter(g,E,T,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const b=this.findRowSkip();b>g[2]&&(E+=b-g[2]-d,T=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;continue}A=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;else g[++A]++;kt.foundPatternCross(g)&&this.handlePossibleCenter(g,E,u,s)===!0&&(d=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const m=this.selectBestPatterns();return fe.orderBestPatterns(m),new dh(m)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let a=0;a<5;a++){const u=t[a];if(u===0)return!1;r+=u}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const a=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;t>=u&&r>=u&&d.get(r-u,t-u);)a[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!d.get(r-u,t-u)&&a[1]<=s;)a[1]++,u++;if(t<u||r<u||a[1]>s)return!1;for(;t>=u&&r>=u&&d.get(r-u,t-u)&&a[0]<=s;)a[0]++,u++;if(a[0]>s)return!1;const h=d.getHeight(),g=d.getWidth();for(u=1;t+u<h&&r+u<g&&d.get(r+u,t+u);)a[2]++,u++;if(t+u>=h||r+u>=g)return!1;for(;t+u<h&&r+u<g&&!d.get(r+u,t+u)&&a[3]<s;)a[3]++,u++;if(t+u>=h||r+u>=g||a[3]>=s)return!1;for(;t+u<h&&r+u<g&&d.get(r+u,t+u)&&a[4]<s;)a[4]++,u++;if(a[4]>=s)return!1;const m=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(m-o)<2*o&&kt.foundPatternCross(a)}crossCheckVertical(t,r,s,o){const a=this.image,u=a.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&a.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&a.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&a.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!a.get(r,h)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&a.get(r,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const g=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(g-o)>=2*o?NaN:kt.foundPatternCross(d)?kt.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,r,s,o){const a=this.image,u=a.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&a.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(h,r)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&a.get(h,r)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<u&&a.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!a.get(h,r)&&d[3]<s;)d[3]++,h++;if(h===u||d[3]>=s)return NaN;for(;h<u&&a.get(h,r)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const g=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(g-o)>=o?NaN:kt.foundPatternCross(d)?kt.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s,o){const a=t[0]+t[1]+t[2]+t[3]+t[4];let u=kt.centerFromEnd(t,s),d=this.crossCheckVertical(r,Math.floor(u),t[2],a);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),t[2],a),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),t[2],a)))){const h=a/7;let g=!1;const m=this.possibleCenters;for(let E=0,A=m.length;E<A;E++){const T=m[E];if(T.aboutEquals(h,d,u)){m[E]=T.combineEstimate(d,u,h),g=!0;break}}if(!g){const E=new Qa(u,d,h);m.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=kt.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=kt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let a=0;for(const u of this.possibleCenters)a+=Math.abs(u.getEstimatedModuleSize()-o);return a<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new F;const r=this.possibleCenters;let s;if(t>3){let o=0,a=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,a+=g*g}s=o/t;let u=Math.sqrt(a/t-s*s);r.sort((h,g)=>{const m=Math.abs(g.getEstimatedModuleSize()-s),E=Math.abs(h.getEstimatedModuleSize()-s);return m<E?-1:m>E?1:0});const d=Math.max(.2*s,u);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-s)>d&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const a of r)o+=a.getEstimatedModuleSize();s=o/r.length,r.sort((a,u)=>{if(u.getCount()===a.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-s),h=Math.abs(a.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return u.getCount()-a.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}kt.CENTER_QUORUM=2,kt.MIN_SKIP=3,kt.MAX_MODULES=57;class is{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(J.NEED_RESULT_POINT_CALLBACK);const s=new kt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),a=this.calculateModuleSize(r,s,o);if(a<1)throw new F("No pattern found in proccess finder.");const u=is.computeDimension(r,s,o,a),d=ye.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let g=null;if(d.getAlignmentPatternCenters().length>0){const T=s.getX()-r.getX()+o.getX(),R=s.getY()-r.getY()+o.getY(),b=1-3/h,B=Math.floor(r.getX()+b*(T-r.getX())),j=Math.floor(r.getY()+b*(R-r.getY()));for(let ie=4;ie<=16;ie<<=1)try{g=this.findAlignmentInRegion(a,B,j,ie);break}catch(se){if(!(se instanceof F))throw se}}const m=is.createTransform(r,s,o,g,u),E=is.sampleGrid(this.image,m,u);let A;return g===null?A=[o,r,s]:A=[o,r,s,g],new qe(E,A)}static createTransform(t,r,s,o,a){const u=a-3.5;let d,h,g,m;return o!==null?(d=o.getX(),h=o.getY(),g=u-3,m=g):(d=r.getX()-t.getX()+s.getX(),h=r.getY()-t.getY()+s.getY(),g=u,m=u),bt.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,m,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),d,h,s.getX(),s.getY())}static sampleGrid(t,r,s){return Gt.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const a=Ie.round(fe.distance(t,r)/o),u=Ie.round(fe.distance(t,s)/o);let d=Math.floor((a+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new F("Dimensions could be not found.")}return d}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let a=this.sizeOfBlackWhiteBlackRun(t,r,s,o),u=1,d=t-(s-t);d<0?(u=t/(t-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*u),a+=this.sizeOfBlackWhiteBlackRun(t,r,d,h),a-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const a=Math.abs(o-r)>Math.abs(s-t);if(a){let T=t;t=r,r=T,T=s,s=o,o=T}const u=Math.abs(s-t),d=Math.abs(o-r);let h=-u/2;const g=t<s?1:-1,m=r<o?1:-1;let E=0;const A=s+g;for(let T=t,R=r;T!==A;T+=g){const b=a?R:T,B=a?T:R;if(E===1===this.image.get(b,B)){if(E===2)return Ie.distance(T,R,t,r);E++}if(h+=d,h>0){if(R===o)break;R+=m,h-=u}}return E===2?Ie.distance(s+g,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const a=Math.floor(o*t),u=Math.max(0,r-a),d=Math.min(this.image.getWidth()-1,r+a);if(d-u<t*3)throw new F("Alignment top exceeds estimated module size.");const h=Math.max(0,s-a),g=Math.min(this.image.getHeight()-1,s+a);if(g-h<t*3)throw new F("Alignment bottom exceeds estimated module size.");return new lo(this.image,u,h,d-u,g-h,t,this.resultPointCallback).find()}}class Er{constructor(){this.decoder=new fh}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(J.PURE_BARCODE)!==void 0){const h=Er.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=Er.NO_POINTS}else{const h=new is(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Mc&&s.getOther().applyMirroredCorrection(o);const a=new Ne(s.getText(),s.getRawBytes(),void 0,o,ue.QR_CODE,void 0),u=s.getByteSegments();u!==null&&a.putMetadata(be.BYTE_SEGMENTS,u);const d=s.getECLevel();return d!==null&&a.putMetadata(be.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(a.putMetadata(be.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),a.putMetadata(be.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),a}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new F;const o=this.moduleSize(r,t);let a=r[1],u=s[1],d=r[0],h=s[0];if(d>=h||a>=u)throw new F;if(u-a!==h-d&&(h=d+(u-a),h>=t.getWidth()))throw new F;const g=Math.round((h-d+1)/o),m=Math.round((u-a+1)/o);if(g<=0||m<=0)throw new F;if(m!==g)throw new F;const E=Math.floor(o/2);a+=E,d+=E;const A=d+Math.floor((g-1)*o)-h;if(A>0){if(A>E)throw new F;d-=A}const T=a+Math.floor((m-1)*o)-u;if(T>0){if(T>E)throw new F;a-=T}const R=new me(g,m);for(let b=0;b<m;b++){const B=a+Math.floor(b*o);for(let j=0;j<g;j++)t.get(d+Math.floor(j*o),B)&&R.set(j,b)}return R}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let a=t[0],u=t[1],d=!0,h=0;for(;a<o&&u<s;){if(d!==r.get(a,u)){if(++h===5)break;d=!d}a++,u++}if(a===o||u===s)throw new F;return(a-t[0])/7}}Er.NO_POINTS=new Array;class Ae{PDF417Common(){}static getBitCountSum(t){return Ie.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ae.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=_.binarySearch(Ae.SYMBOL_TABLE,t&262143);return r<0?-1:(Ae.CODEWORD_TABLE[r]-1)%Ae.NUMBER_OF_CODEWORDS}}Ae.NUMBER_OF_CODEWORDS=929,Ae.MAX_CODEWORDS_IN_BARCODE=Ae.NUMBER_OF_CODEWORDS-1,Ae.MIN_ROWS_IN_BARCODE=3,Ae.MAX_ROWS_IN_BARCODE=90,Ae.MODULES_IN_CODEWORD=17,Ae.MODULES_IN_STOP_PATTERN=18,Ae.BARS_IN_MODULE=8,Ae.EMPTY_INT_ARRAY=new Int32Array([]),Ae.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ae.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class hh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class _e{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),a=_e.detect(s,o);return a.length||(o=o.clone(),o.rotate180(),a=_e.detect(s,o)),new hh(o,a)}static detect(t,r){const s=new Array;let o=0,a=0,u=!1;for(;o<r.getHeight();){const d=_e.findVertices(r,o,a);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,a=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=_e.ROW_STEP;continue}if(u=!0,s.push(d),!t)break;d[2]!=null?(a=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(a=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),a=t.getWidth(),u=new Array(8);return _e.copyToResult(u,_e.findRowsWithPattern(t,o,a,r,s,_e.START_PATTERN),_e.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),_e.copyToResult(u,_e.findRowsWithPattern(t,o,a,r,s,_e.STOP_PATTERN),_e.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,a,u){const d=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;o<r;o+=_e.ROW_STEP){let E=_e.findGuardPattern(t,a,o,s,!1,u,g);if(E!=null){for(;o>0;){const A=_e.findGuardPattern(t,a,--o,s,!1,u,g);if(A!=null)E=A;else{o++;break}}d[0]=new fe(E[0],o),d[1]=new fe(E[1],o),h=!0;break}}let m=o+1;if(h){let E=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;m<r;m++){const T=_e.findGuardPattern(t,A[0],m,s,!1,u,g);if(T!=null&&Math.abs(A[0]-T[0])<_e.MAX_PATTERN_DRIFT&&Math.abs(A[1]-T[1])<_e.MAX_PATTERN_DRIFT)A=T,E=0;else{if(E>_e.SKIPPED_ROW_COUNT_MAX)break;E++}}m-=E+1,d[2]=new fe(A[0],m),d[3]=new fe(A[1],m)}return m-o<_e.BARCODE_MIN_HEIGHT&&_.fill(d,null),d}static findGuardPattern(t,r,s,o,a,u,d){_.fillWithin(d,0,d.length,0);let h=r,g=0;for(;t.get(h,s)&&h>0&&g++<_e.MAX_PIXEL_DRIFT;)h--;let m=h,E=0,A=u.length;for(let T=a;m<o;m++)if(t.get(m,s)!==T)d[E]++;else{if(E===A-1){if(_e.patternMatchVariance(d,u,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE)return new Int32Array([h,m]);h+=d[0]+d[1],H.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,T=!T}return E===A-1&&_e.patternMatchVariance(d,u,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE?new Int32Array([h,m-1]):null}static patternMatchVariance(t,r,s){let o=t.length,a=0,u=0;for(let g=0;g<o;g++)a+=t[g],u+=r[g];if(a<u)return 1/0;let d=a/u;s*=d;let h=0;for(let g=0;g<o;g++){let m=t[g],E=r[g]*d,A=m>E?m-E:E-m;if(A>s)return 1/0;h+=A}return h/a}}_e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),_e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),_e.MAX_AVG_VARIANCE=.42,_e.MAX_INDIVIDUAL_VARIANCE=.8,_e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),_e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),_e.MAX_PIXEL_DRIFT=3,_e.MAX_PATTERN_DRIFT=5,_e.SKIPPED_ROW_COUNT_MAX=25,_e.ROW_STEP=5,_e.BARCODE_MIN_HEIGHT=10;class Ut{constructor(t,r){if(r.length===0)throw new I;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),H.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let u=r;r=s,s=u}let o=new Int32Array(s.length),a=s.length-r.length;H.arraycopy(s,0,o,0,a);for(let u=a;u<s.length;u++)o[u]=this.field.add(r[u-a],s[u]);return new Ut(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ut?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ut(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,a=o.length,u=new Int32Array(s+a-1);for(let d=0;d<s;d++){let h=r[d];for(let g=0;g<a;g++)u[d+g]=this.field.add(u[d+g],this.field.multiply(h,o[g]))}return new Ut(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new Ut(this.field,r)}multiplyScalar(t){if(t===0)return new Ut(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new Ut(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new I;if(r===0)return new Ut(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let a=0;a<s;a++)o[a]=this.field.multiply(this.coefficients[a],r);return new Ut(this.field,o)}toString(){let t=new le;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class gh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}inverse(t){if(t===0)throw new ut;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ka extends gh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new I;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new Ut(this,s)}}Ka.PDF417_GF=new Ka(Ae.NUMBER_OF_CODEWORDS,3);class Oc{constructor(){this.field=Ka.PDF417_GF}decode(t,r,s){let o=new Ut(this.field,t),a=new Int32Array(r),u=!1;for(let R=r;R>0;R--){let b=o.evaluateAt(this.field.exp(R));a[r-R]=b,b!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(s!=null)for(const R of s){let b=this.field.exp(t.length-1-R),B=new Ut(this.field,new Int32Array([this.field.subtract(0,b),1]));d=d.multiply(B)}let h=new Ut(this.field,a),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),m=g[0],E=g[1],A=this.findErrorLocations(m),T=this.findErrorMagnitudes(E,m,A);for(let R=0;R<A.length;R++){let b=t.length-1-this.field.log(A[R]);if(b<0)throw U.getChecksumInstance();t[b]=this.field.subtract(t[b],T[R])}return A.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let o=t,a=r,u=this.field.getZero(),d=this.field.getOne();for(;a.getDegree()>=Math.round(s/2);){let A=o,T=u;if(o=a,u=d,o.isZero())throw U.getChecksumInstance();a=A;let R=this.field.getZero(),b=o.getCoefficient(o.getDegree()),B=this.field.inverse(b);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let j=a.getDegree()-o.getDegree(),ie=this.field.multiply(a.getCoefficient(a.getDegree()),B);R=R.add(this.field.buildMonomial(j,ie)),a=a.subtract(o.multiplyByMonomial(j,ie))}d=R.multiply(u).subtract(T).negative()}let h=d.getCoefficient(0);if(h===0)throw U.getChecksumInstance();let g=this.field.inverse(h),m=d.multiply(g),E=a.multiply(g);return[m,E]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let a=1;a<this.field.getSize()&&o<r;a++)t.evaluateAt(a)===0&&(s[o]=this.field.inverse(a),o++);if(o!==r)throw U.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),a=new Int32Array(o);for(let g=1;g<=o;g++)a[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new Ut(this.field,a),d=s.length,h=new Int32Array(d);for(let g=0;g<d;g++){let m=this.field.inverse(s[g]),E=this.field.subtract(0,t.evaluateAt(m)),A=this.field.inverse(u.evaluateAt(m));h[g]=this.field.multiply(E,A)}return h}}class Kr{constructor(t,r,s,o,a){t instanceof Kr?this.constructor_2(t):this.constructor_1(t,r,s,o,a)}constructor_1(t,r,s,o,a){const u=r==null||s==null,d=o==null||a==null;if(u&&d)throw new F;u?(r=new fe(0,o.getY()),s=new fe(0,a.getY())):d&&(o=new fe(t.getWidth()-1,r.getY()),a=new fe(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),a.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Kr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,a=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(t>0){let h=s?this.topLeft:this.topRight,g=Math.trunc(h.getY()-t);g<0&&(g=0);let m=new fe(h.getX(),g);s?o=m:u=m}if(r>0){let h=s?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let m=new fe(h.getX(),g);s?a=m:d=m}return new Kr(this.image,o,a,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ph{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ss{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(u,d,h,g,m,E){if(u==="%%")return"%";if(r[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=m?parseInt(m.substr(1)):void 0,T;switch(E){case"s":T=r[s];break;case"c":T=r[s][0];break;case"f":T=parseFloat(r[s]).toFixed(u);break;case"p":T=parseFloat(r[s]).toPrecision(u);break;case"e":T=parseFloat(r[s]).toExponential(u);break;case"x":T=parseInt(r[s]).toString(A||16);break;case"d":T=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(A);let R=parseInt(h),b=h&&h[0]+""=="0"?"0":" ";for(;T.length<R;)T=d!==void 0?T+b:b+T;return T}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}format(t,...r){this.buffer+=ss.form(t,r)}toString(){return this.buffer}}class os{constructor(t){this.boundingBox=new Kr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<os.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new ss;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}os.MAX_NEARBY_DISTANCE=5;class as{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const a={getKey:()=>s,getValue:()=>o};a.getValue()>t?(t=a.getValue(),r=[],r.push(a.getKey())):a.getValue()===t&&r.push(a.getKey())}return Ae.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Rc extends os{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),a=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(a.getY())),h=-1,g=1,m=0;for(let E=u;E<d;E++){if(r[E]==null)continue;let A=r[E],T=A.getRowNumber()-h;if(T===0)m++;else if(T===1)g=Math.max(g,m),m=1,h=A.getRowNumber();else if(T<0||A.getRowNumber()>=t.getRowCount()||T>E)r[E]=null;else{let R;g>2?R=(g-2)*T:R=T;let b=R>=E;for(let B=1;B<=R&&!b;B++)b=r[E-B]!=null;b?r[E]=null:(h=A.getRowNumber(),m=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let g=a;g<u;g++){if(d[g]==null)continue;let m=d[g];m.setRowNumberAsRowIndicatorColumn();let E=m.getRowNumber()-h;E===0||(E===1?h=m.getRowNumber():m.getRowNumber()>=t.getRowCount()?d[g]=null:h=m.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new as,s=new as,o=new as,a=new as;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,g=d.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(h*3+1);break;case 1:a.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||a.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<Ae.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>Ae.MAX_ROWS_IN_BARCODE)return null;let u=new ph(r.getValue()[0],s.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let a=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:a+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ls{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ae.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[s];a!=null&&(a.setRowNumber(t[s].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),a=0;for(let u=this.barcodeColumnCount+1;u>0&&a<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(a=ls.adjustRowNumberIfValid(o,a,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),a=0;for(let u=1;u<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[s];d!=null&&(a=ls.adjustRowNumberIfValid(o,a,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],a=this.detectionResultColumns[t-1].getCodewords(),u=a;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=a[r],d[3]=u[r],r>0&&(d[0]=s[r-1],d[4]=a[r-1],d[5]=u[r-1]),r>1&&(d[8]=s[r-2],d[10]=a[r-2],d[11]=u[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=a[r+1],d[7]=u[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=a[r+2],d[13]=u[r+2]);for(let h of d)if(ls.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ss;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[s];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()}}class us{constructor(t,r,s,o){this.rowNumber=us.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==us.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}us.BARCODE_ROW_UNKNOWN=-1;class ln{static initialize(){for(let t=0;t<Ae.SYMBOL_TABLE.length;t++){let r=Ae.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<Ae.BARS_IN_MODULE;o++){let a=0;for(;(r&1)===s;)a+=1,r>>=1;s=r&1,ln.RATIOS_TABLE[t]||(ln.RATIOS_TABLE[t]=new Array(Ae.BARS_IN_MODULE)),ln.RATIOS_TABLE[t][Ae.BARS_IN_MODULE-o-1]=Math.fround(a/Ae.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=ln.getDecodedCodewordValue(ln.sampleBitCounts(t));return r!==-1?r:ln.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Ie.sum(t),s=new Int32Array(Ae.BARS_IN_MODULE),o=0,a=0;for(let u=0;u<Ae.MODULES_IN_CODEWORD;u++){let d=r/(2*Ae.MODULES_IN_CODEWORD)+u*r/Ae.MODULES_IN_CODEWORD;a+t[o]<=d&&(a+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=ln.getBitValue(t);return Ae.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Ie.sum(t),s=new Array(Ae.BARS_IN_MODULE);if(r>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(t[u]/r);let o=rn.MAX_VALUE,a=-1;this.bSymbolTableReady||ln.initialize();for(let u=0;u<ln.RATIOS_TABLE.length;u++){let d=0,h=ln.RATIOS_TABLE[u];for(let g=0;g<Ae.BARS_IN_MODULE;g++){let m=Math.fround(h[g]-s[g]);if(d+=Math.fround(m*m),d>=o)break}d<o&&(o=d,a=Ae.SYMBOL_TABLE[u])}return a}}ln.bSymbolTableReady=!1,ln.RATIOS_TABLE=new Array(Ae.SYMBOL_TABLE.length).map(C=>new Array(Ae.BARS_IN_MODULE));class Dc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class bc{static parseLong(t,r=void 0){return parseInt(t,r)}}class Lc extends x{}Lc.kind="NullPointerException";class xh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new Lc;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new K;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class mh extends x{}class wh extends xh{constructor(t=32){if(super(),this.count=0,t<0)throw new I("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new mh;s=O.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new K;this.ensureCapacity(this.count+s),H.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Je;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Je||(Je={}));function kc(){if(typeof window<"u")return window.BigInt||null;if(typeof vi<"u")return vi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let uo;function Ar(C){if(typeof uo>"u"&&(uo=kc()),uo===null)throw new Error("BigInt is not supported!");return uo(C)}function yh(){let C=[];C[0]=Ar(1);let t=Ar(900);C[1]=t;for(let r=2;r<16;r++)C[r]=C[r-1]*t;return C}class z{static decode(t,r){let s=new le(""),o=N.ISO8859_1;s.enableDecoding(o);let a=1,u=t[a++],d=new Dc;for(;a<t[0];){switch(u){case z.TEXT_COMPACTION_MODE_LATCH:a=z.textCompaction(t,a,s);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:a=z.byteCompaction(u,t,o,a,s);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[a++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:a=z.numericCompaction(t,a,s);break;case z.ECI_CHARSET:N.getCharacterSetECIByValue(t[a++]);break;case z.ECI_GENERAL_PURPOSE:a+=2;break;case z.ECI_USER_DEFINED:a++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=z.decodeMacroBlock(t,a,d);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new k;default:a--,a=z.textCompaction(t,a,s);break}if(a<t.length)u=t[a++];else throw k.getFormatInstance()}if(s.length()===0)throw k.getFormatInstance();let h=new we(null,s.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(t,r,s){if(r+z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw k.getFormatInstance();let o=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<z.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=t[r];s.setSegmentIndex(O.parseInt(z.decodeBase900toBase10(o,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new le;r=z.textCompaction(t,r,a),s.setFileId(a.toString());let u=-1;for(t[r]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new le;r=z.textCompaction(t,r+1,d),s.setFileName(d.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new le;r=z.textCompaction(t,r+1,h),s.setSender(h.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new le;r=z.textCompaction(t,r+1,g),s.setAddressee(g.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let m=new le;r=z.numericCompaction(t,r+1,m),s.setSegmentCount(O.parseInt(m.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new le;r=z.numericCompaction(t,r+1,E),s.setTimestamp(bc.parseLong(E.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new le;r=z.numericCompaction(t,r+1,A),s.setChecksum(O.parseInt(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new le;r=z.numericCompaction(t,r+1,T),s.setFileSize(bc.parseLong(T.toString()));break;default:throw k.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(u!==-1){let d=r-u;s.isLastSegment()&&d--,s.setOptionalData(_.copyOfRange(t,u,u+d))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),a=new Int32Array((t[0]-r)*2),u=0,d=!1;for(;r<t[0]&&!d;){let h=t[r++];if(h<z.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case z.TEXT_COMPACTION_MODE_LATCH:o[u++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],a[u]=h,u++;break}}return z.decodeTextCompaction(o,a,u,s),r}static decodeTextCompaction(t,r,s,o){let a=Je.ALPHA,u=Je.ALPHA,d=0;for(;d<s;){let h=t[d],g="";switch(a){case Je.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case z.LL:a=Je.LOWER;break;case z.ML:a=Je.MIXED;break;case z.PS:u=a,a=Je.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case z.AS:u=a,a=Je.ALPHA_SHIFT;break;case z.ML:a=Je.MIXED;break;case z.PS:u=a,a=Je.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.MIXED:if(h<z.PL)g=z.MIXED_CHARS[h];else switch(h){case z.PL:a=Je.PUNCT;break;case 26:g=" ";break;case z.LL:a=Je.LOWER;break;case z.AL:a=Je.ALPHA;break;case z.PS:u=a,a=Je.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.PUNCT:if(h<z.PAL)g=z.PUNCT_CHARS[h];else switch(h){case z.PAL:a=Je.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.ALPHA_SHIFT:if(a=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.PUNCT_SHIFT:if(a=u,h<z.PAL)g=z.PUNCT_CHARS[h];else switch(h){case z.PAL:a=Je.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case z.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break}g!==""&&o.append(g),d++}}static byteCompaction(t,r,s,o,a){let u=new wh,d=0,h=0,g=!1;switch(t){case z.BYTE_COMPACTION_MODE_LATCH:let m=new Int32Array(6),E=r[o++];for(;o<r[0]&&!g;)switch(m[d++]=E,h=900*h+E,E=r[o++],E){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)u.write(Number(Ar(h)>>Ar(8*(5-A))));h=0,d=0}break}o===r[0]&&E<z.TEXT_COMPACTION_MODE_LATCH&&(m[d++]=E);for(let A=0;A<d;A++)u.write(m[A]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let A=r[o++];if(A<z.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(d%5===0&&d>0){for(let T=0;T<6;++T)u.write(Number(Ar(h)>>Ar(8*(5-T))));h=0,d=0}}break}return a.append(oe.decode(u.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,a=!1,u=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!a;){let d=t[r++];if(r===t[0]&&(a=!0),d<z.TEXT_COMPACTION_MODE_LATCH)u[o]=d,o++;else switch(d){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(o%z.MAX_NUMERIC_CODEWORDS===0||d===z.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(s.append(z.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=Ar(0);for(let a=0;a<r;a++)s+=z.EXP900[r-a-1]*Ar(t[a]);let o=s.toString();if(o.charAt(0)!=="1")throw new k;return o.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",z.EXP900=kc()?yh():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Oe{constructor(){}static decode(t,r,s,o,a,u,d){let h=new Kr(t,r,s,o,a),g=null,m=null,E;for(let R=!0;;R=!1){if(r!=null&&(g=Oe.getRowIndicatorColumn(t,h,r,!0,u,d)),o!=null&&(m=Oe.getRowIndicatorColumn(t,h,o,!1,u,d)),E=Oe.merge(g,m),E==null)throw F.getNotFoundInstance();let b=E.getBoundingBox();if(R&&b!=null&&(b.getMinY()<h.getMinY()||b.getMaxY()>h.getMaxY()))h=b;else break}E.setBoundingBox(h);let A=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(A,m);let T=g!=null;for(let R=1;R<=A;R++){let b=T?R:A-R;if(E.getDetectionResultColumn(b)!==void 0)continue;let B;b===0||b===A?B=new Rc(h,b===0):B=new os(h),E.setDetectionResultColumn(b,B);let j=-1,ie=j;for(let se=h.getMinY();se<=h.getMaxY();se++){if(j=Oe.getStartColumn(E,b,se,T),j<0||j>h.getMaxX()){if(ie===-1)continue;j=ie}let Q=Oe.detectCodeword(t,h.getMinX(),h.getMaxX(),T,j,se,u,d);Q!=null&&(B.setCodeword(se,Q),ie=j,u=Math.min(u,Q.getWidth()),d=Math.max(d,Q.getWidth()))}}return Oe.createDecoderResult(E)}static merge(t,r){if(t==null&&r==null)return null;let s=Oe.getBarcodeMetadata(t,r);if(s==null)return null;let o=Kr.merge(Oe.adjustBoundingBox(t),Oe.adjustBoundingBox(r));return new ls(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=Oe.getMax(r),o=0;for(let d of r)if(o+=s-d,d>0)break;let a=t.getCodewords();for(let d=0;o>0&&a[d]==null;d++)o--;let u=0;for(let d=r.length-1;d>=0&&(u+=s-r[d],!(r[d]>0));d--);for(let d=a.length-1;u>0&&a[d]==null;d--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,a,u){let d=new Rc(r,o);for(let h=0;h<2;h++){let g=h===0?1:-1,m=Math.trunc(Math.trunc(s.getX()));for(let E=Math.trunc(Math.trunc(s.getY()));E<=r.getMaxY()&&E>=r.getMinY();E+=g){let A=Oe.detectCodeword(t,0,t.getWidth(),o,m,E,a,u);A!=null&&(d.setCodeword(E,A),o?m=A.getStartX():m=A.getEndX())}}return d}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),a=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Oe.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(a<1||a>Ae.MAX_CODEWORDS_IN_BARCODE)throw F.getNotFoundInstance();s.setValue(a)}else o[0]!==a&&s.setValue(a)}static createDecoderResult(t){let r=Oe.createBarcodeMatrix(t);Oe.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),a=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let g=0;g<t.getBarcodeColumnCount();g++){let m=r[h][g+1].getValue(),E=h*t.getBarcodeColumnCount()+g;m.length===0?s.push(E):m.length===1?o[E]=m[0]:(u.push(E),a.push(m))}let d=new Array(a.length);for(let h=0;h<d.length;h++)d[h]=a[h];return Oe.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Ae.toIntArray(s),Ae.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(t,r,s,o,a){let u=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=a[h][u[h]];try{return Oe.decodeCodewords(r,t,s)}catch(h){if(!(h instanceof U))throw h}if(u.length===0)throw U.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<a[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let a=0;a<r[o].length;a++)r[o][a]=new as;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let u=a.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][s].setValue(a.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let a=o?1:-1,u=null;if(Oe.isValidBarcodeColumn(t,r-a)&&(u=t.getDetectionResultColumn(r-a).getCodeword(s)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(s),u!=null)return o?u.getStartX():u.getEndX();if(Oe.isValidBarcodeColumn(t,r-a)&&(u=t.getDetectionResultColumn(r-a).getCodewordNearby(s)),u!=null)return o?u.getEndX():u.getStartX();let d=0;for(;Oe.isValidBarcodeColumn(t,r-a);){r-=a;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+a*d*(h.getEndX()-h.getStartX());d++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,a,u,d,h){a=Oe.adjustCodewordStartColumn(t,r,s,o,a,u);let g=Oe.getModuleBitCount(t,r,s,o,a,u);if(g==null)return null;let m,E=Ie.sum(g);if(o)m=a+E;else{for(let R=0;R<g.length/2;R++){let b=g[R];g[R]=g[g.length-1-R],g[g.length-1-R]=b}m=a,a=m-E}if(!Oe.checkCodewordSkew(E,d,h))return null;let A=ln.getDecodedValue(g),T=Ae.getCodeword(A);return T===-1?null:new us(a,m,Oe.getCodewordBucketNumber(A),T)}static getModuleBitCount(t,r,s,o,a,u){let d=a,h=new Int32Array(8),g=0,m=o?1:-1,E=o;for(;(o?d<s:d>=r)&&g<h.length;)t.get(d,u)===E?(h[g]++,d+=m):(g++,E=!E);return g===h.length||d===(o?s:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,a,u){let d=a,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?d>=r:d<s)&&o===t.get(d,u);){if(Math.abs(a-d)>Oe.CODEWORD_SKEW_SIZE)return a;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(t,r,s){return r-Oe.CODEWORD_SKEW_SIZE<=t&&t<=s+Oe.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw k.getFormatInstance();let o=1<<r+1,a=Oe.correctErrors(t,s,o);Oe.verifyCodewordCount(t,o);let u=z.decode(t,""+r);return u.setErrorsCorrected(a),u.setErasures(s.length),u}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+Oe.MAX_ERRORS||s<0||s>Oe.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return Oe.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw k.getFormatInstance();let s=t[0];if(s>t.length)throw k.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw k.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Oe.getCodewordBucketNumber(Oe.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new ss;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let a=t[s][o];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()}}Oe.CODEWORD_SKEW_SIZE=2,Oe.MAX_ERRORS=3,Oe.MAX_EC_CODEWORDS=512,Oe.errorCorrection=new Oc;class zt{decode(t,r=null){let s=zt.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw F.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return zt.decode(t,r,!0)}catch(s){throw s instanceof k||s instanceof U?F.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,a=_e.detectMultiple(t,r,s);for(const u of a.getPoints()){const d=Oe.decode(a.getBits(),u[4],u[5],u[6],u[7],zt.getMinCodewordWidth(u),zt.getMaxCodewordWidth(u)),h=new Ne(d.getText(),d.getRawBytes(),void 0,u,ue.PDF_417);h.putMetadata(be.ERROR_CORRECTION_LEVEL,d.getECLevel());const g=d.getOther();g!=null&&h.putMetadata(be.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?O.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(zt.getMaxWidth(t[0],t[4]),zt.getMaxWidth(t[6],t[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.max(zt.getMaxWidth(t[1],t[5]),zt.getMaxWidth(t[7],t[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(zt.getMinWidth(t[0],t[4]),zt.getMinWidth(t[6],t[2])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN),Math.min(zt.getMinWidth(t[1],t[5]),zt.getMinWidth(t[7],t[3])*Ae.MODULES_IN_CODEWORD/Ae.MODULES_IN_STOP_PATTERN)))}reset(){}}class co extends x{}co.kind="ReaderException";class Bc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!l(t)&&t.get(J.TRY_HARDER)===!0,s=l(t)?null:t.get(J.POSSIBLE_FORMATS),o=new Array;if(!l(s)){const a=s.some(u=>u===ue.UPC_A||u===ue.UPC_E||u===ue.EAN_13||u===ue.EAN_8||u===ue.CODABAR||u===ue.CODE_39||u===ue.CODE_93||u===ue.CODE_128||u===ue.ITF||u===ue.RSS_14||u===ue.RSS_EXPANDED);a&&!r&&o.push(new wi(t,this.verbose)),s.includes(ue.QR_CODE)&&o.push(new Er),s.includes(ue.DATA_MATRIX)&&o.push(new Cr),s.includes(ue.AZTEC)&&o.push(new xn),s.includes(ue.PDF_417)&&o.push(new zt),a&&r&&o.push(new wi(t,this.verbose))}o.length===0&&(r||o.push(new wi(t,this.verbose)),o.push(new Er),o.push(new Cr),o.push(new xn),o.push(new zt),r&&o.push(new wi(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new co("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof co)continue}throw new F("No MultiFormat Readers were able to detect the code.")}}class Ch extends De{constructor(t=null,r=500){const s=new Bc;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Eh extends De{constructor(t=500){super(new zt,t)}}class Ah extends De{constructor(t=500){super(new Er,t)}}var qa;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(qa||(qa={}));var Mt=qa;class Ja{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Re(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let a=r.length;a<=t;a++){const u=s.multiply(new Re(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));r.push(u),s=u}}return r[t]}encode(t,r){if(r===0)throw new I("No error correction bytes");const s=t.length-r;if(s<=0)throw new I("No data bytes provided");const o=this.buildGenerator(r),a=new Int32Array(s);H.arraycopy(t,0,a,0,s);let u=new Re(this.field,a);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),g=r-h.length;for(let m=0;m<g;m++)t[s+m]=0;H.arraycopy(h,0,t,s+g,h.length)}}class At{constructor(){}static applyMaskPenaltyRule1(t){return At.applyMaskPenaltyRule1Internal(t,!0)+At.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let u=0;u<a-1;u++){const d=s[u];for(let h=0;h<o-1;h++){const g=d[h];g===d[h+1]&&g===s[u+1][h]&&g===s[u+1][h+1]&&r++}}return At.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let u=0;u<a;u++)for(let d=0;d<o;d++){const h=s[u];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(At.isWhiteHorizontal(h,d-4,d)||At.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<a&&s[u][d]===1&&s[u+1][d]===0&&s[u+2][d]===1&&s[u+3][d]===1&&s[u+4][d]===1&&s[u+5][d]===0&&s[u+6][d]===1&&(At.isWhiteVertical(s,d,u-4,u)||At.isWhiteVertical(s,d,u+7,u+11))&&r++}return r*At.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let a=s;a<o;a++)if(t[a][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let h=0;h<a;h++){const g=s[h];for(let m=0;m<o;m++)g[m]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*At.N4}static getDataMaskBit(t,r,s){let o,a;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:a=s*r,o=(a&1)+a%3;break;case 6:a=s*r,o=(a&1)+a%3&1;break;case 7:a=s*r,o=a%3+(s+r&1)&1;break;default:throw new I("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),a=r?t.getWidth():t.getHeight(),u=t.getArray();for(let d=0;d<o;d++){let h=0,g=-1;for(let m=0;m<a;m++){const E=r?u[d][m]:u[m][d];E===g?h++:(h>=5&&(s+=At.N1+(h-5)),h=1,g=E)}h>=5&&(s+=At.N1+(h-5))}return s}}At.N1=3,At.N2=3,At.N3=40,At.N4=10;class fo{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)_.fill(r,t)}equals(t){if(!(t instanceof fo))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const a=this.bytes[s],u=r.bytes[s];for(let d=0,h=this.width;d<h;++d)if(a[d]!==u[d])return!1}return!0}toString(){const t=new le;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let a=0,u=this.width;a<u;++a)switch(o[a]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class qr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new le;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<qr.NUM_MASK_PATTERNS}}qr.NUM_MASK_PATTERNS=8;class et extends x{}et.kind="WriterException";class Ee{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,a){Ee.clearMatrix(a),Ee.embedBasicPatterns(s,a),Ee.embedTypeInfo(r,o,a),Ee.maybeEmbedVersionInfo(s,a),Ee.embedDataBits(t,o,a)}static embedBasicPatterns(t,r){Ee.embedPositionDetectionPatternsAndSeparators(r),Ee.embedDarkDotAtLeftBottomCorner(r),Ee.maybeEmbedPositionAdjustmentPatterns(t,r),Ee.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new V;Ee.makeTypeInfoBits(t,r,o);for(let a=0,u=o.getSize();a<u;++a){const d=o.get(o.getSize()-1-a),h=Ee.TYPE_INFO_COORDINATES[a],g=h[0],m=h[1];if(s.setBoolean(g,m,d),a<8){const E=s.getWidth()-a-1;s.setBoolean(E,8,d)}else{const A=s.getHeight()-7+(a-8);s.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new V;Ee.makeVersionInfoBits(t,s);let o=6*3-1;for(let a=0;a<6;++a)for(let u=0;u<3;++u){const d=s.get(o);o--,r.setBoolean(a,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,a,d)}}static embedDataBits(t,r,s){let o=0,a=-1,u=s.getWidth()-1,d=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!Ee.isEmpty(s.get(g,d)))continue;let m;o<t.getSize()?(m=t.get(o),++o):m=!1,r!==255&&At.getDataMaskBit(r,g,d)&&(m=!m),s.setBoolean(g,d,m)}d+=a}a=-a,d+=a,u-=2}if(o!==t.getSize())throw new et("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-O.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new I("0 polynomial");const s=Ee.findMSBSet(r);for(t<<=s-1;Ee.findMSBSet(t)>=s;)t^=r<<Ee.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!qr.isValidMaskPattern(r))throw new et("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const a=Ee.calculateBCHCode(o,Ee.TYPE_INFO_POLY);s.appendBits(a,10);const u=new V;if(u.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new et("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=Ee.calculateBCHCode(t.getVersionNumber(),Ee.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new et("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;Ee.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),Ee.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new et;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!Ee.isEmpty(s.get(t+o,r)))throw new et;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!Ee.isEmpty(s.get(t,r+o)))throw new et;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const a=Ee.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)s.setNumber(t+u,r+o,a[u])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const a=Ee.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)s.setNumber(t+u,r+o,a[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,t),Ee.embedPositionDetectionPattern(t.getWidth()-r,0,t),Ee.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;Ee.embedHorizontalSeparationPattern(0,s-1,t),Ee.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),Ee.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;Ee.embedVerticalSeparationPattern(o,0,t),Ee.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),Ee.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let a=0,u=o.length;a!==u;a++){const d=o[a];if(d>=0)for(let h=0;h!==u;h++){const g=o[h];g>=0&&Ee.isEmpty(r.get(g,d))&&Ee.embedPositionAdjustmentPattern(g-2,d-2,r)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class Sh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class st{constructor(){}static calculateMaskPenalty(t){return At.applyMaskPenaltyRule1(t)+At.applyMaskPenaltyRule2(t)+At.applyMaskPenaltyRule3(t)+At.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=st.DEFAULT_BYTE_MODE_ENCODING;const a=s!==null&&s.get(Mt.CHARACTER_SET)!==void 0;a&&(o=s.get(Mt.CHARACTER_SET).toString());const u=this.chooseMode(t,o),d=new V;if(u===Ce.BYTE&&(a||st.DEFAULT_BYTE_MODE_ENCODING!==o)){const se=N.getCharacterSetECIByName(o);se!==void 0&&this.appendECI(se,d)}this.appendModeInfo(u,d);const h=new V;this.appendBytes(t,u,h,o);let g;if(s!==null&&s.get(Mt.QR_VERSION)!==void 0){const se=Number.parseInt(s.get(Mt.QR_VERSION).toString(),10);g=ye.getVersionForNumber(se);const Q=this.calculateBitsNeeded(u,d,h,g);if(!this.willFit(Q,g,r))throw new et("Data too big for requested version")}else g=this.recommendVersion(r,u,d,h);const m=new V;m.appendBitArray(d);const E=u===Ce.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(E,g,u,m),m.appendBitArray(h);const A=g.getECBlocksForLevel(r),T=g.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,m);const R=this.interleaveWithECBytes(m,g.getTotalCodewords(),T,A.getNumBlocks()),b=new qr;b.setECLevel(r),b.setMode(u),b.setVersion(g);const B=g.getDimensionForVersion(),j=new fo(B,B),ie=this.chooseMaskPattern(R,r,g,j);return b.setMaskPattern(ie),Ee.buildMatrix(R,r,g,ie,j),b.setMatrix(j),b}static recommendVersion(t,r,s,o){const a=this.calculateBitsNeeded(r,s,o,ye.getVersionForNumber(1)),u=this.chooseVersion(a,t),d=this.calculateBitsNeeded(r,s,o,u);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<st.ALPHANUMERIC_TABLE.length?st.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(N.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Ce.KANJI;let s=!1,o=!1;for(let a=0,u=t.length;a<u;++a){const d=t.charAt(a);if(st.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return Ce.BYTE}return o?Ce.ALPHANUMERIC:s?Ce.NUMERIC:Ce.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=oe.encode(t,N.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const a=r[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let a=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<qr.NUM_MASK_PATTERNS;d++){Ee.buildMatrix(t,r,s,d,o);let h=this.calculateMaskPenalty(o);h<a&&(a=h,u=d)}return u}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=ye.getVersionForNumber(s);if(st.willFit(t,o,r))return o}throw new et("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(s).getTotalECCodewords(),d=o-u,h=(t+7)/8;return d>=h}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new et("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let u=0;u<4&&r.getSize()<s;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const a=t-r.getSizeInBytes();for(let u=0;u<a;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==s)throw new et("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,a,u){if(o>=s)throw new et("Block ID too large");const d=t%s,h=s-d,g=Math.floor(t/s),m=g+1,E=Math.floor(r/s),A=E+1,T=g-E,R=m-A;if(T!==R)throw new et("EC bytes mismatch");if(s!==h+d)throw new et("RS blocks mismatch");if(t!==(E+T)*h+(A+R)*d)throw new et("Total bytes mismatch");o<h?(a[0]=E,u[0]=T):(a[0]=A,u[0]=R)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new et("Number of bits and data bytes does not match");let a=0,u=0,d=0;const h=new Array;for(let m=0;m<o;++m){const E=new Int32Array(1),A=new Int32Array(1);st.getNumDataBytesAndNumECBytesForBlockID(r,s,o,m,E,A);const T=E[0],R=new Uint8Array(T);t.toBytes(8*a,R,0,T);const b=st.generateECBytes(R,A[0]);h.push(new Sh(R,b)),u=Math.max(u,T),d=Math.max(d,b.length),a+=E[0]}if(s!==a)throw new et("Data bytes does not match offset");const g=new V;for(let m=0;m<u;++m)for(const E of h){const A=E.getDataBytes();m<A.length&&g.appendBits(A[m],8)}for(let m=0;m<d;++m)for(const E of h){const A=E.getErrorCorrectionBytes();m<A.length&&g.appendBits(A[m],8)}if(r!==g.getSizeInBytes())throw new et("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let u=0;u<s;u++)o[u]=t[u]&255;new Ja(xe.QR_CODE_FIELD_256).encode(o,r);const a=new Uint8Array(r);for(let u=0;u<r;u++)a[u]=o[s+u];return a}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const a=s.getCharacterCountBits(r);if(t>=1<<a)throw new et(t+" is bigger than "+((1<<a)-1));o.appendBits(t,a)}static appendBytes(t,r,s,o){switch(r){case Ce.NUMERIC:st.appendNumericBytes(t,s);break;case Ce.ALPHANUMERIC:st.appendAlphanumericBytes(t,s);break;case Ce.BYTE:st.append8BitBytes(t,s,o);break;case Ce.KANJI:st.appendKanjiBytes(t,s);break;default:throw new et("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=st.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const a=st.getDigit(t.charAt(o));if(o+2<s){const u=st.getDigit(t.charAt(o+1)),d=st.getDigit(t.charAt(o+2));r.appendBits(a*100+u*10+d,10),o+=3}else if(o+1<s){const u=st.getDigit(t.charAt(o+1));r.appendBits(a*10+u,7),o+=2}else r.appendBits(a,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const a=st.getAlphanumericCode(t.charCodeAt(o));if(a===-1)throw new et;if(o+1<s){const u=st.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new et;r.appendBits(a*45+u,11),o+=2}else r.appendBits(a,6),o++}}static append8BitBytes(t,r,s){let o;try{o=oe.encode(t,s)}catch(a){throw new et(a)}for(let a=0,u=o.length;a!==u;a++){const d=o[a];r.appendBits(d,8)}}static appendKanjiBytes(t,r){let s;try{s=oe.encode(t,N.SJIS)}catch(a){throw new et(a)}const o=s.length;for(let a=0;a<o;a+=2){const u=s[a]&255,d=s[a+1]&255,h=u<<8&4294967295|d;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new et("Invalid byte sequence");const m=(g>>8)*192+(g&255);r.appendBits(m,13)}}static appendECI(t,r){r.appendBits(Ce.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}st.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),st.DEFAULT_BYTE_MODE_ENCODING=N.UTF8.getName();class Jr{write(t,r,s,o=null){if(t.length===0)throw new I("Found empty contents");if(r<0||s<0)throw new I("Requested dimensions are too small: "+r+"x"+s);let a=nt.L,u=Jr.QUIET_ZONE_SIZE;o!==null&&(o.get(Mt.ERROR_CORRECTION)!==void 0&&(a=nt.fromString(o.get(Mt.ERROR_CORRECTION).toString())),o.get(Mt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Mt.MARGIN).toString(),10)));const d=st.encode(t,a,o);return this.renderResult(d,r,s,u)}writeToDom(t,r,s,o,a=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,s,o,a);t&&t.appendChild(u)}renderResult(t,r,s,o){const a=t.getMatrix();if(a===null)throw new ze;const u=a.getWidth(),d=a.getHeight(),h=u+o*2,g=d+o*2,m=Math.max(r,h),E=Math.max(s,g),A=Math.min(Math.floor(m/h),Math.floor(E/g)),T=Math.floor((m-u*A)/2),R=Math.floor((E-d*A)/2),b=this.createSVGElement(m,E);for(let B=0,j=R;B<d;B++,j+=A)for(let ie=0,se=T;ie<u;ie++,se+=A)if(a.get(ie,B)===1){const Q=this.createSvgRectElement(se,j,A,A);b.appendChild(Q)}return b}createSVGElement(t,r){const s=document.createElementNS(Jr.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const a=document.createElementNS(Jr.SVG_NS,"rect");return a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"height",s.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Jr.QUIET_ZONE_SIZE=4,Jr.SVG_NS="http://www.w3.org/2000/svg";class Ci{encode(t,r,s,o,a){if(t.length===0)throw new I("Found empty contents");if(r!==ue.QR_CODE)throw new I("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new I(`Requested dimensions are too small: ${s}x${o}`);let u=nt.L,d=Ci.QUIET_ZONE_SIZE;a!==null&&(a.get(Mt.ERROR_CORRECTION)!==void 0&&(u=nt.fromString(a.get(Mt.ERROR_CORRECTION).toString())),a.get(Mt.MARGIN)!==void 0&&(d=Number.parseInt(a.get(Mt.MARGIN).toString(),10)));const h=st.encode(t,u,a);return Ci.renderResult(h,s,o,d)}static renderResult(t,r,s,o){const a=t.getMatrix();if(a===null)throw new ze;const u=a.getWidth(),d=a.getHeight(),h=u+o*2,g=d+o*2,m=Math.max(r,h),E=Math.max(s,g),A=Math.min(Math.floor(m/h),Math.floor(E/g)),T=Math.floor((m-u*A)/2),R=Math.floor((E-d*A)/2),b=new me(m,E);for(let B=0,j=R;B<d;B++,j+=A)for(let ie=0,se=T;ie<u;ie++,se+=A)a.get(ie,B)===1&&b.setRegion(se,j,A,A);return b}}Ci.QUIET_ZONE_SIZE=4;class Ih{encode(t,r,s,o,a){let u;switch(r){case ue.QR_CODE:u=new Ci;break;default:throw new I("No encoder available for format "+r)}return u.encode(t,r,s,o,a)}}class Jn extends re{constructor(t,r,s,o,a,u,d,h){if(super(u,d),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=a,o+u>r||a+d>s)throw new I("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(t,r){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.yuvData,a,o,0,s),o;for(let u=0;u<r;u++){const d=u*t;H.arraycopy(this.yuvData,a,o,d,t),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new Jn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/Jn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Jn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*t;for(let h=0;h<t;h++){const g=o[a+h*Jn.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|g*65793}a+=this.dataWidth*Jn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Jn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Jn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<r;o++,a+=this.dataWidth){const u=a+t/2;for(let d=a,h=a+t-1;d<u;d++,h--){const g=s[d];s[d]=s[h],s[h]=g}}}invert(){return new q(this)}}Jn.THUMBNAIL_SCALE_FACTOR=2;class $a extends re{constructor(t,r,s,o,a,u,d){if(super(r,s),this.dataWidth=o,this.dataHeight=a,this.left=u,this.top=d,t.BYTES_PER_ELEMENT===4){const h=r*s,g=new Uint8ClampedArray(h);for(let m=0;m<h;m++){const E=t[m],A=E>>16&255,T=E>>7&510,R=E&255;g[m]=(A+T+R)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),a===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return H.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return H.arraycopy(this.luminances,a,o,0,s),o;for(let u=0;u<r;u++){const d=u*t;H.arraycopy(this.luminances,a,o,d,t),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new $a(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new q(this)}}class Pc extends N{static forName(t){return this.getCharacterSetECIByName(t)}}class el{}el.ISO_8859_1=N.ISO8859_1;class Fc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Uc{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class vh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ei extends vh{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Ei(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ei(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+O.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class tl extends Ei{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new tl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Th(C,t,r){return new tl(C,t,r)}function cs(C,t,r){return new Ei(C,t,r)}const Nh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Sr=0,ho=1,Rn=2,zc=3,$n=4,_h=new Ei(null,0,0),nl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Mh(C){for(let t of C)_.fill(t,-1);return C[Sr][$n]=0,C[ho][$n]=0,C[ho][Sr]=28,C[zc][$n]=0,C[Rn][$n]=0,C[Rn][Sr]=15,C}const jc=Mh(_.createInt32Array(6,6));class er{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let u=nl[this.mode][t];o=cs(o,u&65535,u>>16),s+=u>>16}let a=t===Rn?4:5;return o=cs(o,r,a),new er(o,t,0,s+a)}shiftAndAppend(t,r){let s=this.token,o=this.mode===Rn?4:5;return s=cs(s,jc[this.mode][t],o),s=cs(s,r,5),new er(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===$n||this.mode===Rn){let d=nl[s][Sr];r=cs(r,d&65535,d>>16),o+=d>>16,s=Sr}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new er(r,s,this.binaryShiftByteCount+1,o+a);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Th(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new er(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(nl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=er.calculateBinaryShiftCost(t)-er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new V;for(const o of r)o.appendTo(s,t);return s}toString(){return Y.format("%s bits=%d bytes=%d",Nh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}er.INITIAL_STATE=new er(_h,Sr,0,0);function Oh(C){const t=Y.getCharCode(" "),r=Y.getCharCode("."),s=Y.getCharCode(",");C[Sr][t]=1;const o=Y.getCharCode("Z"),a=Y.getCharCode("A");for(let A=a;A<=o;A++)C[Sr][A]=A-a+2;C[ho][t]=1;const u=Y.getCharCode("z"),d=Y.getCharCode("a");for(let A=d;A<=u;A++)C[ho][A]=A-d+2;C[Rn][t]=1;const h=Y.getCharCode("9"),g=Y.getCharCode("0");for(let A=g;A<=h;A++)C[Rn][A]=A-g+2;C[Rn][s]=12,C[Rn][r]=13;const m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<m.length;A++)C[zc][Y.getCharCode(m[A])]=A;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<E.length;A++)Y.getCharCode(E[A])>0&&(C[$n][Y.getCharCode(E[A])]=A);return C}const rl=Oh(_.createInt32Array(5,256));class fs{constructor(t){this.text=t}encode(){const t=Y.getCharCode(" "),r=Y.getCharCode(`
`);let s=Uc.singletonList(er.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let u,d=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Y.getCharCode("\r"):u=d===r?2:0;break;case Y.getCharCode("."):u=d===t?3:0;break;case Y.getCharCode(","):u=d===t?4:0;break;case Y.getCharCode(":"):u=d===t?5:0;break;default:u=0}u>0?(s=fs.updateStateListForPair(s,a,u),a++):s=this.updateStateListForChar(s,a)}return Uc.min(s,(a,u)=>a.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return fs.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,a=rl[t.getMode()][o]>0,u=null;for(let d=0;d<=$n;d++){let h=rl[d][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!a||d===t.getMode()||d===Rn){const g=u.latchAndAppend(d,h);s.push(g)}if(!a&&jc[t.getMode()][d]>=0){const g=u.shiftAndAppend(d,h);s.push(g)}}}if(t.getBinaryShiftByteCount()>0||rl[t.getMode()][o]===0){let d=t.addBinaryShiftChar(r);s.push(d)}}static updateStateListForPair(t,r,s){const o=[];for(let a of t)this.updateStateForPair(a,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let a=t.endBinaryShift(r);if(o.push(a.latchAndAppend($n,s)),t.getMode()!==$n&&o.push(a.shiftAndAppend($n,s)),s===3||s===4){let u=a.latchAndAppend(Rn,16-s).latchAndAppend(Rn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const a of r){if(a.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(a)&&(r=r.filter(u=>u!==a))}o&&r.push(s)}return r}}class Fe{constructor(){}static encodeBytes(t){return Fe.encode(t,Fe.DEFAULT_EC_PERCENT,Fe.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new fs(t).encode(),a=O.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+a,d,h,g,m,E;if(s!==Fe.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?Fe.MAX_NB_BITS_COMPACT:Fe.MAX_NB_BITS))throw new I(Y.format("Illegal value %s for layers",s));g=Fe.totalBitsInLayer(h,d),m=Fe.WORD_SIZE[h];let Q=g-g%m;if(E=Fe.stuffBits(o,m),E.getSize()+a>Q)throw new I("Data to large for user specified layer");if(d&&E.getSize()>m*64)throw new I("Data to large for user specified layer")}else{m=0,E=null;for(let Q=0;;Q++){if(Q>Fe.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(d=Q<=3,h=d?Q+1:Q,g=Fe.totalBitsInLayer(h,d),u>g)continue;(E==null||m!==Fe.WORD_SIZE[h])&&(m=Fe.WORD_SIZE[h],E=Fe.stuffBits(o,m));let ke=g-g%m;if(!(d&&E.getSize()>m*64)&&E.getSize()+a<=ke)break}}let A=Fe.generateCheckWords(E,g,m),T=E.getSize()/m,R=Fe.generateModeMessage(d,h,T),b=(d?11:14)+h*4,B=new Int32Array(b),j;if(d){j=b;for(let Q=0;Q<B.length;Q++)B[Q]=Q}else{j=b+1+2*O.truncDivision(O.truncDivision(b,2)-1,15);let Q=O.truncDivision(b,2),ke=O.truncDivision(j,2);for(let ve=0;ve<Q;ve++){let un=ve+O.truncDivision(ve,15);B[Q-ve-1]=ke-un-1,B[Q+ve]=ke+un+1}}let ie=new me(j);for(let Q=0,ke=0;Q<h;Q++){let ve=(h-Q)*4+(d?9:12);for(let un=0;un<ve;un++){let zn=un*2;for(let cn=0;cn<2;cn++)A.get(ke+zn+cn)&&ie.set(B[Q*2+cn],B[Q*2+un]),A.get(ke+ve*2+zn+cn)&&ie.set(B[Q*2+un],B[b-1-Q*2-cn]),A.get(ke+ve*4+zn+cn)&&ie.set(B[b-1-Q*2-cn],B[b-1-Q*2-un]),A.get(ke+ve*6+zn+cn)&&ie.set(B[b-1-Q*2-un],B[Q*2+cn])}ke+=ve*8}if(Fe.drawModeMessage(ie,d,j,R),d)Fe.drawBullsEye(ie,O.truncDivision(j,2),5);else{Fe.drawBullsEye(ie,O.truncDivision(j,2),7);for(let Q=0,ke=0;Q<O.truncDivision(b,2)-1;Q+=15,ke+=16)for(let ve=O.truncDivision(j,2)&1;ve<j;ve+=2)ie.set(O.truncDivision(j,2)-ke,ve),ie.set(O.truncDivision(j,2)+ke,ve),ie.set(ve,O.truncDivision(j,2)-ke),ie.set(ve,O.truncDivision(j,2)+ke)}let se=new Fc;return se.setCompact(d),se.setSize(j),se.setLayers(h),se.setCodeWords(T),se.setMatrix(ie),se}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let a=r-o;a<=r+o;a++)t.set(a,r-o),t.set(a,r+o),t.set(r-o,a),t.set(r+o,a);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new V;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Fe.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Fe.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let a=O.truncDivision(s,2);if(r)for(let u=0;u<7;u++){let d=a-3+u;o.get(u)&&t.set(d,a-5),o.get(u+7)&&t.set(a+5,d),o.get(20-u)&&t.set(d,a+5),o.get(27-u)&&t.set(a-5,d)}else for(let u=0;u<10;u++){let d=a-5+u+O.truncDivision(u,5);o.get(u)&&t.set(d,a-7),o.get(u+10)&&t.set(a+7,d),o.get(29-u)&&t.set(d,a+7),o.get(39-u)&&t.set(a-7,d)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,a=new Ja(Fe.getGF(s)),u=O.truncDivision(r,s),d=Fe.bitsToWords(t,s,u);a.encode(d,u-o);let h=r%s,g=new V;g.appendBits(0,h);for(const m of Array.from(d))g.appendBits(m,s);return g}static bitsToWords(t,r,s){let o=new Int32Array(s),a,u;for(a=0,u=t.getSize()/r;a<u;a++){let d=0;for(let h=0;h<r;h++)d|=t.get(a*r+h)?1<<r-h-1:0;o[a]=d}return o}static getGF(t){switch(t){case 4:return xe.AZTEC_PARAM;case 6:return xe.AZTEC_DATA_6;case 8:return xe.AZTEC_DATA_8;case 10:return xe.AZTEC_DATA_10;case 12:return xe.AZTEC_DATA_12;default:throw new I("Unsupported word size "+t)}}static stuffBits(t,r){let s=new V,o=t.getSize(),a=(1<<r)-2;for(let u=0;u<o;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(d|=1<<r-1-h);(d&a)===a?(s.appendBits(d&a,r),u--):d&a?s.appendBits(d,r):(s.appendBits(d|1,r),u--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Fe.DEFAULT_EC_PERCENT=33,Fe.DEFAULT_AZTEC_LAYERS=0,Fe.MAX_NB_BITS=32,Fe.MAX_NB_BITS_COMPACT=4,Fe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class go{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,a){let u=el.ISO_8859_1,d=Fe.DEFAULT_EC_PERCENT,h=Fe.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Mt.CHARACTER_SET)&&(u=Pc.forName(a.get(Mt.CHARACTER_SET).toString())),a.has(Mt.ERROR_CORRECTION)&&(d=O.parseInt(a.get(Mt.ERROR_CORRECTION).toString())),a.has(Mt.AZTEC_LAYERS)&&(h=O.parseInt(a.get(Mt.AZTEC_LAYERS).toString()))),go.encodeLayers(t,r,s,o,u,d,h)}static encodeLayers(t,r,s,o,a,u,d){if(r!==ue.AZTEC)throw new I("Can only encode AZTEC, but got "+r);let h=Fe.encode(Y.getBytes(t,a),u,d);return go.renderResult(h,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new ze;let a=o.getWidth(),u=o.getHeight(),d=Math.max(r,a),h=Math.max(s,u),g=Math.min(d/a,h/u),m=(d-a*g)/2,E=(h-u*g)/2,A=new me(d,h);for(let T=0,R=E;T<u;T++,R+=g)for(let b=0,B=m;b<a;b++,B+=g)o.get(b,T)&&A.setRegion(B,R,g,g);return A}}i.AbstractExpandedDecoder=Ha,i.ArgumentException=S,i.ArithmeticException=ut,i.AztecCode=Fc,i.AztecCodeReader=xn,i.AztecCodeWriter=go,i.AztecDecoder=Me,i.AztecDetector=Fn,i.AztecDetectorResult=gt,i.AztecEncoder=Fe,i.AztecHighLevelEncoder=fs,i.AztecPoint=ct,i.BarcodeFormat=ue,i.Binarizer=G,i.BinaryBitmap=L,i.BitArray=V,i.BitMatrix=me,i.BitSource=Ya,i.BrowserAztecCodeReader=sn,i.BrowserBarcodeReader=ah,i.BrowserCodeReader=De,i.BrowserDatamatrixCodeReader=uh,i.BrowserMultiFormatReader=Ch,i.BrowserPDF417Reader=Eh,i.BrowserQRCodeReader=Ah,i.BrowserQRCodeSvgWriter=Jr,i.CharacterSetECI=N,i.ChecksumException=U,i.Code128Reader=te,i.Code39Reader=yt,i.DataMatrixDecodedBitStreamParser=yr,i.DataMatrixReader=Cr,i.DecodeHintType=J,i.DecoderResult=we,i.DefaultGridSampler=Nn,i.DetectorResult=qe,i.EAN13Reader=Xr,i.EncodeHintType=Mt,i.Exception=x,i.FormatException=k,i.GenericGF=xe,i.GenericGFPoly=Re,i.GlobalHistogramBinarizer=Se,i.GridSampler=He,i.GridSamplerInstance=Gt,i.HTMLCanvasElementLuminanceSource=pe,i.HybridBinarizer=Z,i.ITFReader=Ve,i.IllegalArgumentException=I,i.IllegalStateException=ze,i.InvertedLuminanceSource=q,i.LuminanceSource=re,i.MathUtils=Ie,i.MultiFormatOneDReader=wi,i.MultiFormatReader=Bc,i.MultiFormatWriter=Ih,i.NotFoundException=F,i.OneDReader=it,i.PDF417DecodedBitStreamParser=z,i.PDF417DecoderErrorCorrection=Oc,i.PDF417Reader=zt,i.PDF417ResultMetadata=Dc,i.PerspectiveTransform=bt,i.PlanarYUVLuminanceSource=Jn,i.QRCodeByteMatrix=fo,i.QRCodeDataMask=Mn,i.QRCodeDecodedBitStreamParser=pt,i.QRCodeDecoderErrorCorrectionLevel=nt,i.QRCodeDecoderFormatInformation=Xt,i.QRCodeEncoder=st,i.QRCodeEncoderQRCode=qr,i.QRCodeMaskUtil=At,i.QRCodeMatrixUtil=Ee,i.QRCodeMode=Ce,i.QRCodeReader=Er,i.QRCodeVersion=ye,i.QRCodeWriter=Ci,i.RGBLuminanceSource=$a,i.RSS14Reader=Et,i.RSSExpandedReader=X,i.ReaderException=co,i.ReedSolomonDecoder=je,i.ReedSolomonEncoder=Ja,i.ReedSolomonException=ht,i.Result=Ne,i.ResultMetadataType=be,i.ResultPoint=fe,i.StringUtils=Y,i.UnsupportedOperationException=W,i.VideoInputDevice=Te,i.WhiteRectangleDetector=Ft,i.WriterException=et,i.ZXingArrays=_,i.ZXingCharset=Pc,i.ZXingInteger=O,i.ZXingStandardCharsets=el,i.ZXingStringBuilder=le,i.ZXingStringEncoding=oe,i.ZXingSystem=H,i.createAbstractExpandedDecoder=_c,Object.defineProperty(i,"__esModule",{value:!0})})})(Tu,Tu.exports);var at=Tu.exports;const yx=Nu(at),Cx=S0({__proto__:null,default:yx},[at]);var d0=function(){function e(n,i,l){if(this.formatMap=new Map([[he.QR_CODE,at.BarcodeFormat.QR_CODE],[he.AZTEC,at.BarcodeFormat.AZTEC],[he.CODABAR,at.BarcodeFormat.CODABAR],[he.CODE_39,at.BarcodeFormat.CODE_39],[he.CODE_93,at.BarcodeFormat.CODE_93],[he.CODE_128,at.BarcodeFormat.CODE_128],[he.DATA_MATRIX,at.BarcodeFormat.DATA_MATRIX],[he.MAXICODE,at.BarcodeFormat.MAXICODE],[he.ITF,at.BarcodeFormat.ITF],[he.EAN_13,at.BarcodeFormat.EAN_13],[he.EAN_8,at.BarcodeFormat.EAN_8],[he.PDF_417,at.BarcodeFormat.PDF_417],[he.RSS_14,at.BarcodeFormat.RSS_14],[he.RSS_EXPANDED,at.BarcodeFormat.RSS_EXPANDED],[he.UPC_A,at.BarcodeFormat.UPC_A],[he.UPC_E,at.BarcodeFormat.UPC_E],[he.UPC_EAN_EXTENSION,at.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Cx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=l;var c=this.createZXingFormats(n),f=new Map;f.set(at.DecodeHintType.POSSIBLE_FORMATS,c),f.set(at.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(l,c){try{l(i.decode(n))}catch(f){c(f)}})},e.prototype.decode=function(n){var i=new at.MultiFormatReader(this.verbose,this.hints),l=new at.HTMLCanvasElementLuminanceSource(n),c=new at.BinaryBitmap(new at.HybridBinarizer(l)),f=i.decode(c);return{text:f.text,format:Kd.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,l,c){n.set(i,l)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],l=0,c=n;l<c.length;l++){var f=c[l];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Ex=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},Ax=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},h0=function(){function e(n,i,l){if(this.formatMap=new Map([[he.QR_CODE,"qr_code"],[he.AZTEC,"aztec"],[he.CODABAR,"codabar"],[he.CODE_39,"code_39"],[he.CODE_93,"code_93"],[he.CODE_128,"code_128"],[he.DATA_MATRIX,"data_matrix"],[he.ITF,"itf"],[he.EAN_13,"ean_13"],[he.EAN_8,"ean_8"],[he.PDF_417,"pdf417"],[he.UPC_A,"upc_a"],[he.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=l;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Ex(this,void 0,void 0,function(){var i,l;return Ax(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(i),[2,{text:l.rawValue,format:Kd.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,l=0,c=0,f=n;c<f.length;c++){var p=f[c],y=p.boundingBox.width*p.boundingBox.height;y>l&&(l=y,i=p)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],l=0,c=n;l<c.length;l++){var f=c[l];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,l,c){n.set(i,l)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),g0=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},p0=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Sx=function(){function e(n,i,l,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,i&&h0.isSupported()?(this.primaryDecoder=new h0(n,l,c),this.secondaryDecoder=new d0(n,l,c)):this.primaryDecoder=new d0(n,l,c)}return e.prototype.decodeAsync=function(n){return g0(this,void 0,void 0,function(){var i;return p0(this,function(l){switch(l.label){case 0:i=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return g0(this,void 0,void 0,function(){var i,l;return p0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(l=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw l;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,l=this.executionResults;i<l.length;i++){var c=l[i];n+=c}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Sc=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function l(){this.constructor=n}n.prototype=i===null?Object.create(i):(l.prototype=i.prototype,new l)}}(),xa=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},ma=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},eh=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var l={advanced:[i]};return this.track.applyConstraints(l)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Ix=function(e){Sc(n,e);function n(i,l){return e.call(this,i,l)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var l={};l[this.name]=i;var c={advanced:[l]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),l=i[this.name];return{min:l.min,max:l.max,step:l.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(eh),vx=function(e){Sc(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Ix),Tx=function(e){Sc(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(eh),Nx=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new vx(this.track)},e.prototype.torchFeature=function(){return new Tx(this.track)},e}(),_x=function(){function e(n,i,l){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var l=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(l,c),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,l,c){return xa(this,void 0,void 0,function(){var f,p;return ma(this,function(y){switch(y.label){case 0:return f=new e(n,i,c),l.aspectRatio?(p={aspectRatio:l.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:y.sent(),y.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,l=function(){setTimeout(n,200),i.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return xa(this,void 0,void 0,function(){return ma(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,l){var c=n.mediaStream.getVideoTracks(),f=c.length,p=0;n.mediaStream.getVideoTracks().forEach(function(y){n.mediaStream.removeTrack(y),y.stop(),++p,p>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Nx(this.getFirstTrackOrFail())},e}(),Mx=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,l){return xa(this,void 0,void 0,function(){return ma(this,function(c){return[2,_x.create(n,this.mediaStream,i,l)]})})},e.create=function(n){return xa(this,void 0,void 0,function(){var i,l;return ma(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return l=c.sent(),[2,new e(l)]}})})},e}(),x0=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},m0=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ox=function(){function e(){}return e.failIfNotSupported=function(){return x0(this,void 0,void 0,function(){return m0(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return x0(this,void 0,void 0,function(){return m0(this,function(i){return[2,Mx.create(n)]})})},e}(),Rx=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},Dx=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},bx=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Fi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Fi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Rx(this,void 0,void 0,function(){var n,i,l,c,f,p,y;return Dx(this,function(w){switch(w.label){case 0:return n=function(x){for(var S=x.getVideoTracks(),I=0,L=S;I<L.length;I++){var U=L[I];U.enabled=!1,U.stop(),x.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=w.sent(),c=[],f=0,p=l;f<p.length;f++)y=p[f],y.kind==="videoinput"&&c.push({id:y.deviceId,label:y.label});return n(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var l=function(f){for(var p=[],y=0,w=f;y<w.length;y++){var x=w[y];x.kind==="video"&&p.push({id:x.id,label:x.label})}n(p)},c=MediaStreamTrack;c.getSources(l)})},e}(),St;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(St||(St={}));var Lx=function(){function e(){this.state=St.NOT_STARTED,this.onGoingTransactionNewState=St.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=St.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=St.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==St.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case St.UNKNOWN:throw"Transition from unknown is not allowed";case St.NOT_STARTED:this.failIfNewStateIs(n,[St.PAUSED]);break;case St.SCANNING:break;case St.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var l=0,c=i;l<c.length;l++){var f=c[l];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),kx=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===St.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==St.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===St.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===St.PAUSED},e}(),Bx=function(){function e(){}return e.create=function(){return new kx(new Lx)},e}(),Px=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function l(){this.constructor=n}n.prototype=i===null?Object.create(i):(l.prototype=i.prototype,new l)}}(),wn=function(e){Px(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Wn),Fx=function(){function e(n,i){this.logger=i,this.fps=wn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=wn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$d.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!rr(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),w0=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var l;typeof i=="boolean"?this.verbose=i===!0:i&&(l=i,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new Jd(this.verbose),this.qrcode=new Sx(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Bx.create()}return e.prototype.start=function(n,i,l,c){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;c?p=c:p=this.verbose?this.logger.log:function(){};var y=Fx.create(i,this.logger);this.clearElement();var w=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:wn.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var I=this,L=this.stateManagerProxy.startTransition(St.SCANNING);return new Promise(function(U,G){var H=x?y.videoConstraints:I.createVideoConstraints(n);if(!H){L.cancel(),G("videoConstraints should be defined");return}var K={};(!x||y.aspectRatio)&&(K.aspectRatio=y.aspectRatio);var D={onRenderSurfaceReady:function(_,O){I.setupUi(_,O,y),I.isScanning=!0,I.foreverScan(y,l,p)}};Ox.failIfNotSupported().then(function(_){_.create(H).then(function(O){return O.render(f.element,K,D).then(function(V){I.renderedCamera=V,L.execute(),U(null)}).catch(function(V){L.cancel(),G(V)})}).catch(function(O){L.cancel(),G(Fi.errorGettingUserMedia(O))})}).catch(function(_){L.cancel(),G(Fi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(St.PAUSED),this.showPausedState(),(rr(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(St.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(St.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(n.element){var f=document.getElementById(wn.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),l(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(l){return l.decodedText})},e.prototype.scanFileV2=function(n,i){var l=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rr(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(n);var p=new Image;p.onload=function(){var y=p.width,w=p.height,x=document.getElementById(l.elementId),S=x.clientWidth?x.clientWidth:wn.DEFAULT_WIDTH,I=Math.max(x.clientHeight?x.clientHeight:w,wn.FILE_SCAN_MIN_HEIGHT),L=l.computeCanvasDrawConfig(y,w,S,I);if(i){var U=l.createCanvasElement(S,I,"qr-canvas-visible");U.style.display="inline-block",x.appendChild(U);var G=U.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=S,G.canvas.height=I,G.drawImage(p,0,0,y,w,L.x,L.y,L.width,L.height)}var H=wn.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(p.width,L.width),D=Math.max(p.height,L.height),_=K+2*H,O=D+2*H,V=l.createCanvasElement(_,O);x.appendChild(V);var ae=V.getContext("2d");if(!ae)throw"Unable to get 2d context from canvas";ae.canvas.width=_,ae.canvas.height=O,ae.drawImage(p,0,0,y,w,H,H,K,D);try{l.qrcode.decodeRobustlyAsync(V).then(function(J){c(c0.createFromQrcodeResult(J))}).catch(f)}catch(J){f("QR code parse error, error = ".concat(J))}},p.onerror=f,p.onabort=f,p.onstalled=f,p.onsuspend=f,p.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return bx.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!$d.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[he.QR_CODE,he.AZTEC,he.CODABAR,he.CODE_39,he.CODE_93,he.CODE_128,he.DATA_MATRIX,he.MAXICODE,he.ITF,he.EAN_13,he.EAN_8,he.PDF_417,he.RSS_14,he.RSS_EXPANDED,he.UPC_A,he.UPC_E,he.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],c=0,f=n.formatsToSupport;c<f.length;c++){var p=f[c];mx(p)?l.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(rr(n))return!0;if(!rr(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(rr(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return rr(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,l){var c=this,f=l.qrbox;this.validateQrboxConfig(f);var p=this.toQrdimensions(n,i,f),y=function(x){if(x<wn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wn.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};y(p.width),y(p.height),p.width=w(p.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(n,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return l},e.prototype.setupUi=function(n,i,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,l);var c=rr(l.qrbox)?{width:n,height:i}:l.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(n,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=l.isShadedBoxEnabled()&&f.height<=i,y={x:0,y:0,width:n,height:i},w=p?this.getShadedRegionBounds(n,i,f):y,x=this.createCanvasElement(w.width,w.height),S={willReadFrequently:!0},I=x.getContext("2d",S);I.canvas.width=w.width,I.canvas.height=w.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,n,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=I,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Fi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,c0.createFromQrcodeResult(c)),l.possiblyUpdateShaders(!0),!0}).catch(function(c){l.possiblyUpdateShaders(!1);var f=Fi.codeParseError(c);return i(f,qd.createFrom(f)),!1})},e.prototype.foreverScan=function(n,i,l){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),p=f.videoWidth/f.clientWidth,y=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,x=this.qrRegion.height*y,S=this.qrRegion.x*p,I=this.qrRegion.y*y;this.context.drawImage(f,S,I,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,i,l)},c.getTimeoutFps(n.fps))};this.scanContext(i,l).then(function(U){!U&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,l).finally(function(){L()})):L()}).catch(function(U){c.logger.logError("Error happend while scanning context",U),L()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",l="deviceId",c={user:!0,environment:!0},f="exact",p=function(G){if(G in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},y=Object.keys(n);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var w=Object.keys(n)[0];if(w!==i&&w!==l)throw"Only '".concat(i,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(w===i){var x=n.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(p(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var S=typeof x;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var I=n.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(f in I)return{deviceId:{exact:I["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var L=typeof I;throw"Invalid type of 'deviceId' = ".concat(L)}}}var U=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},e.prototype.computeCanvasDrawConfig=function(n,i,l,c){if(n<=l&&i<=c){var f=(l-n)/2,p=(c-i)/2;return{x:f,y:p,width:n,height:i}}else{var y=n,w=i;return n>l&&(i=l/n*i,n=l),i>c&&(n=c/i*n,i=c),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(w)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,l,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?wn.BORDER_SHADER_MATCH_COLOR:wn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,l){var c=n,f=i,p=document.createElement("canvas");return p.style.width="".concat(c,"px"),p.style.height="".concat(f,"px"),p.style.display="none",p.id=rr(l)?"qr-canvas":l,p},e.prototype.getShadedRegionBounds=function(n,i,l){if(l.width>n||l.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-l.width)/2,y:(i-l.height)/2,width:l.width,height:l.height}},e.prototype.possiblyInsertShadingElement=function(n,i,l,c){if(!(i-c.width<1||l-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var p=(i-c.width)/2,y=(l-c.height)/2;if(f.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(wn.SHADED_REGION_ELEMENT_ID),i-c.width<11||l-c.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(f,x,w,-w,null,0,!0),this.insertShaderBorders(f,x,w,-w,null,0,!1),this.insertShaderBorders(f,x,w,null,-w,0,!0),this.insertShaderBorders(f,x,w,null,-w,0,!1),this.insertShaderBorders(f,w,x+w,-w,null,-w,!0),this.insertShaderBorders(f,w,x+w,null,-w,-w,!0),this.insertShaderBorders(f,w,x+w,-w,null,-w,!1),this.insertShaderBorders(f,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}n.append(f)}},e.prototype.insertShaderBorders=function(n,i,l,c,f,p,y){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=wn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(i,"px"),w.style.height="".concat(l,"px"),c!==null&&(w.style.top="".concat(c,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),y?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),n.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Ic="data:image/svg+xml;base64,",Ux=Ic+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",zx=Ic+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",y0=Ic+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",jx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",C0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Hx=function(){function e(){this.data=C0.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=C0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Vx=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=f0.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var l=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(l),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=f0.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Wx=function(){function e(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=y0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(l){return i.onHoverIn()},this.infoIcon.onmouseout=function(l){return i.onHoverOut()},this.infoIcon.onclick=function(l){return i.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=jx,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=y0,this.infoIcon.style.opacity="0.6")},e}(),Gx=function(){function e(){var n=this;this.infoDiv=new Vx,this.infoIcon=new Wx(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),Yx=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},Xx=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},E0=function(){function e(){}return e.hasPermissions=function(){return Yx(this,void 0,void 0,function(){var n,i,l,c;return Xx(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=f.sent(),i=0,l=n;i<l.length;i++)if(c=l[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),vr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var l=i[n];if(e.isCameraScanType(l))return!0}return!1},e.isCameraScanType=function(n){return n===Vr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Vr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return Wn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Wn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var l=0,c=n;l<c.length;l++){var f=c[l];if(!Wn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return n},e}(),En=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),fr=function(){function e(){}return e.createElement=function(n,i){var l=document.createElement(n);return l.id=i,l.classList.add(En.ALL_ELEMENT_CLASS),n==="button"&&l.setAttribute("type","button"),l},e}(),th=function(e,n,i,l){function c(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function y(S){try{x(l.next(S))}catch(I){p(I)}}function w(S){try{x(l.throw(S))}catch(I){p(I)}}function x(S){S.done?f(S.value):c(S.value).then(y,w)}x((l=l.apply(e,n||[])).next())})},nh=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,p;return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(x){return function(S){return w([x,S])}}function w(x){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(l=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(S){x=[6,S],c=0}finally{l=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},A0=function(){function e(n,i,l){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=l}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return th(this,void 0,void 0,function(){var n,i;return nh(this,function(l){switch(l.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return l.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=l.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?Qe.torchOffButton():Qe.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(n,i){var l=n?Qe.torchOnFailedMessage():Qe.torchOffFailedMessage();i&&(l+="; Error = "+i),this.onTorchActionFailureCallback(l)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Zx=function(){function e(n,i){this.onTorchActionFailureCallback=i,this.torchButton=fr.createElement("button",En.TORCH_BUTTON_ID),this.torchController=new A0(n,this,i)}return e.prototype.render=function(n,i){var l=this;this.torchButton.innerText=Qe.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return th(l,void 0,void 0,function(){return nh(this,function(p){switch(p.label){case 0:return[4,c.torchController.flipState()];case 1:return p.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(En.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(En.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(En.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(En.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new A0(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=Qe.torchOnButton(),this.torchController.reset()},e.create=function(n,i,l,c){var f=new e(i,c);return f.render(n,l),f},e}(),Qx=function(){function e(n,i,l){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=fr.createElement("button",En.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=fr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var w=y.target;if(!(w.files&&w.files.length===0)){var x=w.files,S=x[0],I=S.name;f.setImageNameToButton(I),l(S)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(y){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=y.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var S=!1,I=0;I<x.length;++I){var L=x.item(I);if(L){var U=/image.*/;if(L.type.match(U)){S=!0;var G=L.name;f.setImageNameToButton(G),l(L),p.innerText=Qe.dragAndDropMessage();break}}}S||(p.innerText=Qe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=Qe.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var l=n.substring(0,8),c=n.length,f=n.substring(c-8,c);n="".concat(l,"....").concat(f)}var p=Qe.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var n=Qe.fileSelectionChooseImage()+" - "+Qe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,i,l){var c=new e(n,i,l);return c},e}(),Kx=function(){function e(n){this.selectElement=fr.createElement("select",En.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var l=this.cameras.length;if(l===0)throw new Error("No cameras found");if(l===1)i.style.display="none";else{var c=Qe.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,p=0,y=this.cameras;p<y.length;p++){var w=y[p],x=w.id,S=w.label==null?x:w.label;(!S||S==="")&&(S=[Qe.anonymousCameraPrefix(),f++].join(" "));var I=document.createElement("option");I.value=x,I.innerText=S,this.options.push(I),this.selectElement.appendChild(I)}i.appendChild(this.selectElement),n.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var i=0,l=this.options;i<l.length;i++){var c=l[i];if(c.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,i){var l=new e(i);return l.render(n),l},e}(),qx=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=fr.createElement("input",En.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var l=Qe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=Qe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,i,l,c){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=l.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,i){var l=new e;return l.render(n,i),l},e}(),yn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(yn||(yn={}));function Jx(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function $x(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var em=function(){function e(n,i,l){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=l===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new vr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Jd(this.verbose),this.persistedDataManager=new Hx,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,i){var l=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,p){if(n)n(f,p);else{if(l.lastMatchFound===f)return;l.lastMatchFound=f,l.setHeaderMessage(Qe.lastMatch(f),yn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,p){i&&i(f,p)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new w0(this.getScanRegionId(),$x(this.config,this.verbose))},e.prototype.pause=function(n){(rr(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,i=function(){var l=document.getElementById(n.elementId);l&&(l.innerHTML="",n.resetBasicLayout(l))};return this.html5Qrcode?new Promise(function(l,c){if(!n.html5Qrcode){l();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(f){if(!n.html5Qrcode){l();return}n.html5Qrcode.clear(),i(),l()}).catch(function(f){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(n.html5Qrcode.clear(),i(),l())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=Wn.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!Wn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=Wn.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=Wn.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:Wn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Wn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Wn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),l=this.getScanRegionId();i.id=l,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),vr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",n.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var l=new Gx;l.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},e.prototype.createCameraListUi=function(n,i,l){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(Qe.cameraPermissionRequesting());var f=function(){l||c.createPermissionButton(n,i)};w0.getCameras().then(function(p){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),p&&p.length>0?(n.removeChild(i),c.renderCameraSelection(p)):(c.setHeaderMessage(Qe.noCameraFound(),yn.STATUS_WARNING),f())}).catch(function(p){c.persistedDataManager.setHasPermission(!1),l?l.disabled=!1:f(),c.setHeaderMessage(p,yn.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,i){var l=this,c=fr.createElement("button",this.getCameraPermissionButtonId());c.innerText=Qe.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,l.createCameraListUi(n,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(n,i){var l=this;if(vr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){E0.hasPermissions().then(function(c){c?l.createCameraListUi(n,i):(l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(n,i))}).catch(function(c){l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var l=document.createElement("div");l.id=this.getDashboardSectionCameraScanRegionId(),l.style.display=vr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(l);var c=document.createElement("div");c.style.textAlign="center",l.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(l,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(n){var i=vr.isFileScanType(this.currentScanType),l=this,c=function(f){if(!l.html5Qrcode)throw"html5Qrcode not defined";vr.isFileScanType(l.currentScanType)&&(l.setHeaderMessage(Qe.loadingImage()),l.html5Qrcode.scanFileV2(f,!0).then(function(p){l.resetHeaderMessage(),l.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){l.setHeaderMessage(p,yn.STATUS_WARNING),l.qrCodeErrorCallback(p,qd.createFrom(p))}))};this.fileSelectionUi=Qx.create(n,i,c)},e.prototype.renderCameraSelection=function(n){var i=this,l=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=qx.create(c,!1),p=function(H){var K=H.zoomFeature();if(K.isSupported()){f.setOnCameraZoomValueChangeCallback(function(_){K.apply(_)});var D=1;i.config.defaultZoomValueIfSupported&&(D=i.config.defaultZoomValueIfSupported),D=wx(D,K.min(),K.max()),f.setValues(K.min(),K.max(),D,K.step()),f.show()}},y=Kx.create(c,n),w=document.createElement("span"),x=fr.createElement("button",En.CAMERA_START_BUTTON_ID);x.innerText=Qe.scanButtonStartScanningText(),w.appendChild(x);var S=fr.createElement("button",En.CAMERA_STOP_BUTTON_ID);S.innerText=Qe.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,w.appendChild(S);var I,L=function(H){if(!H.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(H.torchFeature()):I=Zx.create(w,H.torchFeature(),{display:"none",marginLeft:"5px"},function(K){l.setHeaderMessage(K,yn.STATUS_WARNING)}),I.show()};c.appendChild(w);var U=function(H){H||(x.style.display="none"),x.innerText=Qe.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,H&&(x.style.display="inline-block")};if(x.addEventListener("click",function(H){x.innerText=Qe.scanButtonScanningStarting(),y.disable(),x.disabled=!0,x.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!1),l.resetHeaderMessage();var K=y.getValue();l.persistedDataManager.setLastUsedCameraId(K),l.html5Qrcode.start(K,Jx(l.config),l.qrCodeSuccessCallback,l.qrCodeErrorCallback).then(function(D){S.disabled=!1,S.style.display="inline-block",U(!1);var _=l.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&L(_),i.config.showZoomSliderIfSupported===!0&&p(_)}).catch(function(D){l.showHideScanTypeSwapLink(!0),y.enable(),U(!0),l.setHeaderMessage(D,yn.STATUS_WARNING)})}),y.hasSingleItem()&&x.click(),S.addEventListener("click",function(H){if(!l.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,l.html5Qrcode.stop().then(function(K){i.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!0),y.enable(),x.disabled=!1,S.style.display="none",x.style.display="inline-block",I&&(I.reset(),I.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),l.insertCameraScanImageToScanRegion()}).catch(function(K){S.disabled=!1,l.setHeaderMessage(K,yn.STATUS_WARNING)})}),l.persistedDataManager.getLastUsedCameraId()){var G=l.persistedDataManager.getLastUsedCameraId();y.hasValue(G)?(y.setValue(G),x.click()):l.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,i=Qe.textIfCameraScanSelected(),l=Qe.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var p=fr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=vr.isCameraScanType(this.currentScanType)?i:l,p.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,vr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),p.innerText=l,n.currentScanType=Vr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),p.innerText=i,n.currentScanType=Vr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),f.appendChild(p),c.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){E0.hasPermissions().then(function(l){if(l){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(l){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,i){i||(i=yn.STATUS_DEFAULT);var l=this.getHeaderMessageDiv();switch(l.innerText=n,l.style.display="block",i){case yn.STATUS_SUCCESS:l.style.background="rgba(106, 175, 80, 0.26)",l.style.color="#477735";break;case yn.STATUS_WARNING:l.style.background="rgba(203, 36, 49, 0.14)",l.style.color="#cb2431";break;case yn.STATUS_DEFAULT:default:l.style.background="rgba(0, 0, 0, 0)",l.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(l){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Ux,this.cameraScanImage.alt=Qe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(l){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=zx,this.fileScanImage.alt=Qe.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return En.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return En.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const tm=()=>{const[e,n]=ce.useState(""),i=io(),{products:l}=Fa();return ce.useEffect(()=>{const c=new em("reader",{qrbox:{width:250,height:250},fps:5});c.render(f,p);function f(y){c.clear();const w=l.find(x=>x.barcode===y);w?i(`/product/${w.id}`):n("Product not found in our database")}function p(y){console.warn(y)}return()=>{c.clear()}},[i,l]),$.jsxs("div",{className:"p-4",children:[$.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-6",children:"Scan Barcode"}),e&&$.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg",children:e}),$.jsx("div",{id:"reader",className:"w-full"})]})},nm="https://formspree.io/f/mldebkwz",rm=()=>{const e=io(),n=Pa(),i=new URLSearchParams(n.search).get("productId"),[l,c]=ce.useState(!1),[f,p]=ce.useState({name:"",email:"",description:"",type:"new",productId:i}),y=async w=>{w.preventDefault(),c(!0);try{if((await fetch(nm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,subject:f.type==="new"?"New Product Suggestion":"Product Report"})})).ok)alert("Thank you for your submission! We will review it shortly."),e("/");else throw new Error("Failed to submit form")}catch{alert("Failed to submit form. Please try again later.")}finally{c(!1)}};return $.jsxs("div",{className:"p-4",children:[$.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-6",children:f.type==="new"?"Suggest New Product":"Report Product"}),$.jsxs("div",{className:"mb-6 flex gap-2",children:[$.jsx("button",{onClick:()=>p(w=>({...w,type:"new"})),className:`px-4 py-2 rounded-full ${f.type==="new"?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Suggest New"}),$.jsx("button",{onClick:()=>p(w=>({...w,type:"report"})),className:`px-4 py-2 rounded-full ${f.type==="report"?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Report Issue"})]}),$.jsxs("form",{onSubmit:y,className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),$.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:f.name,onChange:w=>p(x=>({...x,name:w.target.value})),disabled:l})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),$.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:f.email,onChange:w=>p(x=>({...x,email:w.target.value})),disabled:l})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),$.jsx("textarea",{required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:f.description,onChange:w=>p(x=>({...x,description:w.target.value})),placeholder:f.type==="new"?"Please provide product details (name, brand, ingredients)...":"Please describe the issue with this product...",disabled:l})]}),$.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Submitting...":"Submit"})]})]})};function im(){return $.jsx(hx,{children:$.jsx(tx,{children:$.jsx("div",{className:"min-h-screen bg-green-50",children:$.jsxs("div",{className:"max-w-lg mx-auto pb-20",children:[$.jsxs(Jp,{children:[$.jsx(Is,{path:"/",element:$.jsx(px,{})}),$.jsx(Is,{path:"/product/:id",element:$.jsx(xx,{})}),$.jsx(Is,{path:"/scanner",element:$.jsx(tm,{})}),$.jsx(Is,{path:"/report",element:$.jsx(rm,{})})]}),$.jsx(lx,{})]})})})})}Pd(document.getElementById("root")).render($.jsx(ce.StrictMode,{children:$.jsx(im,{})}));
